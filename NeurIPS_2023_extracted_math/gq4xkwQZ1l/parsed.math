('2', '({{\\mathbf{O}}}, {\\phi})^i')
('2', '{{\\mathbf{S}}}')
('2', '{\\mathbf{O}}^\\text{ctxt}')
('2', '{\\mathbf{O}}^\\text{trgt}')
('2', '{\\mathbf{O}}^\\text{trgt}')
('2', '({\\mathbf{O}}^\\text{ctxt}, {\\phi^\\text{ctxt}}, {\\mathbf{O}}^\\text{trgt}_t, {\\phi^\\text{trgt}})')
('2', '{\\texttt{denoise}}')
('2', '{{{\\mathbf{S}}}_{t\\text{-}1}}')
('2', '\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}')
('2', '({{\\mathbf{O}}}_j^i, \\phi_j^i)')
('2', '{{\\mathbf{S}}}_j')
('2', '\\textcolor{forward}{\\texttt{forward}}()')
('2', '{{\\mathbf{O}}}_j^i = \\textcolor{forward}{\\texttt{forward}}({{\\mathbf{S}}}_j, {\\phi}_j^i)')
('2', '{\\phi}_j^i')
('2', '{{\\mathbf{O}}}_j^i')
('2', '{{\\mathbf{O}}}_j^i')
('2', '{{\\mathbf{S}}}_j')
('2', '{\\phi}_j^i')
('2', 'j')
('2', 'j')
('2', 'i')
('2', '\\textcolor{forward}{\\texttt{forward}}()')
('2', 'j')
('2', '\\mathbf{O}')
('2', 'p({{\\mathbf{S}}}|{{\\mathbf{O}}}, \\phi)')
('2', '\\textcolor{forward}{\\texttt{forward}}()')
('2', '\\{({{\\mathbf{O}}}^i, \\phi^i)\\}_{i}^N')
('2', '({{\\mathbf{O}}}, {\\phi}, {{\\mathbf{S}}})')
('2', '\\{{{\\mathbf{S}}}^j \\}_{j}')
('2', 'p({{\\mathbf{S}}}|{{\\mathbf{O}}}, \\phi)')
('2', '{{\\mathbf{S}}}')
('2.0', 'p_\\theta({\\mathbf{x}})')
('2.0', '{\\mathbf{x}}')
('2.0', 'q({\\mathbf{x}}_{0:T})')
('2.0', '\\begin{aligned}\n    q({\\mathbf{x}}_t \\mid {\\mathbf{x}}_{t-1}) &= \\mathcal{N}({\\mathbf{x}}_t; \\sqrt{1-\\beta_t} {\\mathbf{x}}_{t-1}, \\beta_t \\mathbf{I}).\n    \\label{eq:forward}\n\\end{aligned}')
('2.0', '\\beta_t')
('2.0', 't \\in {1\\dots T}')
('2.0', 'p(x_T) = \\mathcal{N}(\\mathbf{0, \\mathbf{I}})')
('2.0', 'p_\\theta({\\mathbf{x}}_{0:T}) = p(x_T) \\prod_{t=1}^T p_\\theta({\\mathbf{x}}_{t-1} \\mid {\\mathbf{x}}_t)')
('2.0', '\\begin{aligned}\np_\\theta({\\mathbf{x}}_{t-1} \\mid {\\mathbf{x}}_t) &= \\mathcal{N}({\\mathbf{x}}_{t-1}; \\mu({\\mathbf{x}}_t, t), \\Sigma ({\\mathbf{x}}_t, t)).\n\\label{eq:trad_denoise}\n\\end{aligned}')
('2.0', '{\\texttt{denoise}}_\\theta()')
('2.0', '\\theta')
('2.0', 'p_\\theta({\\mathbf{x}}_{0:T} \\mid {\\mathbf{c}})')
('2.0', '\\texttt{denoise}_\\theta({\\mathbf{x}}_t, t, {\\mathbf{c}})')
('2.0', 'p({{\\mathbf{S}}}\\mid {{\\mathbf{O}}}, {\\phi})')
('2.0', 'p({{\\mathbf{S}}})')
('2.0', '\\{{{\\mathbf{S}}}^j\\}_j')
('2.0', '{{\\mathbf{S}}}')
('2.0', 'q({{\\mathbf{S}}}_t \\mid {{\\mathbf{S}}}_{t-1})')
('2.1', 'p({{\\mathbf{S}}}\\mid {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}})')
('2.1', '{{\\mathbf{S}}}')
('2.1', '({\\mathbf{O}}^\\text{ctxt}, {\\phi^\\text{ctxt}})')
('2.1', '\\textcolor{forward}{\\texttt{forward}}()')
('2.1', '{\\mathbf{O}}^\\text{ctxt}')
('2.1', '{\\mathbf{O}}^\\text{trgt}')
('2.1', 'q({\\mathbf{O}}^\\text{trgt}_t \\mid {\\mathbf{O}}^\\text{trgt}_{t\\text{-}1}) = \\mathcal{N}({\\mathbf{O}}^\\text{trgt}_t; \\sqrt{1-\\beta_t} {\\mathbf{O}}^\\text{trgt}_{t-1}, \\beta_t \\mathbf{I})')
('2.1', '{\\mathbf{O}}^\\text{trgt}')
('2.1', '{\\mathbf{O}}^\\text{ctxt}')
('2.1', '\\label{eq:target-conditioned-on-context}\n    p_\\theta(\\mathbf{O}^\\text{trgt}_{0:T} \\mid {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}) =  p({\\mathbf{O}}^\\text{trgt}_T) \\prod_{t=0}^T p_\\theta({\\mathbf{O}}^\\text{trgt}_{t-1} \\mid {\\mathbf{O}}^\\text{trgt}_{t}, {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}),')
('2.1', 'p_\\theta({\\mathbf{O}}^\\text{trgt}_{t-1} \\mid {\\mathbf{O}}^\\text{trgt}_{t}, {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}})')
('2.1', '{{{\\mathbf{S}}}_{t\\text{-}1}}')
('2.1', '\\textcolor{forward}{\\texttt{forward}}')
('2.1', '\\begin{aligned}\n{{{\\mathbf{S}}}_{t\\text{-}1}}&= {\\texttt{denoise}}_\\theta({\\mathbf{O}}^\\text{ctxt}, {\\mathbf{O}}^\\text{trgt}_{t}; t, {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}),  \\label{eq:z_to_x}\\\\\n\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}&= \\textcolor{forward}{\\texttt{forward}}({{{\\mathbf{S}}}_{t\\text{-}1}}, {\\phi^\\text{trgt}}) \\label{eq:target-estimate} \\\\\n{\\mathbf{O}}^\\text{trgt}_{t\\text{-}1} & \\sim  \\mathcal{N}({\\mathbf{O}}^\\text{trgt}_{t\\text{-}1}; C_{t\\text{-}1} \\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1},\\; \\hat{\\beta}_{t\\text{-}1}\\mathbf{I}) \\label{eq:denoise}\n\\end{aligned}')
('2.1', '\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}')
('2.1', 'C_{t\\text{-}1}')
('2.1', '\\hat{\\beta}_{t\\text{-}1}')
('2.1', 't\\text{-}1')
('2.1', 'p({\\mathbf{O}}^\\text{trgt}_{t=T})\\sim\\mathcal{N}(\\mathbf{0}, \\mathbf{I})')
('2.1', '\\begin{aligned}\n    \\label{eq:p_signal}\n    p_{\\theta, {\\phi^\\text{trgt}}}({{\\mathbf{S}}}_{0:T} \\mid {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}}) &= \\prod_{t=1}^T p_\\theta({{\\mathbf{S}}}_{t\\text{-}1} \\mid {\\mathbf{O}}^\\text{trgt}_{t}, {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}).\n\\end{aligned}')
('2.1', 'p({{\\mathbf{S}}}_{0:T} \\mid {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}})')
('2.1', '\\begin{aligned}\n    \\label{eq:loss}\n    \\mathcal{L}_\\theta^\\text{trgt} =  \\mathbb{E}_{{\\mathbf{O}}^\\text{ctxt}, {\\mathbf{O}}^\\text{trgt}, {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}, t} & \\Big[\\| {\\mathbf{O}}^\\text{trgt}- \\underbrace{\\textcolor{forward}{\\texttt{forward}}({\\texttt{denoise}}_\\theta({\\mathbf{O}}^\\text{ctxt}, {\\mathbf{O}}^\\text{trgt}_t; t, {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}), {\\phi^\\text{trgt}})}_{= \\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}} \\|^2 \\Big],\\\\\n    \\label{eq:novel-loss}\n    \\mathcal{L}_\\theta^\\text{novel} =  \\mathbb{E}_{{\\mathbf{O}}^\\text{ctxt}, {\\mathbf{O}}^\\text{novel}, {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}, {\\phi^\\text{novel}}, t} & \\Big[\\| {\\mathbf{O}}^\\text{novel}- \\underbrace{\\textcolor{forward}{\\texttt{forward}}({\\texttt{denoise}}_\\theta({\\mathbf{O}}^\\text{ctxt}, {\\mathbf{O}}^\\text{trgt}_t; t, {\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}), {\\phi^\\text{novel}})}_{= \\hat{{{\\mathbf{O}}}}^\\text{novel}_{t\\text{-}1}} \\|^2 \\Big].\n\\end{aligned}')
('2.1', '{\\phi^\\text{novel}}')
('2.1', '{{\\mathbf{S}}}')
('2.1', '{{\\mathbf{S}}}')
('2.1', '{{\\mathbf{S}}}')
('2.1', '\\theta')
('2.1', '\\mathcal{L}^{\\text{trgt}}_\\theta+\\mathcal{L}^{\\text{novel}}')
('2.1', 'p({{\\mathbf{S}}}\\mid {\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}})')
('2.1', 'p^\\text{true}({{\\mathbf{S}}}\\mid{\\mathbf{O}}^\\text{ctxt}; {\\phi^\\text{ctxt}})')
('2.1', '{\\texttt{denoise}}')
('2.1', '{\\mathbf{O}}^\\text{ctxt}')
('2.1', '{\\phi^\\text{ctxt}}')
('2.1', '{\\phi^\\text{trgt}}')
('2.1', '{\\mathbf{O}}^\\text{trgt}_\\text{det}')
('2.1', '\\mathbf{f}^\\text{ctxt}')
('2.1', '\\texttt{enc}_{t=0}')
('2.1', '{\\mathbf{O}}^\\text{trgt}_t')
('2.1', '\\mathbf{f}^\\text{trgt}_t')
('2.1', '\\texttt{enc}_{t}')
('2.1', '\\mathbf{f}^\\text{trgt}_t')
('2.1', '\\mathbf{f}^\\text{ctxt}')
('2.1', '{{{\\mathbf{S}}}_{t\\text{-}1}}')
('2.1', '\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}')
('4.0', '{{\\mathbf{S}}}')
('4.0', '{{\\mathbf{O}}}')
('4.0', '\\phi')
('4.0', '({\\mathbf{O}}^\\text{ctxt}, {\\phi^\\text{ctxt}}, {\\mathbf{O}}^\\text{trgt}, {\\phi^\\text{trgt}})')
('4.0', '{\\mathbf{O}}^\\text{ctxt},{\\mathbf{O}}^\\text{trgt}')
('4.0', '{\\phi^\\text{ctxt}}, {\\phi^\\text{trgt}}')
('4.0', '\\textcolor{forward}{\\texttt{forward}}')
('4.0', '{\\texttt{denoise}}')
('4.0', '{{\\mathbf{S}}}')
('4.0', '\\textcolor{forward}{\\texttt{render}}')
('4.0', '{{\\mathbf{S}}}')
('4.0', '\\mathbf{p}')
('4.0', '{\\mathbf{c}}')
('4.0', '\\sigma')
('4.0', '{{\\mathbf{S}}}(\\mathbf{p}) = (\\sigma, \\mathbf{c})')
('4.0', 'M')
('4.0', '\\{({{\\mathbf{O}}}_i, {\\phi}_i) \\}_{i}^M')
('4.0', '\\{\\mathbf{F}_i\\}_i')
('4.0', '\\texttt{enc}')
('4.0', '\\mathbf{F}_i = \\texttt{enc}({{\\mathbf{O}}}_i)')
('4.0', '{\\mathbf{p}}')
('4.0', '\\mathbf{p}^\\text{pix}_i = \\pi({\\mathbf{p}}, \\phi_i)')
('4.0', '\\pi')
('4.0', '\\mathbf{f}_i=\\mathbf{F}_i(\\mathbf{p}^\\text{pix}_i)')
('4.0', '\\mathbf{p}^\\text{pix}_i')
('4.0', '{{\\mathbf{S}}}')
('4.0', '\\texttt{MLP}')
('4.0', '\\begin{aligned}\n    {{\\mathbf{S}}}({\\mathbf{p}}) = (\\sigma(\\mathbf{p}), \\mathbf{c}(\\mathbf{p})) = \\texttt{MLP}(\\{(\\mathbf{f}_i \\oplus \\mathbf{p}_i \\}_{i}^M ),\n    \\label{eq:MLP}\n\\end{aligned}')
('4.0', '\\oplus')
('4.0', '\\mathbf{p}_i')
('4.0', '\\mathbf{p}')
('4.0', 'i')
('4.0', 'M')
('4.0', '{{\\mathbf{S}}}')
('4.0', '({\\mathbf{O}}^\\text{ctxt}, {\\phi^\\text{ctxt}})')
('4.0', '({\\mathbf{O}}^\\text{trgt}, {\\phi^\\text{trgt}})')
('4.0', '\\begin{aligned}\n{{\\mathbf{S}}}( \\cdot \\mid \\texttt{enc}({\\mathbf{O}}^\\text{ctxt}), \\texttt{enc}({\\mathbf{O}}^\\text{trgt})),\n\\end{aligned}')
('4.0', '\\texttt{enc}')
('4.0', '{\\phi^\\text{trgt}}')
('4.0', '{\\phi^\\text{ctxt}}')
('4.0', '{{\\mathbf{O}}}= \\textcolor{forward}{\\texttt{render}}({{\\mathbf{S}}}, {\\phi}),')
('4.0', '{{\\mathbf{S}}}')
('4.0', '{\\phi}')
('4.0', '\\texttt{denoise}')
('4.0', '\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}')
('4.0', '\\begin{aligned}\n   \\label{eq:render_denoise_image}\n   \\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}= \\textcolor{forward}{\\texttt{render}}({{{\\mathbf{S}}}_{t\\text{-}1}}, {\\phi^\\text{trgt}}), \\quad \\text{where} \\\\\n   {{{\\mathbf{S}}}_{t\\text{-}1}}= {{\\mathbf{S}}}(\\cdot \\mid \\texttt{enc}_{t=0}({\\mathbf{O}}^\\text{ctxt}), \\texttt{enc}_t({\\mathbf{O}}^\\text{trgt}_t)),\n   \\label{eq:render_denoise}\n\\end{aligned}')
('4.0', '\\texttt{enc}_t')
('4.0', 't')
('4.0', '\\hat{{{\\mathbf{O}}}}^\\text{trgt}_{t\\text{-}1}')
('4.0', '{\\mathbf{O}}^\\text{trgt}_t')
('4.0', '\\texttt{enc}_t({{\\mathbf{O}}})')
('4.0', '\\texttt{enc}_t({\\mathbf{O}}^\\text{trgt}_t)')
('4.0', '{\\mathbf{O}}^\\text{trgt}_t')
('4.0', '{\\mathbf{O}}^\\text{trgt}_t')
('4.0', '{\\mathbf{O}}^\\text{trgt}_\\text{det}= \\textcolor{forward}{\\texttt{render}}\\left({{\\mathbf{S}}}(\\cdot \\mid \\texttt{enc}_{t=0}({\\mathbf{O}}^\\text{ctxt})), {\\phi^\\text{trgt}}\\right)')
('4.0', '\\mathbf{p}')
('4.0', '(\\sigma(\\mathbf{p}), \\mathbf{c}(\\mathbf{p})) = \\texttt{MLP}_t(\\mathbf{p})')
('4.0', '\\texttt{MLP}_t')
('4.0', '{\\mathbf{O}}^\\text{trgt}_t')
('4.0', '{{{\\mathbf{S}}}_{t\\text{-}1}}= {{\\mathbf{S}}}(\\cdot \\mid \\texttt{enc}_{t=0}({\\mathbf{O}}^\\text{ctxt}), \\texttt{enc}_{t}({\\mathbf{O}}^\\text{trgt}_\\text{det}\\oplus {\\mathbf{O}}^\\text{trgt}_t))')
('4.1', '\\uparrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '\\downarrow')
('4.1', '{{\\mathbf{S}}}')
('4.1', '\\textcolor{forward}{\\texttt{warp}}')
('4.1', '{{\\mathbf{S}}}')
('4.1', '{\\mathbf{u}}')
('4.1', '{{\\mathbf{S}}}({\\mathbf{u}}) = ({{\\mathbf{S}}}_c({\\mathbf{u}}), {{\\mathbf{S}}}_m({\\mathbf{u}}))')
('4.1', '{{\\mathbf{S}}}_c({\\mathbf{u}}) \\in \\mathbb{R}^3')
('4.1', '{{\\mathbf{S}}}_m({\\mathbf{u}}) \\in \\mathbb{R}^2')
('4.1', '\\textcolor{forward}{\\texttt{warp}}({{\\mathbf{S}}}, \\phi)({\\mathbf{u}}+ \\phi {{\\mathbf{S}}}_m({\\mathbf{u}})) = {{\\mathbf{S}}}_c({\\mathbf{u}})')
('4.1', '\\phi')
('4.1', '{\\texttt{denoise}}')
('4.1', '{\\mathbf{O}}^\\text{ctxt}')
('4.1', '{\\mathbf{O}}^\\text{trgt}_t')
('4.1', 't')
('4.1', '{{\\mathbf{S}}}_m')
('4.1', '{{\\mathbf{S}}}= ({\\mathbf{O}}^\\text{ctxt}, {{\\mathbf{S}}}_m)')
('4.1', '{\\phi^\\text{ctxt}}=0')
('4.1', '{\\phi^\\text{trgt}}=1')
('4.1', '\\textcolor{forward}{\\texttt{warp}}')
('4.1', '\\phi')
('4.2', '{\\mathbf{O}}^\\text{ctxt}')
('4.2', '{\\mathbf{O}}^\\text{trgt}')
('4.2', '{\\mathbf{O}}^\\text{ctxt}')
('4.2', '{\\mathbf{O}}^\\text{trgt}')
('4.2', '{{\\mathbf{S}}}')
('4.2', '\\textcolor{forward}{\\texttt{synthesize}}')
('4.2', '{{\\mathbf{S}}}\\in \\mathbb{R}^{512}')
('4.2', '\\text{w}')
('4.2', '\\textcolor{forward}{\\texttt{synthesize}}({{\\mathbf{S}}}, \\phi) = \\texttt{GAN}({{\\mathbf{S}}}) [\\phi]')
('4.2', '{{\\mathbf{S}}}')
('4.2', '\\phi')
('4.2', '{\\texttt{denoise}}')
('4.2', '{\\mathbf{O}}^\\text{ctxt}')
('4.2', '{\\mathbf{O}}^\\text{trgt}_t')
('4.2', '\\mathbf{w}')
