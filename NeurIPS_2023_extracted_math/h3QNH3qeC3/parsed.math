('1', '\\mathtt{\\{A, B, C\\}}')
('1', '\\mathtt{\\{A, B\\}}')
('1', '\\rightarrow')
('3', '\\Delta^{\\text{custom}}_{\\text{dog}}')
('3.0', '\\boldsymbol\\epsilon_{\\theta}')
('3.0', '\\label{eq:rec_loss}\nL_{\\text{rec}} = \\mathbb{E}_{\\mathbf{x}, \\mathbf{c}, \\boldsymbol\\epsilon \\sim \\mathcal{N}(0,1), t}[\\|\\boldsymbol\\epsilon_\\theta(\\mathbf{x}_t, E(\\mathbf{c}), t)-\\boldsymbol\\epsilon\\|_2^2],')
('3.0', 't \\sim \\mathcal{U}([0,1])')
('3.0', 'E')
('3.0', '\\mathbf{x}_t = \\alpha_t \\mathbf{x} + \\sigma_{t} \\boldsymbol\\epsilon')
('3.0', '\\mathbf{x}')
('3.0', '\\alpha_t')
('3.0', '\\sigma_t')
('3.0', '\\boldsymbol\\epsilon_\\theta')
('3.0', 'E(\\mathbf{c})')
('3.0', 't')
('3.0', 'E(\\mathbf{c})')
('3.0', '\\boldsymbol\\epsilon_\\theta')
('3.0', '\\boldsymbol\\epsilon_\\theta')
('3.0', '\\mathbf{x}_T \\sim \\mathcal{N}(0,\\mathbf{I})')
('3.1', '\\Delta^{\\text{custom}}')
('3.1', '\\boldsymbol\\epsilon_\\theta')
('3.1', "(E(\\text{``a photo of dog''}) + \\Delta^{\\text{custom}}_{\\text{dog}})")
('3.1', 'E^{\\text{custom}}')
('3.1', 'E^{\\text{custom}}')
('3.1', 's')
('3.1', '\\boldsymbol\\epsilon_{\\theta}')
('3.1', 'E^{\\text{custom}}')
('3.1', '\\label{eq:sub_loss}\nL_{\\text{sub}}(E^{\\text{custom}}) = \\mathbb{E}_{(\\mathbf{x}, \\mathbf{c}) \\sim D_{s}, \\boldsymbol\\epsilon \\sim \\mathcal{N}(0,1), t}[\\|\\boldsymbol\\epsilon_{\\theta}(\\mathbf{x}_t, E^{\\text{custom}}(\\mathbf{c}), t)-\\boldsymbol\\epsilon\\|_2^2],')
('3.1', "D_{s} = \\{(\\mathbf{x}^{s}_{j}, \\text{``a photo of $s $''}) | \\mathbf{x}_{j}^{s}\\in X^{s}\\}")
('3.1', 's')
('3.1', 'E^{\\text{custom}}')
('3.1', 'E')
('3.1', 's')
('3.1', 'C_{\\text{dog}}=\\{\\mathbf{c}^i\\}_{i=1}^{1000}')
('3.1', 'E^{\\text{custom}}')
('3.1', 'E')
('3.1', "\\mathbf{c} = \\text{``a dog on the beach''}")
('3.1', 'E(\\mathbf{c}) = (E(\\mathbf{c})_{\\text{a}}, E(\\mathbf{c})_{\\text{dog}}, \\cdots, E(\\mathbf{c})_{\\text{beach}})')
('3.1', '\\|E(\\mathbf{c})_{p} - E^{\\text{custom}(\\mathbf{c})}_{p}\\|^2_2 = 0')
('3.1', 'p')
('3.1', '\\label{eq:reg_loss}\nL_{\\text{reg}}(E^{\\text{custom}}) = \\mathbb{E}_{\\mathbf{c} \\sim C_{\\text{dog}}}[\\sum_{p\\in\\mathbf{c},p \\neq s} \\|E^{\\text{custom}}(\\mathbf{c})_p-E(\\mathrm{c})_p\\|_2^2],')
('3.1', 'p')
('3.1', '\\mathbf{c}')
('3.1', 's')
('3.1', '\\label{eq:loss}\nL = L_{\\text{sub}} + \\lambda L_{\\text{reg}},')
('3.1', '\\lambda')
('3.1', 'E^{\\text{custom}}(\\mathbf{c})_{\\text{dog}}')
('3.1', 'E(\\mathbf{c})_{\\text{dog}}')
('3.1', '\\label{eq:residual}\n\\Delta^{\\text{custom}}_{\\text{dog}} = \\frac{1}{|C_{\\text{dog}}|} \\cdot \\sum_{\\mathbf{c} \\in C_{\\text{dog}}} (E^{\\text{custom}}(\\mathbf{c})_{\\text{dog}} - E(\\mathbf{c})_{\\text{dog}}).')
('3.1', 'N')
('3.1', 's_1,s_2,\\cdots,s_N')
('3.1', '\\Delta^{\\text{custom}}_{s_1},\\Delta^{\\text{custom}}_{s_2},\\cdots,\\Delta^{\\text{custom}}_{s_N}')
('3.1', '\\label{eq:edit_embedding}\nE^{\\text{final}}(\\mathbf{c})_{s_i}=E(\\mathbf{c})_{s_i}+\\Delta^{\\text{custom}}_{s_i},i=1\\cdots,N.')
('3.1', '\\Delta^{custom}_{i}')
('3.1', '\\Delta^{custom}_{j}')
('3.2', 'E(\\mathbf{c})')
('3.2', '\\boldsymbol\\epsilon_\\theta')
('3.2', '\\mathbf{CA} = (\\mathbf{W}_{Q} \\cdot \\varphi(\\mathbf{x}_t)) \\cdot (\\mathbf{W}_K \\cdot E(\\mathbf{c}))')
('3.2', '\\varphi(\\mathbf{x}_t)')
('3.2', '\\mathbf{W}_Q, \\mathbf{W}_K')
('3.2', 'E^{\\text{final}}(\\mathbf{c}) = E(\\mathbf{c}) \\oplus \\{\\Delta^{\\text{custom}}_{s_i}\\}^{N}_{i=1};')
('3.2', 's \\in S')
('3.2', '\\mathbf{M}')
('3.2', '\\mathbf{M}_{s}(i, j)= \\begin{cases} \\gamma^{+} & (i, j) \\in R^{\\text{show}}_{s} \\\\ \\gamma^{-} & (i, j) \\in R^{\\text{irrelevant}}_{s} \\\\ 0 & \\text{Otherwise}\\end{cases}')
('3.2', '\\mathbf{x_{T}} \\sim \\mathcal{N}(0,\\mathbf{I})')
('3.2', '\\mathbf{CA} \\leftarrow \\boldsymbol\\epsilon_{\\theta}(\\mathbf{x}_t, E^{\\text{final}}(\\mathbf{c}), t)')
('3.2', '\\mathbf{CA}_{\\text{edited}} \\leftarrow \\mathrm{EditedCA}(\\mathbf{CA}, \\mathbf{M}, \\mathbf{c})')
('3.2', '\\mathbf{x}_{t-1} \\leftarrow \\boldsymbol\\epsilon_{\\theta}(\\mathbf{x}_t, E^{\\text{final}}(\\mathbf{c}), t)\\{\\mathbf{CA}_{\\text{edited}}\\}')
('3.2', '\\mathbf{M}')
('3.2', '\\mathbf{M}')
('3.2', 'M_s')
('3.2', 's')
('3.2', 'M_s')
('3.2', 'M_s')
('3.2', '\\gamma^{+} \\in \\mathbb{R}^{+}')
('3.2', 's')
('3.2', 'R^{\\text{show}}_{s}')
('3.2', 'M_s')
('3.2', '\\gamma^{-} \\in \\mathbb{R}^{-}')
('3.2', 's')
('3.2', 'R^{\\text{irrelevant}}_{s}')
('3.2', '\\label{eq:crossattn}\n\\mathrm{EditedCA}(\\mathbf{CA}, \\mathbf{M}, \\mathbf{c}) = \\mathrm{Softmax}(\\mathbf{CA} \\oplus \\{\\eta(t) \\cdot \\mathbf{M}_{s_i} | i=1,\\cdots,N\\}) \\cdot (\\mathbf{W}_V \\cdot E(\\mathbf{c})),')
('3.2', '\\oplus')
('3.2', '\\mathbf{CA}')
('3.2', '\\mathbf{M}')
('3.2', '\\eta(t)')
('3.2', 't')
('4.1', 'O(n)')
('4.1', 'O(n)')
('4.1', '\\pm')
('4.1', 'O(n)')
('4.1', 'O(n)')
('4.1', 'O(n^2)')
('4.1', 'O(n^2)')
('4.1', '\\pm')
('4.1', 'O(n^2)')
('4.1', 'O(n)')
('4.1', 'O(n^3)')
('4.1', 'O(n^3)')
('4.1', '\\pm')
('4.1', 'O(n^3)')
('4.1', 'O(n)')
('4.1', 'O(n^4)')
('4.1', 'O(n^4)')
('4.1', '\\pm')
('4.1', 'O(n^4)')
('4.1', 'O(n)')
('7', '5 \\times 10^{-5}')
('7', '800 \\times \\text{number of subjects}')
('7', '1\\times 10^{-5}')
('7', '250 \\times \\text{number of subjects}')
('7', '4 \\times 10^{-5}')
('7', '1200 \\times \\text{number of subjects}')
('7', '1 \\times 10^{-6}')
('7', '+2.5')
('7', '-1 \\times 10^{-5}')
('7', '50')
('7', '4 \\times 4 \\times 5 \\times 6 = 480')
