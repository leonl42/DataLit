('1', 'l_p')
('1', 'l_p')
('1', 'l_p')
('1', 'l_p')
('1', 'l_p')
('1', '\\quad\\bullet')
('1', '\\quad\\bullet')
('1', '\\quad\\bullet')
('1', '\\sim')
('2', '\\mathcal{F}_\\theta(\\cdot)')
('2', '\\theta')
('2', 'x')
('2', 'y')
('2', 'x')
('2', 'x_{adv}')
('2', '\\mathcal{F}_\\theta(\\cdot)')
('2', '\\label{equ:optim}\n    \\max \\limits_{x_{adv}} \\mathcal{L}(\\mathcal{F}_\\theta(x_{adv}),y), \\quad s.t.\\ x_{adv}\\ \\mathrm{is\\ natural,}')
('2', '\\mathcal{L(\\cdot)}')
('2', '\\mathcal{F}_\\phi(\\cdot)')
('2', '\\mathcal{F}_\\theta(\\cdot)')
('3.0', '\\mathcal{C=\\psi(\\mathcal{P})}')
('3.0', '\\mathcal{P}')
('3.0', 'z_{t+1}=\\sqrt{\\frac{\\alpha_{t+1}}{\\alpha_t}}z_t+\\sqrt{\\alpha_{t+1}}(\\sqrt{\\frac{1}{\\alpha_{t+1}}-1} - \\sqrt{\\frac{1}{\\alpha_{t}}-1})\\cdot \\epsilon_\\theta(z_t,t,\\mathcal{C}),')
('3.0', 'z_0')
('3.0', '\\{\\beta_0, . . . , \\beta_T\\} \\in (0, 1)')
('3.0', '\\alpha_t=\\prod_{1}^t (1-\\beta_i)')
('3.0', 'z_0 \\rightarrow z_T')
('3.0', 'z_T \\rightarrow z_0')
('3.0', 'z_0')
('3.0', 'z_T')
('3.0', 'w')
('3.0', '\\varnothing=\\psi("")')
('3.0', '\\tilde{\\epsilon}_\\theta (z_t,t,\\mathcal{C},\\varnothing)= w\\cdot \\epsilon_\\theta(z_t,t,\\mathcal{C}) + (1-w)\\cdot \\epsilon_\\theta(z_t,t,\\varnothing),')
('3.0', 'w=7.5')
('3.0', '\\epsilon_\\theta')
('3.0', 'w')
('3.0', '\\varnothing_t')
('3.0', 't')
('3.0', 'w=1')
('3.0', '\\{z_0^*, ..., z_T^*\\}')
('3.0', 'z_0^* =z_0')
('3.0', 'w=7.5')
('3.0', '\\bar{z_T}=z_t')
('3.0', 'N')
('3.0', 't=\\{T,...,1\\}')
('3.0', '\\min \\limits_{\\varnothing_t} ||z_{t-1}^*-z_{t-1}(\\bar{z_t},t, \\mathcal{C},\\varnothing_t)||^2_2,')
('3.0', '\\label{equ:iteration}\n    \\ z_{t-1}(\\bar{z_t},t, \\mathcal{C},\\varnothing_t)=\\sqrt{\\frac{\\alpha_{t-1}}{\\alpha_t}}\\bar{z_t} + \\sqrt{\\alpha_{t-1}}\\left(\\sqrt{\\frac{1}{\\alpha_{t-1}}-1}-\\sqrt{\\frac{1}{\\alpha_t}-1} \n    \\right) \\cdot \\tilde{\\epsilon}_\\theta(z_t,t,\\mathcal{C},\\varnothing_t).')
('3.0', '\\bar{z_{t-1}}')
('3.0', 'z_{t-1}(\\bar{z_t},t, \\mathcal{C},\\varnothing_t)')
('3.0', '\\bar{z_T}')
('3.0', '\\varnothing_t')
('3.0', '\\mathcal{C}=\\psi(\\mathcal{P})')
('3.1', '\\varnothing_t')
('3.1', '\\mathcal{C}')
('3.1', '\\bar{z_T}')
('3.1', '\\Omega(\\cdot)')
('3.1', 'T')
('3.1', '\\Omega(z_T,T,\\mathcal{C}, \\{\\varnothing_t\\}_{t=1}^T)=z_0\\left(z_1\\left(...,\\left(z_{T-1},T-1, \\mathcal{C},\\varnothing_{T-1}\\right),...,1,\\mathcal{C},\\varnothing_1\\right),0,\\mathcal{C},\\varnothing_0\\right).')
('3.1', '\\bar{z_0}=\\Omega(z_T,T,\\mathcal{C}, \\{\\varnothing_t\\})')
('3.1', '\\label{equ:optim}\n    \\max \\limits_{\\delta} \\mathcal{L}\\left(\\mathcal{F}_\\theta(\\bar{z_0}),y\\right), \\quad s.t.\\ ||\\delta||_\\infty \\leq \\kappa, \\bar{z_0}=\\Omega(z_T+\\delta,T,\\mathcal{C}, \\{\\varnothing_t\\}) \\ \\mathrm{and} \\ \\bar{z_0}\\mathrm{\\ is\\ natural,}')
('3.1', '\\delta')
('3.1', '\\mathcal{L}_{ce}')
('3.1', '\\mathcal{L}_{mse}')
('3.1', 'l_2')
('3.1', '\\mathcal{L}')
('3.1', '\\mathcal{L}(\\mathcal{F_\\theta} (\\bar{z_0}),y,z_0) = \\mathcal{L}_{ce}(\\mathcal{F_\\theta}(\\bar{z_0}),y)) - \\beta \\cdot \\mathcal{L}_{mse}(\\bar{z_0},z_0),')
('3.1', '\\beta')
('3.1', '0.1')
('3.1', '\\mathcal{L}')
('3.1', 'l_2')
('3.1', '\\bar{z_0}')
('3.1', 'z_0')
('3.1', 'z_0')
('3.1', '\\bar{z_0}')
('3.1', '\\delta')
('3.1', '\\delta')
('3.1', '||\\delta||_\\infty \\leq \\kappa')
('3.1', '\\delta')
('3.1', '\\delta')
('3.1', '\\delta \\simeq \\eta\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta(\\bar{z_0}),y\\right)')
('3.1', '\\eta')
('3.1', '\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta(\\bar{z_0}),y\\right)')
('3.1', '\\label{equ:chainrule}\n    \\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta(\\bar{z_0}),y\\right)=\\frac{\\partial \\mathcal{L}}{\\partial{\\bar{z_0}}} \\cdot \\frac{\\partial \\bar{z_0}}{\\partial{z_1}} \\cdot \\frac{\\partial z_1}{\\partial{z_2}} \\cdot\\cdot\\cdot \\frac{\\partial z_{T-1}}{\\partial{z_{T}}}.')
('3.1', '\\frac{\\partial \\mathcal{L}}{\\partial \\bar{z_0}}')
('3.1', '\\bar{z_0}')
('3.1', '\\frac{\\partial z_t}{\\partial z_{t+1}}')
('3.1', 'T')
('3.1', '\\frac{\\partial z_0}{\\partial z_T}=\\frac{\\partial \\bar{z_0}}{\\partial{z_1}} \\cdot \\frac{\\partial z_1}{\\partial{z_2}} \\cdot\\cdot\\cdot \\frac{\\partial z_{T-1}}{\\partial{z_{T}}}')
('3.1', 'z_t')
('3.1', 't')
('3.1', '\\label{equ:ddimsampling}\n    z_t = \\sqrt{\\alpha_t}z_0 + \\sqrt{1-\\alpha_t}\\varepsilon, \\quad \\varepsilon \\sim \\mathcal{N}(0, I).')
('3.1', 'z_0=\\frac{1}{\\sqrt{\\alpha_t}}z_t-\\sqrt{\\frac{1-\\alpha_t}{\\alpha_t}}\\varepsilon')
('3.1', '\\frac{\\partial z_0}{\\partial z_t}=\\frac{1}{\\sqrt{\\alpha_t}}')
('3.1', 't')
('3.1', '\\lim \\limits_{t \\rightarrow 1000}\\frac{\\partial z_0}{\\partial z_t}=\\lim \\limits_{t \\rightarrow 1000}\\frac{1}{\\sqrt{\\alpha_t}}\\approx 14.58')
('3.1', '\\frac{\\partial z_0}{\\partial z_t}')
('3.1', '\\rho')
('3.1', '\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta(\\bar{z_0}),y\\right)=\\rho \\frac{\\partial \\mathcal{L}}{\\partial{\\bar{z_0}}}')
('3.1', '\\bar{z_0}')
('3.1', 'z_T')
('3.1', '\\varrho(\\cdot)')
('3.1', '\\varrho(\\cdot)')
('3.1', '[0,1]')
('3.1', '[0,1]')
('3.1', '\\varrho(x)=\\left\\{\n    \\begin{aligned}\n    &\\tanh(1000x)/10000,\\quad & x<0,\\\\\n    &x, \\quad & 0 \\leq x \\leq 1,\\\\\n    &\\tanh(1000(x-1))/10001, \\quad & x>1.\\\\\n    \\end{aligned}\n    \\right\n    .')
('3.1', '\\Pi_{\\kappa}')
('3.1', '\\delta')
('3.1', '\\kappa')
('3.1', 'g')
('3.1', 'g_{k} \\leftarrow \\mu \\cdot g_{k-1} + \\frac{\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta \\left((\\varrho(\\bar{z_0}),y\\right)\\right)}{||\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta \\left(\\varrho(\\bar{z_0}),y\\right)\\right)||_1},')
('3.1', '{\\delta}_k \\leftarrow \\Pi_{\\kappa}\\left( {\\delta}_{k-1} + \\eta\\ \\cdot \\mathrm{sign}(g_k)\\right).')
('3.1', 'z_0')
('3.1', 'y')
('3.1', '\\mathcal{C}=\\psi(\\mathcal{P})')
('3.1', '\\mathcal{F}_\\theta(\\cdot)')
('3.1', 'T')
('3.1', 'N_i')
('3.1', 'N_a')
('3.1', '\\mu')
('3.1', '\\{z_0^*, ..., z_T^*\\}')
('3.1', 'z_0')
('3.1', 'w=1')
('3.1', 'w=7.5')
('3.1', '\\bar{z_T} \\leftarrow z_T^*')
('3.1', '\\varnothing \\leftarrow \\psi(""), \\delta_0 \\leftarrow 0, g_0 \\leftarrow 0')
('3.1', '//')
('3.1', '\\varnothing_t \\leftarrow \\varnothing_t - \\zeta \\nabla_{\\varnothing_t} ||z_{t-1}^*-z_{t-1}(\\bar{z_t},t, \\mathcal{C},\\varnothing_t)||^2_2')
('3.1', '\\bar{z_{t-1}} \\leftarrow z_{t-1}(\\bar{z_t},t, \\mathcal{C},\\varnothing_t)')
('3.1', '\\varnothing_{t-1} \\leftarrow \\varnothing_t')
('3.1', '//')
('3.1', '\\bar{z_0} \\leftarrow \\Omega\\left(\\bar{z_T} + \\delta_{k-1},T,\\mathcal{C}, \\{\\varnothing_t\\}^T_{t=1}\\right)')
('3.1', 'g_{k} \\leftarrow \\mu \\cdot g_{k-1} + \\frac{\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta \\left(\\varrho(\\bar{z_0}),y\\right)\\right)}{||\\nabla_{z_T} \\mathcal{L}\\left(\\mathcal{F}_\\theta\\left(\\varrho(\\bar{z_0}),y\\right)\\right)||_1}')
('3.1', '{\\delta}_k \\leftarrow \\Pi_{\\kappa}\\left( {\\delta}_{k-1} + \\eta\\ \\cdot \\mathrm{sign}(g_k)\\right)')
('3.1', '\\bar{z_0} \\leftarrow \\varrho\\left(\\Omega\\left(\\bar{z_T} + \\delta_{N_a},T,\\mathcal{C}, \\{\\varnothing_t\\}^T_{t=1}\\right)\\right)')
('3.1', '\\bar{z_0}')
('4.0', 'T=50')
('4.0', 'N_i=10')
('4.0', 'N_a=10')
('4.0', '\\beta=0.1')
('4.0', '\\zeta=0.01')
('4.0', '\\eta=0.04')
('4.0', '\\kappa=0.1')
('4.0', '\\mu=1')
('4.1', '\\sim')
('4.2', 'l_p')
('4.2', '_{ens3}')
('4.2', '_{ens4}')
('4.2', '_{ens}')
('4.2', '_{ens3}')
('4.2', 'l_p')
('4.4', '~50\\%')
('5', '\\sim2.5')
