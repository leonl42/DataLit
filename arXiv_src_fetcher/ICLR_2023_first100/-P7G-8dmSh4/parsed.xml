<?xml version="1.0" encoding="UTF-8"?>
<?latexml searchpaths="/home/miri/Documents/DataLit/arXiv_src_fetcher/ICLR_2023_first100/-P7G-8dmSh4"?>
<!--  %%%%%%%% ICML 2022 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%% --><?latexml class="article" options="nohyperref"?>
<?latexml package="microtype"?>
<?latexml package="graphicx"?>
<?latexml package="subfigure"?>
<?latexml package="booktabs"?>
<?latexml package="hyperref"?>
<!--  %Use the following line for the initial blind version submitted for review: --><!--  %“usepackage–icml2022˝ --><?latexml package="icml2022" options="accepted"?>
<?latexml package="amsmath"?>
<?latexml package="amssymb"?>
<?latexml package="mathtools"?>
<?latexml package="amsthm"?>
<?latexml package="cleveref" options="capitalize,noabbrev"?>
<?latexml package="inputenc" options="utf8"?>
<?latexml package="fontenc" options="T1"?>
<?latexml package="url"?>
<?latexml package="amsfonts"?>
<?latexml package="nicefrac"?>
<?latexml package="xcolor"?>
<?latexml package="listings"?>
<?latexml package="todonotes" options="textsize=tiny"?>
<?latexml RelaxNGSchema="LaTeXML"?>
<document xmlns="http://dlmf.nist.gov/LaTeXML" class="ltx_pruned_first">
  <resource src="LaTeXML.css" type="text/css"/>
  <resource src="ltx-article.css" type="text/css"/>
  <resource src="ltx-listings.css" type="text/css"/>
  <title>Formal Mathematics Statement Curriculum Learning</title>
  <creator role="author">
    <personname>Stanislas Polu</personname>
  </creator>
  <creator before="  " role="author">
    <personname>Jesse Michael Han</personname>
  </creator>
  <creator before="  " role="author">
    <personname>Kunhao Zheng</personname>
  </creator>
  <creator before="  " role="author">
    <personname><!--  %****␣main.tex␣Line␣125␣**** -->Mantas Baksys</personname>
  </creator>
  <creator before="  " role="author">
    <personname>Igor Babuschkin</personname>
  </creator>
  <creator before="  " role="author">
    <personname>Ilya Sutskever</personname>
  </creator>
  <abstract name="Abstract">
    <p>We explore the use of expert iteration in the context of language modeling applied to formal mathematics. We show that at same compute budget, expert iteration, by which we mean proof search interleaved with learning, dramatically outperforms proof search only. We also observe that when applied to a collection of formal statements of sufficiently varied difficulty, expert iteration is capable of finding and solving a curriculum of increasingly difficult problems, without the need for associated ground-truth proofs. Finally, by applying this expert iteration to a manually curated set of problem statements, we achieve state-of-the-art on the <text font="italic">miniF2F</text> benchmark, automatically solving multiple challenging problems drawn from high school olympiads.</p>
  </abstract>
<!--  %You␣may␣provide␣any␣keywords␣that␣you 
     %find␣helpful␣for␣describing␣your␣paper;␣these␣are␣used␣to␣populate 
     %the␣"keywords"␣metadata␣in␣the␣PDF␣but␣will␣not␣be␣shown␣in␣the␣document 
     %\icmlkeywords{Machine␣Learning,␣ICML} -->  <para xml:id="p2">
    <break/>
  </para>
<!--  %this␣must␣go␣after␣the␣closing␣bracket␣]␣following␣\twocolumn[␣... 
     %This␣command␣actually␣creates␣the␣footnote␣in␣the␣first␣column 
     %listing␣the␣affiliations␣and␣the␣copyright␣notice. 
     %The␣command␣takes␣one␣argument,␣which␣is␣text␣to␣display␣at␣the␣start␣of␣the␣footnote. 
     %The␣\icmlEqualContribution␣command␣is␣standard␣text␣for␣equal␣contribution. 
     %****␣main.tex␣Line␣150␣**** 
     %Remove␣it␣(just␣{})␣if␣you␣do␣not␣need␣this␣facility. -->  <section inlist="toc" xml:id="S1">
    <tags>
      <tag>1</tag>
      <tag role="autoref">section 1</tag>
      <tag role="refnum">1</tag>
      <tag role="typerefnum">§1</tag>
    </tags>
    <title><tag close=" ">1</tag>Introduction</title>
    <para xml:id="S1.p1">
      <p>Deep learning has enjoyed spectacular success in many domains, including language <cite class="ltx_citemacro_citep">(<bibref bibrefs="brown2020language,devlin2018bert,wu2016google" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>, vision <cite class="ltx_citemacro_citep">(<bibref bibrefs="radford2021learning,tan2019efficientnet" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>, and image generation <cite class="ltx_citemacro_citep">(<bibref bibrefs="ramesh2021zero,karras2019style" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>. One domain where deep learning has not yet enjoyed a comparable success is in tasks that require extensive <emph font="italic">planning</emph> and <emph font="italic">symbolic reasoning</emph>, with the exception of two-player games <cite class="ltx_citemacro_citep">(<bibref bibrefs="silver2016mastering,silver2017mastering,berner2019dota,vinyals2019grandmaster" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>. In such games, deep learning systems exhibit a considerable degree of reasoning, especially when trained with self-play combined with a search procedure such as Monte Carlo Tree Search (MCTS) <cite class="ltx_citemacro_citep">(<bibref bibrefs="browne2012survey" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>. But the resulting reasoning abilities achieved are limited due to the relatively narrow scope of games.</p>
    </para>
    <para xml:id="S1.p2">
      <p>As such, theorem proving in interactive proof assistants, or formal mathematics, appears as an interesting game-like domain to tackle due to its increased scope. Like games, formal mathematics has an automated way of determining whether a trajectory (<emph font="italic">i.e.</emph> a proof) is successful (<emph font="italic">i.e.</emph> formally correct). But the vast scope of formal mathematics means that any strong reasoning result obtained in it will be more meaningful than comparable results in games (<emph font="italic">e.g.</emph> finding proofs to mathematical conjectures), and could even be applicable to important practical problems (<emph font="italic">e.g.</emph> software verification).</p>
    </para>
    <para xml:id="S1.p3">
      <p>However, tackling formal mathematics involves two main challenges that we must address in order to continue making progress:</p>
    </para>
    <para xml:id="S1.p4">
      <p><text font="bold">Infinite action space</text> Not only does formal mathematics have an extremely large search space (like Go for example), it also has an infinite action space. At each step of proof search, the model must choose not from a well-behaved finite set of actions, but a complex and infinite set of tactics, potentially involving exogenous mathematical terms that have to be generated (e.g., generating a mathematical statement to be used as a witness, an object used steps such as “there exists an <Math mode="inline" tex="x" text="x" xml:id="S1.p4.m1">
          <XMath>
            <XMTok font="italic" role="UNKNOWN">x</XMTok>
          </XMath>
        </Math> …”, or a cut, the introduction and the chaining of a lemma in the middle of a proof).</p>
    </para>
    <para xml:id="S1.p5">
      <p><text font="bold">No direct self-play setup</text> In formal mathematics, a prover is not playing against an opponent but against a set of statements to prove. When faced with a statement that is just too hard, there is no obvious reframing of the formal mathematics setup that will let the prover generate intermediary easier statements to tackle first. This asymmetry prevents naive application of the symmetric self-play algorithms commonly used in 2-player games.</p>
    </para>
    <para xml:id="S1.p6">
      <p>These two differences make a naive application of reinforcement learning to formal mathematics unlikely to succeed. Past work proposed to address the infinite action space problem by sampling from a language model <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>. This paper focuses on this second problem and our basis for addressing it is the observation that the key role of self-play is to provide an unsupervised curriculum. We propose instead to supply auxiliary sets of problem statements (without requiring proofs) of varying difficulty. We empirically show that, when the difficulty of these auxiliary problems is varied enough, a simple expert iteration procedure is able to solve a curriculum of increasingly difficult problems, eventually generalizing to our target distribution. We show that this works with both automatically-generated and manually-curated auxiliary distributions of problems and leverage this to achieve state-of-the-art on the <emph font="italic">miniF2F</emph> benchmark. Our results suggest that continuous self-improvement in formal mathematics can potentially be reduced to the problem of generating such sets of formal statements, which we have done in part manually in this work, but could eventually be scaled in the future with more automation (such as more domain-specific statements generator or even informal to formal machine translation).</p>
    </para>
    <subsection inlist="toc" xml:id="S1.SS1">
      <tags>
        <tag>1.1</tag>
        <tag role="autoref">subsection 1.1</tag>
        <tag role="refnum">1.1</tag>
        <tag role="typerefnum">§1.1</tag>
      </tags>
      <title><tag close=" ">1.1</tag><text font="italic">miniF2F</text> benchmark</title>
      <para xml:id="S1.SS1.p1">
        <p>In this work, we target the <text font="italic">miniF2F</text> <cite class="ltx_citemacro_citep">(<bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> benchmark, which consists of 244 <text font="italic">validation</text> and 244 <text font="italic">test</text> formalized statements of mathematical problems from various competitions. We believe it to be a better measure of mathematical reasoning compared to a formal library-derived split. Also, the extreme scarcity in formal libraries of this type of problems makes it an ideal test-bed for the expert iteration methodology studied in this paper.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S1.SS2">
      <tags>
        <tag>1.2</tag>
        <tag role="autoref">subsection 1.2</tag>
        <tag role="refnum">1.2</tag>
        <tag role="typerefnum">§1.2</tag>
      </tags>
      <title><tag close=" ">1.2</tag>Contribution</title>
      <para xml:id="S1.SS2.p1">
        <p>Our contributions are the following: we present <text font="typewriter">lean-gym</text>, a simple REPL interface for interacting with the Lean theorem prover; we propose an expert iteration methodology for GPT-f <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> which uses proofs generated by our models as training data to iteratively improve their performance; we demonstrate that, at fixed compute budget, expert iteration outperforms proof search only; we present a synthetic inequality generator and study how expert iteration finds and solves a curriculum of increasingly difficult problems from a set of generated statements of various difficulty; finally, we present a manually curated set of formalized problem statements and leverage it to achieve state-of-the-art performance on the <text font="italic">miniF2F</text> benchmark.</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" xml:id="S2">
    <tags>
      <tag>2</tag>
      <tag role="autoref">section 2</tag>
      <tag role="refnum">2</tag>
      <tag role="typerefnum">§2</tag>
    </tags>
    <title><tag close=" ">2</tag>Related Work</title>
    <para xml:id="S2.p1">
      <p>Our work strongly relies on, and can be seen as a natural continuation of the work presented in the original GPT-f paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite> which studies the use of language models to generate tactics, the PACT paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="han2021proof" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite> which applies GPT-f to Lean and studies the benefits from co-training on self-supervised objectives, and the <text font="italic">miniF2F</text> benchmark <cite class="ltx_citemacro_citep">(<bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>.</p>
    </para>
    <para xml:id="S2.p2">
      <p>We present additional related work in Appendix <ref labelref="LABEL:appendix-related"/>.</p>
    </para>
  </section>
  <section inlist="toc" xml:id="S3">
    <tags>
      <tag>3</tag>
      <tag role="autoref">section 3</tag>
      <tag role="refnum">3</tag>
      <tag role="typerefnum">§3</tag>
    </tags>
    <title><tag close=" ">3</tag>Formal Environment</title>
    <para xml:id="S3.p1">
      <p>We choose Lean <cite class="ltx_citemacro_citep">(<bibref bibrefs="de2015lean,leanprover" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite> as our formal environment. Unlike Metamath <cite class="ltx_citemacro_citep">(<bibref bibrefs="megill2019metamath" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>, which has been studied in the original GPT-f paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>, Lean benefits from high-level tactics which were shown to be beneficial in the context of the <text font="italic">miniF2F</text> benchmark <cite class="ltx_citemacro_citep">(<bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>–Lean proofs are typically 10x shorter than Metamath’s. Also, Lean has recently received a lot of attention from the mathematical community, thanks to projects such as the Perfectoid Spaces <cite class="ltx_citemacro_citep">(<bibref bibrefs="perfectoidspaces" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite> and the Liquid Tensor experiment <cite class="ltx_citemacro_citep">(<bibref bibrefs="liquidtensor" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite>, and benefits from a vibrant community of hundreds of contributors to its main mathematical library called <text font="italic">mathlib</text>. We refer to the <text font="smallcaps">PACT</text> paper’s Background section <cite class="ltx_citemacro_citep">(<bibref bibrefs="han2021proof" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
            <bibrefphrase>, </bibrefphrase>
          </bibref>)</cite> for a detailed introduction to Lean in the context of neural theorem proving.</p>
    </para>
    <subsection inlist="toc" xml:id="S3.SS1">
      <tags>
        <tag>3.1</tag>
        <tag role="autoref">subsection 3.1</tag>
        <tag role="refnum">3.1</tag>
        <tag role="typerefnum">§3.1</tag>
      </tags>
      <title><tag close=" ">3.1</tag><text font="typewriter">lean-gym</text></title>
      <para xml:id="S3.SS1.p1">
        <p>In the <text font="smallcaps">PACT</text> paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="han2021proof" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>, proof search is performed by the Lean runtime using the <text font="smallcaps">LeanStep</text> environment, with a generic backend interface to models. While easy to use–one just needs to plug in their model–this approach makes it difficult to alter and iterate on the search procedure because it is programmed in Lean (which is not designed or intended for cluster-wide parallelised I/O intensive tasks), and the coupling of the search procedure with the Lean runtime introduces challenges when scaling to a large number of parallel workers.</p>
      </para>
      <para xml:id="S3.SS1.p2">
        <p>To solve these issues we implemented <text font="typewriter">lean-gym<note mark="1" role="footnote" xml:id="footnote1"><tags>
                <tag><text font="serif">1</text></tag>
                <tag role="autoref"><text font="serif">footnote 1</text></tag>
                <tag role="refnum"><text font="serif">1</text></tag>
                <tag role="typerefnum"><text font="serif">footnote 1</text></tag>
              </tags><ref class="ltx_url" href="https://github.com/openai/lean-gym">https://github.com/openai/lean-gym</ref></note></text> – a simple REPL interface over the standard input/output implemented in Lean directly. We present <text font="typewriter">lean-gym</text>’s API and discuss some of its advantages and limitations in Appendix <ref labelref="LABEL:appendix-leangym"/>.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S3.SS2">
      <tags>
        <tag>3.2</tag>
        <tag role="autoref">subsection 3.2</tag>
        <tag role="refnum">3.2</tag>
        <tag role="typerefnum">§3.2</tag>
      </tags>
      <title><tag close=" ">3.2</tag>Proof datasets extraction</title>
      <para xml:id="S3.SS2.p1">
        <p>We rely on the proof extraction methodology presented in the <text font="smallcaps">PACT</text> paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="han2021proof" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> to extract human tactic proof steps from <text font="italic">mathlib</text> (the <text font="typewriter">tactic</text> dataset) as well as the various other proof artifacts (<text font="typewriter">mix1</text> and <text font="typewriter">mix2</text> datasets). We also extract <text font="italic">mathlib-</text>{<text font="italic">train,valid,test</text>}, the set of statements from <text font="italic">mathlib</text> along the split proposed in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> (the <text font="italic">validation</text> and <text font="italic">test</text> splits of <text font="typewriter">tactic, mix1, mix2</text> being aligned with <text font="italic">mathlib-</text>{<text font="italic">valid, test</text>} as the splits are determined by declaration name hashes (across all data sources including proof-term mining) as opposed to individual proof steps or data-points).</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" xml:id="S4">
    <tags>
      <tag>4</tag>
      <tag role="autoref">section 4</tag>
      <tag role="refnum">4</tag>
      <tag role="typerefnum">§4</tag>
    </tags>
    <title><tag close=" ">4</tag>Expert Iteration</title>
    <para xml:id="S4.p1">
      <p><text font="italic">Expert iteration</text> was introduced in <cite class="ltx_citemacro_citet"><bibref bibrefs="silver2017mastering" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
            <bibrefphrase>(</bibrefphrase>
            <bibrefphrase>)</bibrefphrase>
          </bibref></cite> and broadly consists in iteratively training models on their previously sampled trajectories, to achieve continuous improvement. In this section we present our expert iteration methodology, including the models and pre-training strategies we rely on.</p>
    </para>
    <subsection inlist="toc" xml:id="S4.SS1">
      <tags>
        <tag>4.1</tag>
        <tag role="autoref">subsection 4.1</tag>
        <tag role="refnum">4.1</tag>
        <tag role="typerefnum">§4.1</tag>
      </tags>
      <title><tag close=" ">4.1</tag>Model</title>
      <para xml:id="S4.SS1.p1">
        <p>We use decoder-only Transformers similar to GPT-3 <cite class="ltx_citemacro_citep">(<bibref bibrefs="brown2020language" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>. Throughout this paper we focus on a model with 36 layers and 774 million trainable parameters (referred to as the <text font="italic">700m</text> model in the GPT-f paper <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>).</p>
      </para>
    </subsection>
    <subsection inlist="toc" labels="LABEL:pre-training" xml:id="S4.SS2">
      <tags>
        <tag>4.2</tag>
        <tag role="autoref">subsection 4.2</tag>
        <tag role="refnum">4.2</tag>
        <tag role="typerefnum">§4.2</tag>
      </tags>
      <title><tag close=" ">4.2</tag>Pre-Training</title>
      <para xml:id="S4.SS2.p1">
        <p>We pre-train our models successively on GPT-3’s post-processed version of CommonCrawl (for 300B tokens) and an updated version of <text font="italic">WebMath</text> <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> (for 72B tokens) whose mix is presented in Appendix <ref labelref="LABEL:appendix-webmath"/>.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S4.SS3">
      <tags>
        <tag>4.3</tag>
        <tag role="autoref">subsection 4.3</tag>
        <tag role="refnum">4.3</tag>
        <tag role="typerefnum">§4.3</tag>
      </tags>
      <title><tag close=" ">4.3</tag>Training objectives</title>
      <subsubsection inlist="toc" xml:id="S4.SS3.SSS1">
        <tags>
          <tag>4.3.1</tag>
          <tag role="autoref">subsubsection 4.3.1</tag>
          <tag role="refnum">4.3.1</tag>
          <tag role="typerefnum">§4.3.1</tag>
        </tags>
        <title><tag close=" ">4.3.1</tag><text font="italic">Proofstep objective</text></title>
        <para xml:id="S4.SS3.SSS1.p1">
          <p>The <text font="italic">proofstep objective</text>, introduced in <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite>, consists in generating a <text font="typewriter">PROOFSTEP</text> (a Lean tactic) given a <text font="typewriter">GOAL</text> (a Lean tactic state). We also condition this objective on the current <text font="typewriter">DECLARATION</text> (a Lean theorem name), which remains the same throughout a proof search: <verbatim font="typewriter">DECL &lt;DECLARATION&gt;</verbatim> <verbatim font="typewriter">GOAL &lt;GOAL&gt; PROOFSTEP &lt;PROOFSTEP&gt;</verbatim>.</p>
        </para>
        <para xml:id="S4.SS3.SSS1.p2">
          <p>The rationale for conditioning on the declaration name is to hint our models on the position of the current declaration in the <text font="italic">mathlib</text> library. It can be considered as a weak proxy signal for the large amount of information not shown to the model (the full environment consisting of the available imports and currently open declarations such as module names, notations, declared instances, …). The declaration name lets models at least in principle memorize and then retrieve some of that information, knowing that <text font="typewriter">lean-gym</text> errors if a theorem or definition that is not available in the environment associated with the current declaration is used by tactics generated by our models. Also note that conversely to <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite> and like <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite> <text font="typewriter">&lt;GOAL&gt;</text> is not necessarily a single goal but a Lean tactic state, which possibly comprises multiple goals.</p>
        </para>
      </subsubsection>
      <subsubsection inlist="toc" labels="LABEL:proofsize" xml:id="S4.SS3.SSS2">
        <tags>
          <tag>4.3.2</tag>
          <tag role="autoref">subsubsection 4.3.2</tag>
          <tag role="refnum">4.3.2</tag>
          <tag role="typerefnum">§4.3.2</tag>
        </tags>
        <title><tag close=" ">4.3.2</tag><text font="italic">Proofsize objective</text></title>
        <para xml:id="S4.SS3.SSS2.p1">
          <p>We depart from <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite> and use a <text font="italic">proofsize objective</text> to guide our proof searches, which consists in generating one token that represents a proof size estimate bucket for the current goal (Lean tactic state): <verbatim font="typewriter">DECL &lt;DECLARATION&gt;</verbatim> <verbatim font="typewriter">GOAL &lt;GOAL&gt;</verbatim> <verbatim font="typewriter">PROOFSIZE &lt;PROOFSIZE_BUCKET_TOKEN&gt;</verbatim></p>
        </para>
        <para xml:id="S4.SS3.SSS2.p2">
          <p>For a given goal <Math mode="inline" tex="g" text="g" xml:id="S4.SS3.SSS2.p2.m1">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">g</XMTok>
              </XMath>
            </Math>, either the goal was proved as part of the proof search and we denote its proof size (the number of tactic applications (compounded Lean tactics counting as one)) as <Math mode="inline" tex="ps(g)" text="p * s * g" xml:id="S4.SS3.SSS2.p2.m2">
              <XMath>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok font="italic" role="UNKNOWN">p</XMTok>
                  <XMTok font="italic" role="UNKNOWN">s</XMTok>
                  <XMDual>
                    <XMRef idref="S4.SS3.SSS2.p2.m2.1"/>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                      <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p2.m2.1">g</XMTok>
                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math>, or the goal was not proved in which case we assign the goal to a bucket that virtually represents "infinite" proof sizes.</p>
        </para>
        <para xml:id="S4.SS3.SSS2.p3">
          <p>We use 11 buckets <Math mode="inline" tex="B=0...10" text="B = 0 * ldots * 10" xml:id="S4.SS3.SSS2.p3.m1">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMTok font="italic" role="UNKNOWN">B</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok meaning="0" role="NUMBER">0</XMTok>
                    <XMTok name="ldots" role="ID">…</XMTok>
                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math> and compute the <text font="italic">proofsize</text> bucket <Math mode="inline" tex="b(g)" text="b * g" xml:id="S4.SS3.SSS2.p3.m2">
              <XMath>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok font="italic" role="UNKNOWN">b</XMTok>
                  <XMDual>
                    <XMRef idref="S4.SS3.SSS2.p3.m2.1"/>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                      <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p3.m2.1">g</XMTok>
                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math> for a goal <Math mode="inline" tex="g" text="g" xml:id="S4.SS3.SSS2.p3.m3">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">g</XMTok>
              </XMath>
            </Math> by assigning infinite proof sizes to bucket <Math mode="inline" tex="0" text="0" xml:id="S4.SS3.SSS2.p3.m4">
              <XMath>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
              </XMath>
            </Math>, all proof sizes over <Math mode="inline" tex="20" text="20" xml:id="S4.SS3.SSS2.p3.m5">
              <XMath>
                <XMTok meaning="20" role="NUMBER">20</XMTok>
              </XMath>
            </Math> to bucket <Math mode="inline" tex="1" text="1" xml:id="S4.SS3.SSS2.p3.m6">
              <XMath>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMath>
            </Math> and linearly projecting proof sizes lower than <Math mode="inline" tex="20" text="20" xml:id="S4.SS3.SSS2.p3.m7">
              <XMath>
                <XMTok meaning="20" role="NUMBER">20</XMTok>
              </XMath>
            </Math> on the remaining buckets <Math mode="inline" tex="2,...,10" text="list@(2, ldots, 10)" xml:id="S4.SS3.SSS2.p3.m8">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="list"/>
                    <XMRef idref="S4.SS3.SSS2.p3.m8.1"/>
                    <XMRef idref="S4.SS3.SSS2.p3.m8.2"/>
                    <XMRef idref="S4.SS3.SSS2.p3.m8.3"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok meaning="2" role="NUMBER" xml:id="S4.SS3.SSS2.p3.m8.1">2</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok name="ldots" role="ID" xml:id="S4.SS3.SSS2.p3.m8.2">…</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="10" role="NUMBER" xml:id="S4.SS3.SSS2.p3.m8.3">10</XMTok>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math> (<Math mode="inline" tex="10" text="10" xml:id="S4.SS3.SSS2.p3.m9">
              <XMath>
                <XMTok meaning="10" role="NUMBER">10</XMTok>
              </XMath>
            </Math> being the bucket for the shortest proof sizes). In practice, when training and sampling from the model, we map <Math mode="inline" tex="B" text="B" xml:id="S4.SS3.SSS2.p3.m10">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">B</XMTok>
              </XMath>
            </Math> to the tokens <Math mode="inline" tex="\text{'A'}...\text{'K'}" text="[’A’] * ldots * [’K’]" xml:id="S4.SS3.SSS2.p3.m11">
              <XMath>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMText>’A’</XMText>
                  <XMTok name="ldots" role="ID">…</XMTok>
                  <XMText>’K’</XMText>
                </XMApp>
              </XMath>
            </Math>.</p>
        </para>
        <para xml:id="S4.SS3.SSS2.p4">
          <p>To value goals as we run proof searches, we sample the <text font="italic">proofsize</text> bucket token and record the logits <Math mode="inline" tex="p_{b}(g)" text="p _ b * g" xml:id="S4.SS3.SSS2.p4.m1">
              <XMath>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">p</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">b</XMTok>
                  </XMApp>
                  <XMDual>
                    <XMRef idref="S4.SS3.SSS2.p4.m1.1"/>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                      <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p4.m1.1">g</XMTok>
                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math> for each viable bucket and use them to get a weighted average with the following formula: <Math mode="inline" tex="v(g)=\frac{1}{\#B}\sum_{b\in B}p_{b}(g).b" text="formulae@(v * g = (1 / (# * B)) * (sum _ (b element-of B))@(p _ b * g), b)" xml:id="S4.SS3.SSS2.p4.m2">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="formulae"/>
                    <XMRef idref="S4.SS3.SSS2.p4.m2.4"/>
                    <XMRef idref="S4.SS3.SSS2.p4.m2.3"/>
                  </XMApp>
                  <XMWrap>
                    <XMApp xml:id="S4.SS3.SSS2.p4.m2.4">
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMTok font="italic" role="UNKNOWN">v</XMTok>
                        <XMDual>
                          <XMRef idref="S4.SS3.SSS2.p4.m2.1"/>
                          <XMWrap>
                            <XMTok role="OPEN" stretchy="false">(</XMTok>
                            <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p4.m2.1">g</XMTok>
                            <XMTok role="CLOSE" stretchy="false">)</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMApp>
                          <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                          <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok fontsize="70%" role="UNKNOWN">#</XMTok>
                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">B</XMTok>
                          </XMApp>
                        </XMApp>
                        <XMApp>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                            <XMTok mathstyle="text" meaning="sum" role="SUMOP" scriptpos="post">∑</XMTok>
                            <XMApp>
                              <XMTok fontsize="70%" meaning="element-of" name="in" role="RELOP">∈</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">b</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">B</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                              <XMTok font="italic" role="UNKNOWN">p</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">b</XMTok>
                            </XMApp>
                            <XMDual>
                              <XMRef idref="S4.SS3.SSS2.p4.m2.2"/>
                              <XMWrap>
                                <XMTok role="OPEN" stretchy="false">(</XMTok>
                                <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p4.m2.2">g</XMTok>
                                <XMTok role="CLOSE" stretchy="false">)</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMApp>
                        </XMApp>
                      </XMApp>
                    </XMApp>
                    <XMTok role="PERIOD">.</XMTok>
                    <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p4.m2.3">b</XMTok>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math>.</p>
        </para>
        <para xml:id="S4.SS3.SSS2.p5">
          <p>As an example, if the model assigns <Math mode="inline" tex="p_{0}=1" text="p _ 0 = 1" xml:id="S4.SS3.SSS2.p5.m1">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">p</XMTok>
                    <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
                  </XMApp>
                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                </XMApp>
              </XMath>
            </Math> (hence <Math mode="inline" tex="p_{b\neq 0}=0" text="p _ (b not-equals 0) = 0" xml:id="S4.SS3.SSS2.p5.m2">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">p</XMTok>
                    <XMApp>
                      <XMTok fontsize="70%" meaning="not-equals" name="neq" role="RELOP">≠</XMTok>
                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">b</XMTok>
                      <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
                    </XMApp>
                  </XMApp>
                  <XMTok meaning="0" role="NUMBER">0</XMTok>
                </XMApp>
              </XMath>
            </Math>) then <Math mode="inline" tex="v(g)=0" text="v * g = 0" xml:id="S4.SS3.SSS2.p5.m3">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok font="italic" role="UNKNOWN">v</XMTok>
                    <XMDual>
                      <XMRef idref="S4.SS3.SSS2.p5.m3.1"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p5.m3.1">g</XMTok>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMTok meaning="0" role="NUMBER">0</XMTok>
                </XMApp>
              </XMath>
            </Math>. Conversely if the model assigns <Math mode="inline" tex="p_{10}=1" text="p _ 10 = 1" xml:id="S4.SS3.SSS2.p5.m4">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">p</XMTok>
                    <XMTok fontsize="70%" meaning="10" role="NUMBER">10</XMTok>
                  </XMApp>
                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                </XMApp>
              </XMath>
            </Math> (<Math mode="inline" tex="10" text="10" xml:id="S4.SS3.SSS2.p5.m5">
              <XMath>
                <XMTok meaning="10" role="NUMBER">10</XMTok>
              </XMath>
            </Math> being the bucket for the shortest proof sizes) then <Math mode="inline" tex="v(g)=1" text="v * g = 1" xml:id="S4.SS3.SSS2.p5.m6">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok font="italic" role="UNKNOWN">v</XMTok>
                    <XMDual>
                      <XMRef idref="S4.SS3.SSS2.p5.m6.1"/>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMTok font="italic" role="UNKNOWN" xml:id="S4.SS3.SSS2.p5.m6.1">g</XMTok>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                </XMApp>
              </XMath>
            </Math>.</p>
        </para>
        <para xml:id="S4.SS3.SSS2.p6">
          <p>The rationale for using this <text font="italic">proofsize objective</text> instead of the <text font="italic">outcome objective</text> described in <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite> is that (i) it achieves better performance compared to the <text font="italic">outcome objective</text> (see table <ref labelref="LABEL:fig:bootstrap-eval"/>), and (ii) it prioritizes goals that potentially lead to shorter proofs during proof search, creating an intrinsic incentive for the system to converge towards shorter proofs. Similarly to <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
                <bibrefphrase>(</bibrefphrase>
                <bibrefphrase>)</bibrefphrase>
              </bibref></cite> we favor this token-based approach to the introduction of a separate value head to keep the overall architecture simple. This way the <text font="italic">proofsize objective</text> can be implemented by simply augmenting the training dataset and without any architectural change.</p>
        </para>
<!--  %TODO(spolu)␣provide␣an␣ablation␣of␣the␣proofsize␣objective␣vs␣outcome␣objective␣from␣GPT-f -->      </subsubsection>
    </subsection>
    <subsection inlist="toc" labels="LABEL:boostrapping" xml:id="S4.SS4">
      <tags>
        <tag>4.4</tag>
        <tag role="autoref">subsection 4.4</tag>
        <tag role="refnum">4.4</tag>
        <tag role="typerefnum">§4.4</tag>
      </tags>
      <title><tag close=" ">4.4</tag>Bootstrapping</title>
      <para xml:id="S4.SS4.p1">
        <p>Bootstrapping consists in the steps required to train an initial model on both the <text font="italic">proofstep objective</text> and the <text font="italic">proofsize objective</text>.</p>
      </para>
      <para xml:id="S4.SS4.p2">
        <p>Given a pre-trained model on <text font="italic">WebMath</text>, we fine-tune it on the <text font="typewriter">tactic</text> dataset extracted from <text font="italic">mathlib</text> as well as the proof artifacts dataset <text font="typewriter">mix1</text> as described in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>. This initial model, which we denote <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p2.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> is solely trained on the <text font="italic">proofstep objective</text>. We use the <text font="italic">validation</text> splits of the <text font="typewriter">tactic</text> and <text font="typewriter">m1</text> datasets to early-stop training. Note that this is our only use of <text font="italic">mathlib-valid</text> to influence the training process throughout this paper.</p>
      </para>
      <para xml:id="S4.SS4.p3">
        <p>To generate data for the <text font="italic">proofsize objective</text>, we use <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p3.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> to sample proofs for statements from <text font="italic">mathlib-train</text>. For each statement from <text font="italic">mathlib-train</text> (25k) we attempt <Math mode="inline" tex="a=1" text="a = 1" xml:id="S4.SS4.p3.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> proof searches using the cumulative logprob priority search described in <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> (which does not require a trained value function) using <Math mode="inline" tex="d=512" text="d = 512" xml:id="S4.SS4.p3.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> expansions and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S4.SS4.p3.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math> samples per expansion. We denote the set of successful proof searches created in this process as <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p3.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math>.</p>
      </para>
      <para xml:id="S4.SS4.p4">
        <p>Using <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p4.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> we generate dataset <Math mode="inline" tex="D_{0}" text="D _ 0" xml:id="S4.SS4.p4.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> by concatenating: (i) the initial <text font="typewriter">tactic</text> dataset (<text font="italic">proofstep objective</text>), (ii) a deduplicated set of proofsteps extracted from the proofs in <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p4.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> (<text font="italic">proofstep objective</text>) and (iii) a deduplicated set of proofsize tuples (goals and proofsize) extracted from the full proof searches in <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p4.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> (<text font="italic">proofsize objective</text>).</p>
      </para>
      <para xml:id="S4.SS4.p5">
        <p>Note that the full proof searches in <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p5.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> include goals that are visited but eventually remain unproved, which provides useful negative examples for the trained value function (even if these negatives may include provable goals that simply were not prioritized by the search). Also note that <Math mode="inline" tex="S_{0}" text="S _ 0" xml:id="S4.SS4.p5.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> doesn’t include failed proof searches (which would contain only negative examples and no <text font="italic">proofstep objective</text> data).</p>
      </para>
      <para xml:id="S4.SS4.p6">
        <p>We fine-tune <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p6.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> on <Math mode="inline" tex="D_{0}" text="D _ 0" xml:id="S4.SS4.p6.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> for exactly one epoch (no use of <text font="italic">validation</text> data for early-stopping) to obtain our initial model <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS4.p6.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> trained on both the <text font="italic">proofstep objective</text> and the <text font="italic">proofsize objective</text>. <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p6.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> is used in our expert iteration setup as base model to fine-tune from at each iteration, and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS4.p6.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> is our first iterated model or <text font="italic">mathlib</text> bootstrapped model trained on both objectives.</p>
      </para>
      <table inlist="lot" labels="LABEL:fig:bootstrap-eval" placement="t" xml:id="S4.T1">
        <tags>
          <tag>Table 1</tag>
          <tag role="autoref">Table 1</tag>
          <tag role="refnum">1</tag>
          <tag role="typerefnum">Table 1</tag>
        </tags>
        <toccaption><tag close=" ">1</tag>Performance of <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> and <text font="italic">miniF2F-valid</text> compared to PACT Lean GPT-f as reported in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof,zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>. All models have the same architecture. <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> is sampled using cumulative logprob priority best-first search. <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> is sampled using best-first search based on the <text font="italic">proofsize objective</text>. We report our setup (<Math mode="inline" tex="d=512" text="d = 512" xml:id="S4.T1.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> expansions and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S4.T1.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math> tactic samples per expansions) as well as the setups used in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof,zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> to control for compute. We also report the performance of <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> when trained using the <text font="italic">outcome objective</text> from <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> as an ablation of our proposed <text font="italic">proofsize objective</text>.</toccaption>
        <caption><tag close=": ">Table 1</tag>Performance of <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m8">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m9">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> and <text font="italic">miniF2F-valid</text> compared to PACT Lean GPT-f as reported in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof,zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>. All models have the same architecture. <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m10">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> is sampled using cumulative logprob priority best-first search. <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m11">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> is sampled using best-first search based on the <text font="italic">proofsize objective</text>. We report our setup (<Math mode="inline" tex="d=512" text="d = 512" xml:id="S4.T1.m12">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> expansions and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S4.T1.m13">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math> tactic samples per expansions) as well as the setups used in <cite class="ltx_citemacro_citet"><bibref bibrefs="han2021proof,zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> to control for compute. We also report the performance of <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m14">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> when trained using the <text font="italic">outcome objective</text> from <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> as an ablation of our proposed <text font="italic">proofsize objective</text>.</caption>
        <tabular class="ltx_centering" vattach="middle">
          <tbody>
            <tr>
              <td align="left" border="tt"><text fontsize="90%">Model</text></td>
              <td align="right" border="tt"><Math mode="inline" tex="d" text="d" xml:id="S4.T1.m15">
                  <XMath>
                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">d</XMTok>
                  </XMath>
                </Math></td>
              <td align="right" border="tt"><Math mode="inline" tex="e" text="e" xml:id="S4.T1.m16">
                  <XMath>
                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">e</XMTok>
                  </XMath>
                </Math></td>
              <td align="right" border="tt"><text font="italic" fontsize="90%">pass@1</text></td>
              <td align="right" border="tt"><text font="italic" fontsize="90%">pass@8</text></td>
            </tr>
            <tr>
              <td align="left" border="t" colspan="5"><text font="italic" fontsize="90%">mathlib-valid</text></td>
            </tr>
            <tr>
              <td align="left"><text fontsize="90%">PACT</text></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">16</text></td>
              <td align="right"><text fontsize="90%">48.4%</text></td>
              <td/>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m17">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="0" role="NUMBER">0</XMTok>
                    </XMApp>
                  </XMath>
                </Math><text fontsize="90%"> (PACT setup)</text></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">16</text></td>
              <td align="right"><text fontsize="90%">48.5%</text></td>
              <td align="right"><text fontsize="90%">57.6%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m18">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="0" role="NUMBER">0</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">8</text></td>
              <td align="right"><text fontsize="90%">46.7%</text></td>
              <td align="right"><text fontsize="90%">57.5%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m19">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">8</text></td>
              <td align="right"><text font="bold" fontsize="90%">56.3%</text></td>
              <td align="right"><text font="bold" fontsize="90%">66.3%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m20">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math><text fontsize="90%"> (</text><text font="italic" fontsize="90%">outcome objective</text><text fontsize="90%">)</text></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">8</text></td>
              <td align="right"><text fontsize="90%">55.6%</text></td>
              <td align="right"><text fontsize="90%">65.9%</text></td>
            </tr>
            <tr>
              <td align="left" border="t" colspan="5"><text font="italic" fontsize="90%">miniF2F-valid</text></td>
            </tr>
            <tr>
              <td align="left"><text fontsize="90%">MiniF2F</text></td>
              <td align="right"><text fontsize="90%">128</text></td>
              <td align="right"><text fontsize="90%">16</text></td>
              <td align="right"><text fontsize="90%">23.9%</text></td>
              <td align="right"><text fontsize="90%">29.3%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m21">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="0" role="NUMBER">0</XMTok>
                    </XMApp>
                  </XMath>
                </Math><text fontsize="90%"> (MiniF2F setup)</text></td>
              <td align="right"><text fontsize="90%">128</text></td>
              <td align="right"><text fontsize="90%">16</text></td>
              <td align="right"><text fontsize="90%">27.6%</text></td>
              <td align="right"><text fontsize="90%">31.8%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.T1.m22">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="0" role="NUMBER">0</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">8</text></td>
              <td align="right"><text fontsize="90%">28.4%</text></td>
              <td align="right"><text fontsize="90%">33.6%</text></td>
            </tr>
            <tr>
              <td align="left"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m23">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">512</text></td>
              <td align="right"><text fontsize="90%">8</text></td>
              <td align="right"><text font="bold" fontsize="90%">28.5%</text></td>
              <td align="right"><text font="bold" fontsize="90%">35.5%</text></td>
            </tr>
            <tr>
              <td align="left" border="bb"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.T1.m24">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math><text fontsize="90%"> (</text><text font="italic" fontsize="90%">outcome objective</text><text fontsize="90%">)</text></td>
              <td align="right" border="bb"><text fontsize="90%">512</text></td>
              <td align="right" border="bb"><text fontsize="90%">8</text></td>
              <td align="right" border="bb"><text fontsize="90%">28.3%</text></td>
              <td align="right" border="bb"><text fontsize="90%">34.7%</text></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <para xml:id="S4.SS4.p7">
        <p>We report in Table <ref labelref="LABEL:fig:bootstrap-eval"/> the pass rates of <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p7.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS4.p7.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> and <text font="italic">miniF2F-valid</text> and compare with previously reported pass rates for equivalent amounts of compute. As reported in <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>, training a value function to guide search greatly improves the pass rates of <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS4.p7.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-valid</text> (see <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> for an ablation of the value function). Interestingly, the gap between <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS4.p7.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS4.p7.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">miniF2F-valid</text> is not as significant, demonstrating that training a value function on proofs sampled from <text font="italic">mathlib-train</text> has limited transfer to <text font="italic">miniF2F-valid</text>. The main differences with <cite class="ltx_citemacro_citet"><bibref bibrefs="zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>, potentially explaining the gap on <text font="italic">minif2f-valid</text> (<Math mode="inline" tex="27.6\%" text="27.6percent" xml:id="S4.SS4.p7.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="27.6" role="NUMBER">27.6</XMTok>
              </XMApp>
            </XMath>
          </Math> vs <Math mode="inline" tex="23.9\%" text="23.9percent" xml:id="S4.SS4.p7.m7">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="23.9" role="NUMBER">23.9</XMTok>
              </XMApp>
            </XMath>
          </Math>), consists in the new pre-training described in section <ref labelref="LABEL:pre-training"/> as well as the use of a more recent <text font="italic">mathlib</text> checkpoint for the <text font="typewriter">mix1</text>, <text font="typewriter">mix2</text> and <text font="typewriter">tactic</text> datasets.</p>
      </para>
<!--  %{\bf␣[kunhao:␣seems␣to␣me␣that␣nothing␣changed␣but␣what␣makes␣the␣perf␣boost␣of␣$\theta_0$␣(\cite{zheng2021minif2f}␣setup)␣compared␣to␣PACT␣in␣Table␣2,␣miniF2F-valid?␣Is␣it␣updated␣WebMath?]} 
     %@kunhao␣yes␣different␣pre-training␣and␣different␣extract␣of␣mathlib.␣Added␣a␣sentence␣on␣that. -->    </subsection>
    <subsection inlist="toc" xml:id="S4.SS5">
      <tags>
        <tag>4.5</tag>
        <tag role="autoref">subsection 4.5</tag>
        <tag role="refnum">4.5</tag>
        <tag role="typerefnum">§4.5</tag>
      </tags>
      <title><tag close=" ">4.5</tag>Iterated sampling and training</title>
      <para xml:id="S4.SS5.p1">
        <p>Our expert iteration process takes as input: (i) a set of formal statements <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S4.SS5.p1.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math>, (ii) a function <Math mode="inline" tex="a:\mathit{St}\xrightarrow[]{}\mathbb{N}" text="a colon St absent@(rightarrow) N" xml:id="S4.SS5.p1.m2">
            <XMath>
              <XMApp>
                <XMTok name="colon" role="METARELOP">:</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMApp>
                  <XMApp role="ARROW">
                    <XMTok meaning="absent" role="OVERACCENT"/>
                    <XMTok name="rightarrow" role="ARROW">→</XMTok>
                  </XMApp>
                  <XMTok font="italic" role="UNKNOWN">St</XMTok>
                  <XMTok font="blackboard" role="UNKNOWN">N</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math> indicating the number of proof search attempts to run per statement at each iteration, (iii) a base model <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS5.p1.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> to fine-tune from at each iteration, and (iv) a <text font="italic">mathlib</text> bootstrapped model <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS5.p1.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> trained on both objectives.</p>
      </para>
      <para xml:id="S4.SS5.p2">
        <p>Each iteration <Math mode="inline" tex="k" text="k" xml:id="S4.SS5.p2.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> consists in sampling proof searches for statements in <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S4.SS5.p2.m2">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> using <Math mode="inline" tex="\theta_{k}" text="theta _ k" xml:id="S4.SS5.p2.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>, filtering successful proof searches <Math mode="inline" tex="S_{k}" text="S _ k" xml:id="S4.SS5.p2.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> to extract a new dataset <Math mode="inline" tex="D_{k}" text="D _ k" xml:id="S4.SS5.p2.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>, and fine-tuning <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS5.p2.m6">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> on it to obtain <Math mode="inline" tex="\theta_{k+1}" text="theta _ (k + 1)" xml:id="S4.SS5.p2.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMApp>
                  <XMTok fontsize="70%" meaning="plus" role="ADDOP">+</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
                  <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>, on which we can iterate. To sample proof searches from <Math mode="inline" tex="St" text="S * t" xml:id="S4.SS5.p2.m8">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok font="italic" role="UNKNOWN">t</XMTok>
              </XMApp>
            </XMath>
          </Math> we use the best-first search described in <cite class="ltx_citemacro_citet"><bibref bibrefs="polu2020generative" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> with the value function described in section <ref labelref="LABEL:proofsize"/>. We attempt <Math mode="inline" tex="a(s\in St)" text="a * (s element-of S * t)" xml:id="S4.SS5.p2.m9">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMDual>
                  <XMRef idref="S4.SS5.p2.m9.1"/>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                    <XMApp xml:id="S4.SS5.p2.m9.1">
                      <XMTok meaning="element-of" name="in" role="RELOP">∈</XMTok>
                      <XMTok font="italic" role="UNKNOWN">s</XMTok>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMTok font="italic" role="UNKNOWN">S</XMTok>
                        <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      </XMApp>
                    </XMApp>
                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                  </XMWrap>
                </XMDual>
              </XMApp>
            </XMath>
          </Math> proof searches for each statement <Math mode="inline" tex="s" text="s" xml:id="S4.SS5.p2.m10">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">s</XMTok>
            </XMath>
          </Math> with <Math mode="inline" tex="d=512" text="d = 512" xml:id="S4.SS5.p2.m11">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> expansions and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S4.SS5.p2.m12">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math> samples per expansion. We denote the set of successful proof searches for iteration <Math mode="inline" tex="k" text="k" xml:id="S4.SS5.p2.m13">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> as <Math mode="inline" tex="S_{k}" text="S _ k" xml:id="S4.SS5.p2.m14">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>.</p>
      </para>
      <para xml:id="S4.SS5.p3">
        <p>Using <Math mode="inline" tex="S_{k}" text="S _ k" xml:id="S4.SS5.p3.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">S</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> we generate datasets <Math mode="inline" tex="D_{k}" text="D _ k" xml:id="S4.SS5.p3.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> by concatenating: (i) the initial <text font="typewriter">tactic</text> dataset (<text font="italic">proofstep objective</text>), (ii) a deduplicated set of proofsteps extracted from the proofs in <Math mode="inline" tex="\bigcup_{1\leq i\leq k}S_{k}" text="(union _ (1 &lt;= i &lt;= k))@(S _ k)" xml:id="S4.SS5.p3.m3">
            <XMath>
              <XMApp>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok mathstyle="text" meaning="union" name="bigcup" role="SUMOP" scriptpos="post">⋃</XMTok>
                  <XMApp>
                    <XMTok meaning="multirelation"/>
                    <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
                    <XMTok fontsize="70%" meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">i</XMTok>
                    <XMTok fontsize="70%" meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">S</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math> (<text font="italic">proofstep objective</text>), and (iii) a deduplicated set of proofsize tuples (goals and proofsize) extracted from the full proof searches in <Math mode="inline" tex="\bigcup_{1\leq i\leq k}S_{k}" text="(union _ (1 &lt;= i &lt;= k))@(S _ k)" xml:id="S4.SS5.p3.m4">
            <XMath>
              <XMApp>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok mathstyle="text" meaning="union" name="bigcup" role="SUMOP" scriptpos="post">⋃</XMTok>
                  <XMApp>
                    <XMTok meaning="multirelation"/>
                    <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
                    <XMTok fontsize="70%" meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">i</XMTok>
                    <XMTok fontsize="70%" meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">S</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math> (<text font="italic">proofsize objective</text>).</p>
      </para>
      <para xml:id="S4.SS5.p4">
        <p>Note that we use a global deduplication across iterations for both proofsteps and proofsize tuples which we found to be important to maintain the stability of the expert iteration procedure. This global deduplication is somewhat equivalent for each statement to growing a unique proof tree by aggregating all the proof searches that have been run for it across iterations. This virtual proof tree accumulates a growing number of positive proof paths as well as a growing number of visited goals that remain unproven. We use these goals as negative examples for the <text font="italic">proofsize objective</text>, labeling them with an infinite proofsize. Positive goals are deduplicated keeping the minimum proof sizes across proof searches.</p>
      </para>
      <para xml:id="S4.SS5.p5">
        <p>Finally <Math mode="inline" tex="\theta_{k}" text="theta _ k" xml:id="S4.SS5.p5.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> is obtained by fine-tuning <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS5.p5.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> for exactly one epoch on <Math mode="inline" tex="D_{k}" text="D _ k" xml:id="S4.SS5.p5.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>. Note that the initial <text font="typewriter">tactic</text> dataset is included in each <Math mode="inline" tex="D_{k}" text="D _ k" xml:id="S4.SS5.p5.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">D</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>, despite <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS5.p5.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> being already trained on it (along with <text font="typewriter">mix1</text>). We found this repetition to be beneficial overall (as it adds the <text font="italic">mathlib</text> extracted proofsteps to our deduplicated per statements virtual proof trees) despite it leading to a slight overfit on the <text font="typewriter">tactic</text> dataset in terms of validation loss.</p>
      </para>
    </subsection>
    <subsection inlist="toc" labels="LABEL:expit-mathlib-train" xml:id="S4.SS6">
      <tags>
        <tag>4.6</tag>
        <tag role="autoref">subsection 4.6</tag>
        <tag role="refnum">4.6</tag>
        <tag role="typerefnum">§4.6</tag>
      </tags>
      <title><tag close=" ">4.6</tag>Expert iteration on <text font="italic">mathlib-train</text></title>
      <para xml:id="S4.SS6.p1">
        <p>In this section we propose to set <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S4.SS6.p1.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> to the statements in <text font="italic">mathlib-train</text>, run our expert iteration process with it and report performance on both <text font="italic">mathlib-valid</text> and <text font="italic">miniF2F-valid</text>. Performance is reported in terms of pass rate (percentage of successful proof searches) as a function of the number of attempts per statement, noted <text font="italic">pass@k</text> where <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p1.m2">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> is the number of attempts per statement at test time. To reduce noise in these metrics we generally run more than <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p1.m3">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> attempts at test time (generally <Math mode="inline" tex="32" text="32" xml:id="S4.SS6.p1.m4">
            <XMath>
              <XMTok meaning="32" role="NUMBER">32</XMTok>
            </XMath>
          </Math> to compute <Math mode="inline" tex="pass@1" text="p * a * s * s * @ * 1" xml:id="S4.SS6.p1.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" role="UNKNOWN">p</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok font="italic" role="UNKNOWN">s</XMTok>
                <XMTok font="italic" role="UNKNOWN">s</XMTok>
                <XMTok role="UNKNOWN">@</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="pass@8" text="p * a * s * s * @ * 8" xml:id="S4.SS6.p1.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" role="UNKNOWN">p</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok font="italic" role="UNKNOWN">s</XMTok>
                <XMTok font="italic" role="UNKNOWN">s</XMTok>
                <XMTok role="UNKNOWN">@</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math>), averaging across attempts as needed to obtain a smoother <text font="italic">pass@k</text> value.</p>
      </para>
      <para xml:id="S4.SS6.p2">
        <p>Given the large number of statements in <text font="italic">mathlib-train</text> (25k) we uniformly set <Math mode="inline" tex="a=1" text="a = 1" xml:id="S4.SS6.p2.m1">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> and use <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S4.SS6.p2.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS6.p2.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> as described in section <ref labelref="LABEL:boostrapping"/> and report <text font="italic">pass@1</text> and <text font="italic">pass@8</text> across 8 iterations in figure <ref labelref="LABEL:fig:pp-mathlib-2"/>. The <text font="italic">pass@1</text> on <text font="italic">mathlib-valid</text> goes from <Math mode="inline" tex="56.3\%" text="56.3percent" xml:id="S4.SS6.p2.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="56.3" role="NUMBER">56.3</XMTok>
              </XMApp>
            </XMath>
          </Math> for <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS6.p2.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> to <Math mode="inline" tex="62.6\%" text="62.6percent" xml:id="S4.SS6.p2.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="62.6" role="NUMBER">62.6</XMTok>
              </XMApp>
            </XMath>
          </Math> for <Math mode="inline" tex="\theta_{9}" text="theta _ 9" xml:id="S4.SS6.p2.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
              </XMApp>
            </XMath>
          </Math>. The performance steadily improves and follows a clear logarithmic scaling law on <text font="italic">mathlib-valid</text>. It is also notable that, initially, transfer to out-of-distribution <text font="italic">minif2f-valid</text> appears limited but eventually kicks in as we reach better performance on <text font="italic">mathlib-valid</text>. This demonstrates that the expert iteration process does not just overfit to <text font="italic">mathlib</text> but also leads to improved performance on out-of-distribution statements.</p>
      </para>
      <figure inlist="lof" labels="LABEL:fig:pp-mathlib-2" placement="ht" xml:id="S4.F1">
        <tags>
          <tag>Figure 1</tag>
          <tag role="autoref">Figure 1</tag>
          <tag role="refnum">1</tag>
          <tag role="typerefnum">Figure 1</tag>
        </tags>
        <p align="center" class="ltx_align_center"><graphics candidates="figures/pp-mathlib-2.pdf" graphic="figures/pp-mathlib-2.pdf" options="width=433.62pt,keepaspectratio=true" xml:id="S4.F1.g1"/></p>
        <toccaption class="ltx_centering"><tag close=" ">1</tag><text font="italic">pass@1</text> (plain) and <text font="italic">pass@8</text> (dotted) for <text font="italic">mathlib-valid</text> and <text font="italic">minif2f-valid</text> when running 8 expert iterations with <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S4.F1.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> set to be the statements in <text font="italic">mathlib-train</text>. The x-axis is log-scaled. It corresponds to the indices of the <Math mode="inline" tex="\theta_{k}" text="theta _ k" xml:id="S4.F1.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> models and serves as a good proxy to compute (the amount of test-time and train-time compute per iteration being fixed). The y-axis is scaled linearly and simply shifted between the two graphs (spans an equal range).</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 1</tag><text font="italic">pass@1</text> (plain) and <text font="italic">pass@8</text> (dotted) for <text font="italic">mathlib-valid</text> and <text font="italic">minif2f-valid</text> when running 8 expert iterations with <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S4.F1.m3">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> set to be the statements in <text font="italic">mathlib-train</text>. The x-axis is log-scaled. It corresponds to the indices of the <Math mode="inline" tex="\theta_{k}" text="theta _ k" xml:id="S4.F1.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math> models and serves as a good proxy to compute (the amount of test-time and train-time compute per iteration being fixed). The y-axis is scaled linearly and simply shifted between the two graphs (spans an equal range).</caption>
      </figure>
      <figure inlist="lof" labels="LABEL:fig:pp-mathlib-3" placement="ht" xml:id="S4.F2">
        <tags>
          <tag>Figure 2</tag>
          <tag role="autoref">Figure 2</tag>
          <tag role="refnum">2</tag>
          <tag role="typerefnum">Figure 2</tag>
        </tags>
        <p align="center" class="ltx_align_center"><graphics candidates="figures/pp-mathlib-3.pdf" graphic="figures/pp-mathlib-3.pdf" options="width=433.62pt,keepaspectratio=true" xml:id="S4.F2.g1"/></p>
        <toccaption class="ltx_centering"><tag close=" ">2</tag>Cumulative pass rate for our <text font="italic">expert iteration</text> loop as well as a <text font="italic">sample only</text> loop where we skip re-training the model between iterations. The <text font="italic">adjusted compute</text> line is computed by fitting the <text font="italic">sample only</text> curve and shifting it to approximate a setup where we would focus all the additional compute used by expert iteration (sampling training data from <text font="italic">mathlib-train</text> as well as re-training models at each iteration) towards running proof searches against <text font="italic">mathlib-valid</text>.</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 2</tag>Cumulative pass rate for our <text font="italic">expert iteration</text> loop as well as a <text font="italic">sample only</text> loop where we skip re-training the model between iterations. The <text font="italic">adjusted compute</text> line is computed by fitting the <text font="italic">sample only</text> curve and shifting it to approximate a setup where we would focus all the additional compute used by expert iteration (sampling training data from <text font="italic">mathlib-train</text> as well as re-training models at each iteration) towards running proof searches against <text font="italic">mathlib-valid</text>.</caption>
      </figure>
      <para xml:id="S4.SS6.p3">
        <p>We define the cumulative pass rate at iteration <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p3.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> as the pass rate consisting of all proof searches up to iteration <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p3.m2">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> (necessarily monotonic in <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p3.m3">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math>). Since we set <Math mode="inline" tex="a=16" text="a = 16" xml:id="S4.SS6.p3.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="16" role="NUMBER">16</XMTok>
              </XMApp>
            </XMath>
          </Math> for evaluation on <text font="italic">mathlib-valid</text> and <text font="italic">minif2f-valid</text> at each iteration, the cumulative pass rate at iteration <Math mode="inline" tex="k" text="k" xml:id="S4.SS6.p3.m5">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">k</XMTok>
            </XMath>
          </Math> can be seen as a noisy ensembled <text font="italic">pass@16k</text> (multiple models (<Math mode="inline" tex="\theta_{k}" text="theta _ k" xml:id="S4.SS6.p3.m6">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>), no averaging). In figure <ref labelref="LABEL:fig:pp-mathlib-3"/>, we report this cumulative pass rate for two iteration loops, our normal one and a sampling-only loop where we skip re-training the model between iterations and solely sample from <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S4.SS6.p3.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math>. This directly compares test-time compute scaling (scaling proof search attempts) to expert iteration scaling (interleaved training on new data sampled from <text font="italic">mathlib-train</text>) and provides a very clear visualization of the gains of expert iteration. For a fair comparison, we also report an <text font="italic">adjusted compute</text> line which approximates the test-time performance we would get at each iteration if we were to focus all the additional compute used by expert iteration (sampling proofs from <text font="italic">mathlib-train</text> as well as re-training models at each iteration) towards solely running proof searches against <text font="italic">mathlib-valid</text>.</p>
      </para>
      <para xml:id="S4.SS6.p4">
        <p>As shown by figure <ref labelref="LABEL:fig:pp-mathlib-3"/>, the scaling exponent of expert iteration is substantially higher than the scaling exponent associated with solely scaling test-time compute (running more proof searches), demonstrating the clear benefit of expert iteration. We’ll denote the fully iterated model from this section as <Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S4.SS6.p4.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">mathlib</text></XMText>
              </XMApp>
            </XMath>
          </Math>.</p>
      </para>
      <para xml:id="S4.SS6.p5">
        <p>Even in the presence of ground-truth proofs for each of the statements in <text font="italic">mathlib-train</text> (<text font="typewriter">tactic</text> dataset), expert iteration generates data that further improves the performance of the model. The number of statements proved in <text font="italic">mathlib-train</text> goes from <Math mode="inline" tex="17390" text="17390" xml:id="S4.SS6.p5.m1">
            <XMath>
              <XMTok meaning="17390" role="NUMBER">17390</XMTok>
            </XMath>
          </Math> (<Math mode="inline" tex="67.8\%" text="67.8percent" xml:id="S4.SS6.p5.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="67.8" role="NUMBER">67.8</XMTok>
              </XMApp>
            </XMath>
          </Math>) at iteration <Math mode="inline" tex="1" text="1" xml:id="S4.SS6.p5.m3">
            <XMath>
              <XMTok meaning="1" role="NUMBER">1</XMTok>
            </XMath>
          </Math> to <Math mode="inline" tex="19476" text="19476" xml:id="S4.SS6.p5.m4">
            <XMath>
              <XMTok meaning="19476" role="NUMBER">19476</XMTok>
            </XMath>
          </Math> (<Math mode="inline" tex="76.0\%" text="76.0percent" xml:id="S4.SS6.p5.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="76.0" role="NUMBER">76.0</XMTok>
              </XMApp>
            </XMath>
          </Math>) at iteration 9, while the average proof length of these statements goes from <Math mode="inline" tex="4.8" text="4.8" xml:id="S4.SS6.p5.m6">
            <XMath>
              <XMTok meaning="4.8" role="NUMBER">4.8</XMTok>
            </XMath>
          </Math> to <Math mode="inline" tex="4.0" text="4.0" xml:id="S4.SS6.p5.m7">
            <XMath>
              <XMTok meaning="4.0" role="NUMBER">4.0</XMTok>
            </XMath>
          </Math>. We hypothesize that this continuously improving performance through expert iteration stems from two effects: (i) the model finding new original proofs for the same statements and (ii) the model closing marginally harder statements at each iteration – which in turn provides more useful training data for the next iteration. By iteration <Math mode="inline" tex="9" text="9" xml:id="S4.SS6.p5.m8">
            <XMath>
              <XMTok meaning="9" role="NUMBER">9</XMTok>
            </XMath>
          </Math>, the model is trained on more than <Math mode="inline" tex="90\%" text="90percent" xml:id="S4.SS6.p5.m9">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="90" role="NUMBER">90</XMTok>
              </XMApp>
            </XMath>
          </Math> generated data. We present in Appendix <ref labelref="LABEL:appendix-mathlib-proofs"/> a few examples of original proofs found by our models on <text font="italic">mathlib-train</text> compared with their ground-truth versions.</p>
      </para>
      <para xml:id="S4.SS6.p6">
        <p>To verify our hypothesis that expert iteration is capable of closing a curriculum of increasingly difficult problems out of a set of problem statements, and that this capability is independent of having access to ground-truth proofs, we propose in the next section to study expert iteration applied to a synthetically generated set of problems for which we have fine-grained control on the difficulty of each statement.</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" labels="LABEL:climbing" xml:id="S5">
    <tags>
      <tag>5</tag>
      <tag role="autoref">section 5</tag>
      <tag role="refnum">5</tag>
      <tag role="typerefnum">§5</tag>
    </tags>
    <title><tag close=" ">5</tag>Statement curriculum learning</title>
    <para xml:id="S5.p1">
      <p>In this section we focus on running expert iteration on synthetic statements generated by an inequality generator. The use of synthetic statements enables us to control the difficulty of each statement to present evidence that expert iteration can hill-climb the intrinsic difficulty gradient of the resulting set of statements. In particular, we show that, at fixed compute budget, expert iteration eventually closes proofs of hard statements that remain completely out of reach of simply sampling proof searches without interleaved training.</p>
    </para>
    <subsection inlist="toc" xml:id="S5.SS1">
      <tags>
        <tag>5.1</tag>
        <tag role="autoref">subsection 5.1</tag>
        <tag role="refnum">5.1</tag>
        <tag role="typerefnum">§5.1</tag>
      </tags>
      <title><tag close=" ">5.1</tag>Synthetic inequality generator</title>
      <para xml:id="S5.SS1.p1">
        <p>We designed a synthetic inequality statement generator for Lean in the spirit of the INT <cite class="ltx_citemacro_citep">(<bibref bibrefs="wu2020int" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> generator. The generator consists in generating inequalities from well known inequality theorems (AM-GM, Trivial inequality, Cauchy-Schwarz, Bernoulli, Young, Hölder) and composing them. It is driven by two difficulty parameters: <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="S5.SS1.p1.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
            </XMath>
          </Math> which controls depth of composition of inequalities and <Math mode="inline" tex="N_{S}" text="N _ S" xml:id="S5.SS1.p1.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
              </XMApp>
            </XMath>
          </Math> which controls the complexity of the input expressions to the composed inequalities. We provide details on its implementation in Appendix <ref labelref="LABEL:appendix-ineq"/>.</p>
      </para>
      <para xml:id="S5.SS1.p2">
        <p>Using this generator we generate a curriculum of <Math mode="inline" tex="5600" text="5600" xml:id="S5.SS1.p2.m1">
            <XMath>
              <XMTok meaning="5600" role="NUMBER">5600</XMTok>
            </XMath>
          </Math> inequality statements (for which we don’t have proofs), <Math mode="inline" tex="100" text="100" xml:id="S5.SS1.p2.m2">
            <XMath>
              <XMTok meaning="100" role="NUMBER">100</XMTok>
            </XMath>
          </Math> for each values of <Math mode="inline" tex="0\leq N_{S}\leq 7" text="0 &lt;= N _ S &lt;= 7" xml:id="S5.SS1.p2.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="multirelation"/>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMTok meaning="7" role="NUMBER">7</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="0\leq N_{D}\leq 6" text="0 &lt;= N _ D &lt;= 6" xml:id="S5.SS1.p2.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="multirelation"/>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMTok meaning="6" role="NUMBER">6</XMTok>
              </XMApp>
            </XMath>
          </Math>. We denote this set of statements as <text font="italic">synth-ineq</text>.</p>
      </para>
      <para xml:id="S5.SS1.p3">
        <p>To bootstrap our models capabilities on this specific task, we also generate <Math mode="inline" tex="100" text="100" xml:id="S5.SS1.p3.m1">
            <XMath>
              <XMTok meaning="100" role="NUMBER">100</XMTok>
            </XMath>
          </Math> statements of low difficulty (<Math mode="inline" tex="N_{D}=1" text="N _ D = 1" xml:id="S5.SS1.p3.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="N_{S}=5" text="N _ S = 5" xml:id="S5.SS1.p3.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
                <XMTok meaning="5" role="NUMBER">5</XMTok>
              </XMApp>
            </XMath>
          </Math>) and formalize a proof for each of these statements. We refer to this dataset as <text font="italic">synth-ineq-train</text>. In the rest of this paper we adjunct this training dataset to the <text font="typewriter">tactic</text> dataset used to train our models.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S5.SS2">
      <tags>
        <tag>5.2</tag>
        <tag role="autoref">subsection 5.2</tag>
        <tag role="refnum">5.2</tag>
        <tag role="typerefnum">§5.2</tag>
      </tags>
      <title><tag close=" ">5.2</tag>Expert iteration on synthetic inequality statements</title>
      <para xml:id="S5.SS2.p1">
        <p>In this section we propose to set <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S5.SS2.p1.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> to the union of the statements in <text font="italic">mathlib-train</text> and <text font="italic">synth-ineq</text>. Again, we uniformly set <Math mode="inline" tex="a=1" text="a = 1" xml:id="S5.SS2.p1.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> and use <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S5.SS2.p1.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S5.SS2.p1.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> as described in section <ref labelref="LABEL:boostrapping"/>, except that they are now also trained on <text font="italic">synth-ineq-train</text>.</p>
      </para>
      <para xml:id="S5.SS2.p2">
        <p>Similarly to the previous section, we report in figure <ref labelref="LABEL:fig:pp-ineq"/> the cumulative pass rate for two loops, our standard expert iteration loop, and a proof search only loop where we don’t interleave training between iterations. The pass rates are reported split by values of <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="S5.SS2.p2.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
            </XMath>
          </Math> (pooling together <Math mode="inline" tex="0\leq N_{S}\leq 7" text="0 &lt;= N _ S &lt;= 7" xml:id="S5.SS2.p2.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="multirelation"/>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMTok meaning="7" role="NUMBER">7</XMTok>
              </XMApp>
            </XMath>
          </Math>) which we found to be the main driver for difficulty.</p>
      </para>
      <figure inlist="lof" labels="LABEL:fig:pp-ineq" placement="ht" xml:id="S5.F3">
        <tags>
          <tag>Figure 3</tag>
          <tag role="autoref">Figure 3</tag>
          <tag role="refnum">3</tag>
          <tag role="typerefnum">Figure 3</tag>
        </tags>
<!--  %****␣main.tex␣Line␣350␣**** -->        <p align="center" class="ltx_align_center"><graphics candidates="figures/pp-ineq.pdf" graphic="figures/pp-ineq.pdf" options="width=433.62pt,keepaspectratio=true" xml:id="S5.F3.g1"/></p>
        <toccaption class="ltx_centering"><tag close=" ">3</tag>Cumulative pass rate for our <text font="italic">expert iteration</text> loop as well as a <text font="italic">sample only</text> loop where we skip re-training the model between iterations. Pass rates are reported for each value of <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="S5.F3.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
            </XMath>
          </Math> (pooling together <Math mode="inline" tex="0\leq N_{S}\leq 7" text="0 &lt;= N _ S &lt;= 7" xml:id="S5.F3.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="multirelation"/>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMTok meaning="7" role="NUMBER">7</XMTok>
              </XMApp>
            </XMath>
          </Math>).</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 3</tag>Cumulative pass rate for our <text font="italic">expert iteration</text> loop as well as a <text font="italic">sample only</text> loop where we skip re-training the model between iterations. Pass rates are reported for each value of <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="S5.F3.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
            </XMath>
          </Math> (pooling together <Math mode="inline" tex="0\leq N_{S}\leq 7" text="0 &lt;= N _ S &lt;= 7" xml:id="S5.F3.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="multirelation"/>
                <XMTok meaning="0" role="NUMBER">0</XMTok>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
                <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                <XMTok meaning="7" role="NUMBER">7</XMTok>
              </XMApp>
            </XMath>
          </Math>).</caption>
      </figure>
      <para xml:id="S5.SS2.p3">
        <p>Despite the challenging nature of these synthetic inequalities, figure <ref labelref="LABEL:fig:pp-ineq"/> demonstrates that expert iteration is capable of learning the intrinsic curriculum induced by <text font="italic">synth-ineq</text>. In particular, expert iteration is capable of closing <Math mode="inline" tex="6" text="6" xml:id="S5.SS2.p3.m1">
            <XMath>
              <XMTok meaning="6" role="NUMBER">6</XMTok>
            </XMath>
          </Math> problems of difficulty <Math mode="inline" tex="N_{D}=6" text="N _ D = 6" xml:id="S5.SS2.p3.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
                <XMTok meaning="6" role="NUMBER">6</XMTok>
              </XMApp>
            </XMath>
          </Math> without having been provided with any seed ground-truth proof for this difficulty level. Note that difficulty <Math mode="inline" tex="N_{D}=6" text="N _ D = 6" xml:id="S5.SS2.p3.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
                <XMTok meaning="6" role="NUMBER">6</XMTok>
              </XMApp>
            </XMath>
          </Math> remains completely out of reach of simply scaling the number of attempts per statements (the <text font="italic">sample only</text> loop remaining stuck at <Math mode="inline" tex="0" text="0" xml:id="S5.SS2.p3.m4">
            <XMath>
              <XMTok meaning="0" role="NUMBER">0</XMTok>
            </XMath>
          </Math> for <Math mode="inline" tex="N_{D}=6" text="N _ D = 6" xml:id="S5.SS2.p3.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
                <XMTok meaning="6" role="NUMBER">6</XMTok>
              </XMApp>
            </XMath>
          </Math>).</p>
      </para>
      <para xml:id="S5.SS2.p4">
        <p>This confirms on our synthetic statements dataset <text font="italic">synth-ineq</text> that not only expert iteration is capable of learning the curricula occurring in a set of statements, but this process also enables the emergence of new capabilities without the need for ground-truth proofs (ability to close, highly challenging, deeply composed inequalities).</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" xml:id="S6">
    <tags>
      <tag>6</tag>
      <tag role="autoref">section 6</tag>
      <tag role="refnum">6</tag>
      <tag role="typerefnum">§6</tag>
    </tags>
    <title><tag close=" ">6</tag>Targeting <text font="italic">miniF2F</text></title>
    <para xml:id="S6.p1">
      <p>Motivated by the results from Section <ref labelref="LABEL:climbing"/>, we curated and manually formalized a set of math exercises to target <text font="italic">miniF2F</text>. <text font="italic">miniF2F</text> statements being quite out of distribution compared to the distribution of statements present in <text font="italic">mathlib</text> (which typically includes generic theorems and lemmas but very few exercises), we hypothesized that if the difficulty of this set of statements was made varied enough, expert iteration could potentially leverage it to effectively shift our models’ distribution closer to <text font="italic">miniF2F</text>’s, and in turn, improve their eventual performance on it.</p>
    </para>
    <subsection inlist="toc" xml:id="S6.SS1">
      <tags>
        <tag>6.1</tag>
        <tag role="autoref">subsection 6.1</tag>
        <tag role="refnum">6.1</tag>
        <tag role="typerefnum">§6.1</tag>
      </tags>
      <title><tag close=" ">6.1</tag>Formalization effort</title>
      <para xml:id="S6.SS1.p1">
        <p>We manually formalized <Math mode="inline" tex="327" text="327" xml:id="S6.SS1.p1.m1">
            <XMath>
              <XMTok meaning="327" role="NUMBER">327</XMTok>
            </XMath>
          </Math> statements<note mark="2" role="footnote" xml:id="footnote2"><tags>
              <tag>2</tag>
              <tag role="autoref">footnote 2</tag>
              <tag role="refnum">2</tag>
              <tag role="typerefnum">footnote 2</tag>
            </tags><ref class="ltx_url" font="typewriter" href="https://github.com/openai/miniF2F/tree/statement_curriculum_learning/lean/src/statement_curriculum_learning">https://github.com/openai/miniF2F/tree/statement_curriculum_learning/lean/src/statement_curriculum_learning</ref></note> drawn from the following sources: <Math mode="inline" tex="302" text="302" xml:id="S6.SS1.p1.m2">
            <XMath>
              <XMTok meaning="302" role="NUMBER">302</XMTok>
            </XMath>
          </Math> examples and exercises from <cite class="ltx_citemacro_citet"><bibref bibrefs="aopsv1,aopsv2" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>. The books are classic problem solving textbooks for students in grades 7-12 preparing for contests such as AMCs and AIMEs. <Math mode="inline" tex="25" text="25" xml:id="S6.SS1.p1.m3">
            <XMath>
              <XMTok meaning="25" role="NUMBER">25</XMTok>
            </XMath>
          </Math> problems from the MATH dataset <cite class="ltx_citemacro_citep">(<bibref bibrefs="hendrycks2021measuring" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>. All problems were drawn from the train split of the dataset, focusing on difficulty 5 problems (<text font="italic">miniF2F</text> only contains problems from the test split).</p>
      </para>
      <para xml:id="S6.SS1.p2">
        <p>We refer to <cite class="ltx_citemacro_citet"><bibref bibrefs="zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> for more details on the formalization procedure and the typical time needed for it as these problems were formalized in similar conditions. We denote this set of statements as <text font="italic">miniF2F-curriculum</text> and verified (based on problem provenance and manual inspection of statements) that it had an empty intersection with <text font="italic">miniF2F-</text>{<text font="italic">test,valid</text>}.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S6.SS2">
      <tags>
        <tag>6.2</tag>
        <tag role="autoref">subsection 6.2</tag>
        <tag role="refnum">6.2</tag>
        <tag role="typerefnum">§6.2</tag>
      </tags>
      <title><tag close=" ">6.2</tag>Transfer to <text font="italic">miniF2F</text></title>
      <para xml:id="S6.SS2.p1">
        <p>In this section we propose to set <Math mode="inline" tex="\mathit{St}" text="St" xml:id="S6.SS2.p1.m1">
            <XMath>
              <XMTok font="italic" role="UNKNOWN">St</XMTok>
            </XMath>
          </Math> to the union of the statements in <text font="italic">mathlib-train</text>, <text font="italic">synth-ineq</text> and <text font="italic">miniF2F-curriculum</text>. We uniformly set <Math mode="inline" tex="a=1" text="a = 1" xml:id="S6.SS2.p1.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">mathlib-train</text> and <text font="italic">synth-ineq</text> and <Math mode="inline" tex="a=8" text="a = 8" xml:id="S6.SS2.p1.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math> on <text font="italic">miniF2F-curriculum</text> and use <Math mode="inline" tex="\theta_{0}" text="theta _ 0" xml:id="S6.SS2.p1.m4">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="0" role="NUMBER">0</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.SS2.p1.m5">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> as described in section <ref labelref="LABEL:climbing"/>.</p>
      </para>
      <figure inlist="lof" labels="LABEL:fig:pp-curr-1" placement="ht" xml:id="S6.F4">
        <tags>
          <tag>Figure 4</tag>
          <tag role="autoref">Figure 4</tag>
          <tag role="refnum">4</tag>
          <tag role="typerefnum">Figure 4</tag>
        </tags>
        <p align="center" class="ltx_align_center"><graphics candidates="figures/pp-curr-1.pdf" graphic="figures/pp-curr-1.pdf" options="width=433.62pt,keepaspectratio=true" xml:id="S6.F4.g1"/></p>
        <toccaption class="ltx_centering"><tag close=" ">4</tag><text font="bold">Left:</text> cumulative pass rate on <text font="italic">miniF2F-valid</text> for our expert iteration loop using our full curriculum (<text font="italic">mathlib-train</text>, <text font="italic">synth-ineq</text> and <text font="italic">miniF2F-curriculum</text>) compared to the expert iteration loop from section <ref labelref="LABEL:expit-mathlib-train"/>. The total number of attempts per iteration in our <text font="italic">full</text> loop is <Math mode="inline" tex="25k+5.6k+8*327\approx 33.2k" text="25 * k + 5.6 * k + 8 * 327 approximately-equals 33.2 * k" xml:id="S6.F4.m1">
            <XMath>
              <XMApp>
                <XMTok meaning="approximately-equals" name="approx" role="RELOP">≈</XMTok>
                <XMApp>
                  <XMTok meaning="plus" role="ADDOP">+</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok meaning="25" role="NUMBER">25</XMTok>
                    <XMTok font="italic" role="UNKNOWN">k</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok meaning="5.6" role="NUMBER">5.6</XMTok>
                    <XMTok font="italic" role="UNKNOWN">k</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">∗</XMTok>
                    <XMTok meaning="8" role="NUMBER">8</XMTok>
                    <XMTok meaning="327" role="NUMBER">327</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok meaning="33.2" role="NUMBER">33.2</XMTok>
                  <XMTok font="italic" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>, which means the total compute deployed is higher than in the <text font="italic">mathlib-train</text> only loop (<Math mode="inline" tex="25k" text="25 * k" xml:id="S6.F4.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok meaning="25" role="NUMBER">25</XMTok>
                <XMTok font="italic" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>). We therefore also report in dotted a <text font="italic">mathlib-train</text> only loop, taking <Math mode="inline" tex="a=2" text="a = 2" xml:id="S6.F4.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="2" role="NUMBER">2</XMTok>
              </XMApp>
            </XMath>
          </Math>, whose total number of attempts per iteration is <Math mode="inline" tex="\approx 50k" text="absent approximately-equals 50 * k" xml:id="S6.F4.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="approximately-equals" name="approx" role="RELOP">≈</XMTok>
                <XMTok meaning="absent"/>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok meaning="50" role="NUMBER">50</XMTok>
                  <XMTok font="italic" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>. <text font="bold">Right:</text> <text font="italic">pass@1</text> (plain) and <text font="italic">pass@8</text> (dotted) for our expert iteration loop using our full curriculum (<text font="italic">mathlib-train</text>, <text font="italic">synth-ineq</text> and <text font="italic">miniF2F-curriculum</text>) compared to the <text font="italic">expert iteration</text> loop from section <ref labelref="LABEL:expit-mathlib-train"/>.</toccaption>
        <caption class="ltx_centering"><tag close=": ">Figure 4</tag><text font="bold">Left:</text> cumulative pass rate on <text font="italic">miniF2F-valid</text> for our expert iteration loop using our full curriculum (<text font="italic">mathlib-train</text>, <text font="italic">synth-ineq</text> and <text font="italic">miniF2F-curriculum</text>) compared to the expert iteration loop from section <ref labelref="LABEL:expit-mathlib-train"/>. The total number of attempts per iteration in our <text font="italic">full</text> loop is <Math mode="inline" tex="25k+5.6k+8*327\approx 33.2k" text="25 * k + 5.6 * k + 8 * 327 approximately-equals 33.2 * k" xml:id="S6.F4.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="approximately-equals" name="approx" role="RELOP">≈</XMTok>
                <XMApp>
                  <XMTok meaning="plus" role="ADDOP">+</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok meaning="25" role="NUMBER">25</XMTok>
                    <XMTok font="italic" role="UNKNOWN">k</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok meaning="5.6" role="NUMBER">5.6</XMTok>
                    <XMTok font="italic" role="UNKNOWN">k</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">∗</XMTok>
                    <XMTok meaning="8" role="NUMBER">8</XMTok>
                    <XMTok meaning="327" role="NUMBER">327</XMTok>
                  </XMApp>
                </XMApp>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok meaning="33.2" role="NUMBER">33.2</XMTok>
                  <XMTok font="italic" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>, which means the total compute deployed is higher than in the <text font="italic">mathlib-train</text> only loop (<Math mode="inline" tex="25k" text="25 * k" xml:id="S6.F4.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok meaning="25" role="NUMBER">25</XMTok>
                <XMTok font="italic" role="UNKNOWN">k</XMTok>
              </XMApp>
            </XMath>
          </Math>). We therefore also report in dotted a <text font="italic">mathlib-train</text> only loop, taking <Math mode="inline" tex="a=2" text="a = 2" xml:id="S6.F4.m7">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="2" role="NUMBER">2</XMTok>
              </XMApp>
            </XMath>
          </Math>, whose total number of attempts per iteration is <Math mode="inline" tex="\approx 50k" text="absent approximately-equals 50 * k" xml:id="S6.F4.m8">
            <XMath>
              <XMApp>
                <XMTok meaning="approximately-equals" name="approx" role="RELOP">≈</XMTok>
                <XMTok meaning="absent"/>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok meaning="50" role="NUMBER">50</XMTok>
                  <XMTok font="italic" role="UNKNOWN">k</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>. <text font="bold">Right:</text> <text font="italic">pass@1</text> (plain) and <text font="italic">pass@8</text> (dotted) for our expert iteration loop using our full curriculum (<text font="italic">mathlib-train</text>, <text font="italic">synth-ineq</text> and <text font="italic">miniF2F-curriculum</text>) compared to the <text font="italic">expert iteration</text> loop from section <ref labelref="LABEL:expit-mathlib-train"/>.</caption>
      </figure>
      <para xml:id="S6.SS2.p2">
        <p>Similarly to previous sections, we report in figure <ref labelref="LABEL:fig:pp-curr-1"/> (left) the cumulative pass rate on <text font="italic">miniF2F-valid</text> of our full curriculum expert iteration loop and compare them with the <text font="italic">mathlib-train</text> only expert iteration from section <ref labelref="LABEL:expit-mathlib-train"/>. Since more compute is deployed in our full-curriculum loop (more statements) we also report a <text font="italic">mathlib-train</text> only loop taking <Math mode="inline" tex="a=2" text="a = 2" xml:id="S6.SS2.p2.m1">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="2" role="NUMBER">2</XMTok>
              </XMApp>
            </XMath>
          </Math>. At the end of the expert iteration, <Math mode="inline" tex="100" text="100" xml:id="S6.SS2.p2.m2">
            <XMath>
              <XMTok meaning="100" role="NUMBER">100</XMTok>
            </XMath>
          </Math> out of the <Math mode="inline" tex="327" text="327" xml:id="S6.SS2.p2.m3">
            <XMath>
              <XMTok meaning="327" role="NUMBER">327</XMTok>
            </XMath>
          </Math> statements from <text font="italic">miniF2F-curriculum</text> end up being closed, suggesting a lack of density in our manually formalized set of statement.</p>
      </para>
      <para xml:id="S6.SS2.p3">
        <p>We also report in figure <ref labelref="LABEL:fig:pp-curr-1"/> (right) the <text font="italic">pass@1</text> and <text font="italic">pass@8</text> for our full curriculum expert iteration loop. The steady improvement on <text font="italic">miniF2F-valid</text> shows that the expert iteration procedure we propose does not overfit on the statements that compose the curriculum it uses. Despite the potential inefficiency of our curriculum, the improved performance associated with its use demonstrates, as hypothesized, an effective transfer between <text font="italic">miniF2F-curriculum, synth-ineq</text> and <text font="italic">miniF2F-valid</text> through expert iteration. We’ll denote the fully iterated model from this section as <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.SS2.p3.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math>.</p>
      </para>
    </subsection>
    <subsection inlist="toc" xml:id="S6.SS3">
      <tags>
        <tag>6.3</tag>
        <tag role="autoref">subsection 6.3</tag>
        <tag role="refnum">6.3</tag>
        <tag role="typerefnum">§6.3</tag>
      </tags>
      <title><tag close=" ">6.3</tag>Results</title>
      <table inlist="lot" labels="LABEL:fig:final-results" placement="ht" xml:id="S6.T2">
        <tags>
          <tag>Table 2</tag>
          <tag role="autoref">Table 2</tag>
          <tag role="refnum">2</tag>
          <tag role="typerefnum">Table 2</tag>
        </tags>
        <toccaption><tag close=" ">2</tag>Performance of <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> (value-function based search), <Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">mathlib</text></XMText>
              </XMApp>
            </XMath>
          </Math> (expert iterated on <text font="italic">mathlib-train</text>) and <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math> (expert iterated on our full curriculum) on <text font="italic">mathlib-</text>{<text font="italic">valid, test</text>} and <text font="italic">miniF2F-</text>{<text font="italic">valid, test</text>}. All proof searches are run with <Math mode="inline" tex="d=512" text="d = 512" xml:id="S6.T2.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S6.T2.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math>.</toccaption>
        <caption><tag close=": ">Table 2</tag>Performance of <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m6">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> (value-function based search), <Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">mathlib</text></XMText>
              </XMApp>
            </XMath>
          </Math> (expert iterated on <text font="italic">mathlib-train</text>) and <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m8">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math> (expert iterated on our full curriculum) on <text font="italic">mathlib-</text>{<text font="italic">valid, test</text>} and <text font="italic">miniF2F-</text>{<text font="italic">valid, test</text>}. All proof searches are run with <Math mode="inline" tex="d=512" text="d = 512" xml:id="S6.T2.m9">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> and <Math mode="inline" tex="e=8" text="e = 8" xml:id="S6.T2.m10">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math>.</caption>
        <tabular class="ltx_centering ltx_guessed_headers" vattach="middle">
          <tbody>
            <tr>
              <td align="left" border="tt" thead="row"><text fontsize="90%">Model</text></td>
              <td align="right" border="tt"><text font="italic" fontsize="90%">pass@1</text></td>
              <td align="right" border="tt"><text font="italic" fontsize="90%">pass@8</text></td>
              <td align="right" border="tt"><text font="italic" fontsize="90%">pass@64</text></td>
            </tr>
            <tr>
              <td align="left" border="t" colspan="4" thead="row"><text font="italic" fontsize="90%">mathlib-valid</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><text fontsize="90%">PACT </text><cite class="ltx_citemacro_citep"><text fontsize="90%">(</text><bibref bibrefs="han2021proof" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
                    <bibrefphrase><text fontsize="90%">, </text></bibrefphrase>
                  </bibref><text fontsize="90%">)</text></cite></td>
              <td align="right"><text fontsize="90%">48.4%</text></td>
              <td align="right"><text fontsize="90%">-</text></td>
              <td align="right"><text fontsize="90%">-</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m11">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">56.3%</text></td>
              <td align="right"><text fontsize="90%">66.3%</text></td>
              <td align="right"><text fontsize="90%">72.0%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m12">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">mathlib</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text font="bold" fontsize="90%">62.6%</text></td>
              <td align="right"><text font="bold" fontsize="90%">70.7%</text></td>
              <td align="right"><text font="bold" fontsize="90%">75.8%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m13">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">full</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">61.7%</text></td>
              <td align="right"><text fontsize="90%">69.8%</text></td>
              <td align="right"><text fontsize="90%">75.3%</text></td>
            </tr>
            <tr>
              <td align="left" colspan="4" thead="row"><text font="italic" fontsize="90%">mathlib-test</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m14">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">56.5%</text></td>
              <td align="right"><text fontsize="90%">66.9%</text></td>
              <td align="right"><text fontsize="90%">73.7%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m15">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">mathlib</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text font="bold" fontsize="90%">63.0%</text></td>
              <td align="right"><text fontsize="90%">71.5%</text></td>
              <td align="right"><text font="bold" fontsize="90%">77.1%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m16">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">full</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">62.9%</text></td>
              <td align="right"><text font="bold" fontsize="90%">71.6%</text></td>
              <td align="right"><text fontsize="90%">76.3%</text></td>
            </tr>
            <tr>
              <td align="left" border="t" colspan="4" thead="row"><text font="italic" fontsize="90%">miniF2F-valid</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><text fontsize="90%">PACT </text><cite class="ltx_citemacro_citep"><text fontsize="90%">(</text><bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
                    <bibrefphrase><text fontsize="90%">, </text></bibrefphrase>
                  </bibref><text fontsize="90%">)</text></cite></td>
              <td align="right"><text fontsize="90%">23.9%</text></td>
              <td align="right"><text fontsize="90%">29.3%</text></td>
              <td align="right"><text fontsize="90%">-</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m17">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">28.5%</text></td>
              <td align="right"><text fontsize="90%">35.5%</text></td>
              <td align="right"><text fontsize="90%">41.2%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m18">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">mathlib</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">31.3%</text></td>
              <td align="right"><text fontsize="90%">38.3%</text></td>
              <td align="right"><text fontsize="90%">44.1%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m19">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">full</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text font="bold" fontsize="90%">33.6%</text></td>
              <td align="right"><text font="bold" fontsize="90%">41.2%</text></td>
              <td align="right"><text font="bold" fontsize="90%">47.3%</text></td>
            </tr>
            <tr>
              <td align="left" colspan="4" thead="row"><text font="italic" fontsize="90%">miniF2F-test</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><text fontsize="90%">PACT </text><cite class="ltx_citemacro_citep"><text fontsize="90%">(</text><bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
                    <bibrefphrase><text fontsize="90%">, </text></bibrefphrase>
                  </bibref><text fontsize="90%">)</text></cite></td>
              <td align="right"><text fontsize="90%">24.6%</text></td>
              <td align="right"><text fontsize="90%">29.2%</text></td>
              <td align="right"><text fontsize="90%">-</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.T2.m20">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                      <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                      <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">25.9%</text></td>
              <td align="right"><text fontsize="90%">31.1%</text></td>
              <td align="right"><text fontsize="90%">33.6%</text></td>
            </tr>
            <tr>
              <td align="left" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.T2.m21">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">mathlib</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right"><text fontsize="90%">27.2%</text></td>
              <td align="right"><text fontsize="90%">33.0%</text></td>
              <td align="right"><text fontsize="90%">35.2%</text></td>
            </tr>
            <tr>
              <td align="left" border="bb" thead="row"><Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.T2.m22">
                  <XMath>
                    <XMApp>
                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" fontsize="90%" name="theta" role="UNKNOWN">θ</XMTok>
                        <XMTok fontsize="63%" meaning="9" role="NUMBER">9</XMTok>
                      </XMApp>
                      <XMText><text font="italic" fontsize="63%">full</text></XMText>
                    </XMApp>
                  </XMath>
                </Math></td>
              <td align="right" border="bb"><text font="bold" fontsize="90%">29.6%</text></td>
              <td align="right" border="bb"><text font="bold" fontsize="90%">34.5%</text></td>
              <td align="right" border="bb"><text font="bold" fontsize="90%">36.6%</text></td>
            </tr>
          </tbody>
        </tabular>
<!--  %****␣main.tex␣Line␣425␣**** -->      </table>
      <para xml:id="S6.SS3.p1">
        <p>We report in table <ref labelref="LABEL:fig:final-results"/> the pass rates on <text font="italic">mathlib-</text>{<text font="italic">valid, test</text>} and <text font="italic">miniF2F-</text>{<text font="italic">valid, test</text>} for the models trained in previous sections, namely <Math mode="inline" tex="\theta_{1}" text="theta _ 1" xml:id="S6.SS3.p1.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                <XMTok fontsize="70%" meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math>, <Math mode="inline" tex="\theta_{9}^{\textit{mathlib}}" text="(theta _ 9) ^ [mathlib]" xml:id="S6.SS3.p1.m2">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">mathlib</text></XMText>
              </XMApp>
            </XMath>
          </Math>, and <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.SS3.p1.m3">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math>. We achieve a <Math mode="inline" tex="47.3\%" text="47.3percent" xml:id="S6.SS3.p1.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="47.3" role="NUMBER">47.3</XMTok>
              </XMApp>
            </XMath>
          </Math> pass rate (using <Math mode="inline" tex="a=64" text="a = 64" xml:id="S6.SS3.p1.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="64" role="NUMBER">64</XMTok>
              </XMApp>
            </XMath>
          </Math> attempts) on <text font="italic">miniF2F-valid</text> and a <Math mode="inline" tex="36.6\%" text="36.6percent" xml:id="S6.SS3.p1.m6">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="36.6" role="NUMBER">36.6</XMTok>
              </XMApp>
            </XMath>
          </Math> pass rate on <text font="italic">miniF2F-test</text>, substantially improving from the previous state-of-the-art <cite class="ltx_citemacro_citep">(<bibref bibrefs="zheng2021minif2f" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>.</p>
      </para>
      <para xml:id="S6.SS3.p2">
        <p>These results include the resolution of <Math mode="inline" tex="26" text="26" xml:id="S6.SS3.p2.m1">
            <XMath>
              <XMTok meaning="26" role="NUMBER">26</XMTok>
            </XMath>
          </Math> AMC12 problems, <Math mode="inline" tex="6" text="6" xml:id="S6.SS3.p2.m2">
            <XMath>
              <XMTok meaning="6" role="NUMBER">6</XMTok>
            </XMath>
          </Math> AIME problems and <Math mode="inline" tex="2" text="2" xml:id="S6.SS3.p2.m3">
            <XMath>
              <XMTok meaning="2" role="NUMBER">2</XMTok>
            </XMath>
          </Math> problems adapted from the IMOs. Out of these statements, <Math mode="inline" tex="4" text="4" xml:id="S6.SS3.p2.m4">
            <XMath>
              <XMTok meaning="4" role="NUMBER">4</XMTok>
            </XMath>
          </Math> AMC12 problems (<verbatim font="typewriter">amc12b_2020_p5</verbatim>, <verbatim font="typewriter">amc12a_2009_p9</verbatim>, <verbatim font="typewriter">amc12a_2003_p24</verbatim>, <verbatim font="typewriter">amc12b_2003_p17</verbatim>), <Math mode="inline" tex="2" text="2" xml:id="S6.SS3.p2.m5">
            <XMath>
              <XMTok meaning="2" role="NUMBER">2</XMTok>
            </XMath>
          </Math> AIME problems (<verbatim font="typewriter">aime_1984_p1</verbatim>, <verbatim font="typewriter">aime_1990_p4</verbatim>), and <Math mode="inline" tex="2" text="2" xml:id="S6.SS3.p2.m6">
            <XMath>
              <XMTok meaning="2" role="NUMBER">2</XMTok>
            </XMath>
          </Math> IMO-adapted problems (<verbatim font="typewriter">imo_1961_p1</verbatim><note mark="3" role="footnote" xml:id="footnote3"><tags>
              <tag>3</tag>
              <tag role="autoref">footnote 3</tag>
              <tag role="refnum">3</tag>
              <tag role="typerefnum">footnote 3</tag>
            </tags>Note that this IMO-adapted statement from <text font="italic">miniF2F-valid</text> is a much weaker version than the original problem (see Appendix <ref labelref="LABEL:appendix-proofs"/> for more context)</note>, <verbatim font="typewriter">imo_1964_p2</verbatim>) are uniquely solved by expert iterated models, the two IMO-adapted and the two AIME problems being uniquely solved by <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S6.SS3.p2.m7">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math>.</p>
      </para>
      <para xml:id="S6.SS3.p3">
        <p>We provide a selection of the proofs found by our models for these statements as well as a qualitative analysis of them in Appendix <ref labelref="LABEL:appendix-proofs"/>.</p>
      </para>
      <para xml:id="S6.SS3.p4">
        <p>Also, we achieve a higher than <Math mode="inline" tex="75\%" text="75percent" xml:id="S6.SS3.p4.m1">
            <XMath>
              <XMApp>
                <XMTok meaning="percent" role="POSTFIX">%</XMTok>
                <XMTok meaning="75" role="NUMBER">75</XMTok>
              </XMApp>
            </XMath>
          </Math> pass rate (using <Math mode="inline" tex="a=64" text="a = 64" xml:id="S6.SS3.p4.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="64" role="NUMBER">64</XMTok>
              </XMApp>
            </XMath>
          </Math> attempts) on <text font="italic">mathlib-</text>{<text font="italic">valid, test</text>} (a new state-of-the-art as well) suggesting that our models have the potential to be effectively leveraged as proof assistants in the formalization efforts associated with <text font="italic">mathlib</text>.</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" xml:id="S7">
    <tags>
      <tag>7</tag>
      <tag role="autoref">section 7</tag>
      <tag role="refnum">7</tag>
      <tag role="typerefnum">§7</tag>
    </tags>
    <title><tag close=" ">7</tag>Discussion</title>
    <subsection inlist="toc" xml:id="S7.SS1">
      <tags>
        <tag>7.1</tag>
        <tag role="autoref">subsection 7.1</tag>
        <tag role="refnum">7.1</tag>
        <tag role="typerefnum">§7.1</tag>
      </tags>
      <title><tag close=" ">7.1</tag>Model Size</title>
      <para xml:id="S7.SS1.p1">
        <p>Throughout this paper, we used a single model size (774m trainable parameters). We briefly experimented with different model sizes (not reported in this paper) and found that model size scaling is not as straightforward as in the case of unsupervised learning <cite class="ltx_citemacro_citep">(<bibref bibrefs="kaplan2020scaling" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>. We found that bigger models are better, in the sense that they consistently exhibit higher <text font="italic">pass@1</text>. But, they are also much more expensive to sample from. And despite their <text font="italic">pass@1</text> being higher, it is often the case that for a fixed amount of compute, sampling more attempts from a smaller model leads to a better final performance.</p>
      </para>
      <para xml:id="S7.SS1.p2">
        <p>For the compute budget we had available, we estimated the model size we used to be a compelling trade-off. We leave as future work a more thorough study of these dynamics to better understand the different compute frontiers involved. Indicatively, with our 774m parameters model, running a full expert iteration to train <Math mode="inline" tex="\theta_{9}^{\textit{full}}" text="(theta _ 9) ^ [full]" xml:id="S7.SS1.p2.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" name="theta" role="UNKNOWN">θ</XMTok>
                  <XMTok fontsize="70%" meaning="9" role="NUMBER">9</XMTok>
                </XMApp>
                <XMText><text font="italic" fontsize="70%">full</text></XMText>
              </XMApp>
            </XMath>
          </Math> required about <Math mode="inline" tex="2000" text="2000" xml:id="S7.SS1.p2.m2">
            <XMath>
              <XMTok meaning="2000" role="NUMBER">2000</XMTok>
            </XMath>
          </Math> A100 days of compute. Running one full proof search (<Math mode="inline" tex="a=1" text="a = 1" xml:id="S7.SS1.p2.m3">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok meaning="1" role="NUMBER">1</XMTok>
              </XMApp>
            </XMath>
          </Math> <Math mode="inline" tex="d=512" text="d = 512" xml:id="S7.SS1.p2.m4">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok meaning="512" role="NUMBER">512</XMTok>
              </XMApp>
            </XMath>
          </Math> <Math mode="inline" tex="e=8" text="e = 8" xml:id="S7.SS1.p2.m5">
            <XMath>
              <XMApp>
                <XMTok meaning="equals" role="RELOP">=</XMTok>
                <XMTok font="italic" role="UNKNOWN">e</XMTok>
                <XMTok meaning="8" role="NUMBER">8</XMTok>
              </XMApp>
            </XMath>
          </Math>) when properly parallelised, requires on average about <Math mode="inline" tex="0.1" text="0.1" xml:id="S7.SS1.p2.m6">
            <XMath>
              <XMTok meaning="0.1" role="NUMBER">0.1</XMTok>
            </XMath>
          </Math> A100 hour of compute.</p>
      </para>
    </subsection>
    <subsection inlist="toc" labels="LABEL:limitations" xml:id="S7.SS2">
      <tags>
        <tag>7.2</tag>
        <tag role="autoref">subsection 7.2</tag>
        <tag role="refnum">7.2</tag>
        <tag role="typerefnum">§7.2</tag>
      </tags>
      <title><tag close=" ">7.2</tag>Limitations</title>
      <para xml:id="S7.SS2.p1">
        <p>Despite our models’ capability, as discussed in Appendix <ref labelref="LABEL:appendix-qualitative"/>, to generate cuts and witnesses, we believe that their current main limitation lies in their inability (under our proposed search procedure) to chain more than 2 or 3 non-trivial steps of mathematical reasoning, preventing them from consistently (instead of exceptionally) solving challenging olympiad problems. We’ve been repeatedly impressed by the complexity of some of the proofsteps generated by our models. But, proofs requiring many of such reasoning steps remain beyond our current compute horizon. Even if we solved a selection of challenging olympiad problems, our models are still very far from being competitive with the brightest students in these competitions.</p>
      </para>
      <para xml:id="S7.SS2.p2">
        <p><!--  %****␣main.tex␣Line␣450␣**** -->While our models have demonstrated some capabilities to generate cuts, the cuts they generate are often shallow (they involve only a few proofsteps and don’t necessarily deeply change the structure of the proof–we refer the reader to the Cut-Elimination theorem and <cite class="ltx_citemacro_citet"><bibref bibrefs="carbone1996cuts" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> for a discussion of the influence of cuts on proof size). We believe that studying language models’ ability to generate cuts, and designing search procedures that leverage that capability (related ideas can be found in <cite class="ltx_citemacro_citet"><bibref bibrefs="czechowski2021subgoal" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>), are interesting avenues of research to alleviate this limitation.</p>
      </para>
    </subsection>
  </section>
  <section inlist="toc" xml:id="S8">
    <tags>
      <tag>8</tag>
      <tag role="autoref">section 8</tag>
      <tag role="refnum">8</tag>
      <tag role="typerefnum">§8</tag>
    </tags>
    <title><tag close=" ">8</tag>Conclusion</title>
    <para xml:id="S8.p1">
      <p>In this paper we presented an expert iteration procedure for <text font="italic">GPT-f<cite class="ltx_citemacro_citep"><text font="upright">(</text><bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase><text font="upright">, </text></bibrefphrase>
            </bibref><text font="upright">)</text></cite></text>, demonstrating that it is capable of solving a curriculum of increasingly difficult problems out of a set of formal statements of sufficiently varied difficulty. Our results suggest that the lack of self-play in the formal mathematics setup can be effectively compensated for by automatically as well as manually curated sets of formal statements, which are much cheaper to formalize than full proofs. Finally, we hope that the <text font="italic">statement curriculum learning</text> methodology we presented in this work will help accelerate progress in automated reasoning, especially if scaled with automated generation and curation of formal statements in the future.</p>
    </para>
  </section>
  <bibliography citestyle="authoryear" files="references.bib" xml:id="bib">
    <title>References</title>
  </bibliography>
  <pagination role="newpage"/>
  <appendix inlist="toc" labels="LABEL:appendix-related" xml:id="A1">
    <tags>
      <tag>Appendix A</tag>
      <tag role="autoref">Appendix A</tag>
      <tag role="refnum">A</tag>
      <tag role="typerefnum">Appendix A</tag>
    </tags>
    <title><tag close=" ">Appendix A</tag>Related Work</title>
    <toctitle><tag close=" ">A</tag>Related Work</toctitle>
    <paragraph inlist="toc" xml:id="A1.SS0.SSS0.Px1">
      <title>Deep learning applied to premise selection and proof guidance</title>
      <para xml:id="A1.SS0.SSS0.Px1.p1">
        <p>Early applications of deep learning to formal mathematics focused primarily on premise selection and proof guidance. DeepMath <cite class="ltx_citemacro_citep">(<bibref bibrefs="irving2016deepmath" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> explored the use of CNNs and RNNs to predict whether a premise is useful to demonstrate a given conjecture. Their results were later improved with FormulaNet <cite class="ltx_citemacro_citep">(<bibref bibrefs="wang2017premise" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> by the use of graph neural networks, reminiscent of NeuroSAT <cite class="ltx_citemacro_citep">(<bibref bibrefs="selsam2018learning" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>. Proof guidance consists in selecting the next clause to process <text font="italic">inside</text> an automated theorem prover. <cite class="ltx_citemacro_citet"><bibref bibrefs="loos2017deep" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> investigated the use of models similar to DeepMath’s for proof guidance and demonstrated a significant uplift on the Mizar library. More recently <cite class="ltx_citemacro_citet"><bibref bibrefs="firoiu2021training" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> demonstrated the potential of deep learning techniques to be competitive with E prover’s heuristics when applied to resolution calculus while training on fully synthetic data.</p>
      </para>
    </paragraph>
    <paragraph inlist="toc" xml:id="A1.SS0.SSS0.Px2">
      <title>Deep learning applied to automated theorem-proving</title>
      <para xml:id="A1.SS0.SSS0.Px2.p1">
        <p><text font="italic">HOList</text> <cite class="ltx_citemacro_citep">(<bibref bibrefs="bansal2019holist" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> proposes a formal environment based on HOL Light. They achieve their best performance <cite class="ltx_citemacro_citep">(<bibref bibrefs="bansal2019learning" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> with a GNN model designed for premise selection and the use of exploration. The same team studied the use of a skip-tree objective with Transformers on formal statements <cite class="ltx_citemacro_citep">(<bibref bibrefs="rabe2020language" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>, demonstrating, along with GPT-f <cite class="ltx_citemacro_citep">(<bibref bibrefs="polu2020generative" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite>, the potential of leveraging Transformers for formal reasoning. <text font="italic">GamePad</text> <cite class="ltx_citemacro_citep">(<bibref bibrefs="huang2018gamepad" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> and <text font="italic">CoqGymn/ASTactic</text> <cite class="ltx_citemacro_citep">(<bibref bibrefs="yang2019learning" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> introduce environments based on the Coq theorem prover. <text font="italic">ASTactic</text> generates tactics as programs by sequentially expanding a partial abstract syntax tree. <cite class="ltx_citemacro_citet"><bibref bibrefs="urban2020first" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite> studied the capability of GPT-2 to produce useful conjectures for the Mizar library and IsarStep <cite class="ltx_citemacro_citep">(<bibref bibrefs="li2020modelling" separator=";" show="AuthorsPhrase1Year" yyseparator=",">
              <bibrefphrase>, </bibrefphrase>
            </bibref>)</cite> explored the synthesis of intermediate propositions in declarative proofs for Isabelle/HOL using Transformers.</p>
      </para>
    </paragraph>
  </appendix>
  <appendix inlist="toc" labels="LABEL:appendix-leangym" xml:id="A2">
    <tags>
      <tag>Appendix B</tag>
      <tag role="autoref">Appendix B</tag>
      <tag role="refnum">B</tag>
      <tag role="typerefnum">Appendix B</tag>
    </tags>
    <title><tag close=" ">Appendix B</tag>Lean-gym</title>
    <toctitle><tag close=" ">B</tag>Lean-gym</toctitle>
    <para xml:id="A2.p1">
      <p><text font="typewriter">lean-gym</text> presents the following API:</p>
    </para>
    <para xml:id="A2.p2">
      <itemize xml:id="A2.I1">
        <item xml:id="A2.I1.i1">
          <tags>
            <tag>•</tag>
            <tag role="autoref">item </tag>
            <tag role="typerefnum">1st item</tag>
          </tags>
          <para xml:id="A2.I1.i1.p1">
            <p><verbatim font="typewriter">init-search</verbatim>: <Math mode="inline" tex="declaration\to tactic\_state" text="d * e * c * l * a * r * a * t * i * o * n to t * a * c * t * i * c * _ * s * t * a * t * e" xml:id="A2.I1.i1.p1.m1">
                <XMath>
                  <XMApp>
                    <XMTok name="to" role="ARROW">→</XMTok>
                    <XMApp>
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok font="italic" role="UNKNOWN">d</XMTok>
                      <XMTok font="italic" role="UNKNOWN">e</XMTok>
                      <XMTok font="italic" role="UNKNOWN">c</XMTok>
                      <XMTok font="italic" role="UNKNOWN">l</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">r</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">i</XMTok>
                      <XMTok font="italic" role="UNKNOWN">o</XMTok>
                      <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    </XMApp>
                    <XMApp>
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">c</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">i</XMTok>
                      <XMTok font="italic" role="UNKNOWN">c</XMTok>
                      <XMTok role="UNKNOWN">_</XMTok>
                      <XMTok font="italic" role="UNKNOWN">s</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">e</XMTok>
                    </XMApp>
                  </XMApp>
                </XMath>
              </Math>. Takes a declaration name (a theorem name from the loaded library) and initializes a search while setting the run-time environment at that particular declaration. It returns the initial tactic state along with a fresh <verbatim font="typewriter">search_id</verbatim> and <verbatim font="typewriter">tactic_state_id</verbatim>.</p>
          </para>
        </item>
        <item xml:id="A2.I1.i2">
          <tags>
            <tag>•</tag>
            <tag role="autoref">item </tag>
            <tag role="typerefnum">2nd item</tag>
          </tags>
          <para xml:id="A2.I1.i2.p1">
            <p><verbatim font="typewriter">run_tac</verbatim>: <Math mode="inline" tex="(tactic\_state,tactic)\to tactic\_state" text="open-interval@(t * a * c * t * i * c * _ * s * t * a * t * e, t * a * c * t * i * c) to t * a * c * t * i * c * _ * s * t * a * t * e" xml:id="A2.I1.i2.p1.m1">
                <XMath>
                  <XMApp>
                    <XMTok name="to" role="ARROW">→</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="open-interval"/>
                        <XMRef idref="A2.I1.i2.p1.m1.1"/>
                        <XMRef idref="A2.I1.i2.p1.m1.2"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                        <XMApp xml:id="A2.I1.i2.p1.m1.1">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">a</XMTok>
                          <XMTok font="italic" role="UNKNOWN">c</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">i</XMTok>
                          <XMTok font="italic" role="UNKNOWN">c</XMTok>
                          <XMTok role="UNKNOWN">_</XMTok>
                          <XMTok font="italic" role="UNKNOWN">s</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">a</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">e</XMTok>
                        </XMApp>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMApp xml:id="A2.I1.i2.p1.m1.2">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">a</XMTok>
                          <XMTok font="italic" role="UNKNOWN">c</XMTok>
                          <XMTok font="italic" role="UNKNOWN">t</XMTok>
                          <XMTok font="italic" role="UNKNOWN">i</XMTok>
                          <XMTok font="italic" role="UNKNOWN">c</XMTok>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                      </XMWrap>
                    </XMDual>
                    <XMApp>
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">c</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">i</XMTok>
                      <XMTok font="italic" role="UNKNOWN">c</XMTok>
                      <XMTok role="UNKNOWN">_</XMTok>
                      <XMTok font="italic" role="UNKNOWN">s</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">t</XMTok>
                      <XMTok font="italic" role="UNKNOWN">e</XMTok>
                    </XMApp>
                  </XMApp>
                </XMath>
              </Math>. Takes a <verbatim font="typewriter">search_id</verbatim> and a <verbatim font="typewriter">tactic_state_id</verbatim> to identify a tactic state, as well as a tactic string to apply to it. It returns a new tactic state and its associated <verbatim font="typewriter">tactic_state_id</verbatim>.</p>
          </para>
        </item>
      </itemize>
    </para>
    <para xml:id="A2.p3">
      <p>Below is an example in-terminal trace demonstrating the use of <text font="typewriter">lean-gym</text>’s REPL interface:</p>
    </para>
    <para xml:id="A2.p4">
      <verbatim font="typewriter">
$ lean --run src/repl.lean
["init_search", ["int.prime.dvd_mul", ""]]
{
  "error":null,
  "search_id":"0",
  "tactic_state":"  {m n : } {p : }, nat.prime p 
                    p  m * n  p  m.nat_abs  p  n.nat_abs",
  "tactic_state_id":"0"
}
...
["run_tac",["1","1","apply (nat.prime.dvd_mul hp).mp"]]
{
  "error":null,
  "search_id":"1",
  "tactic_state":"m n : , p : , hp : nat.prime p, h : p  m * n
                   p  m.nat_abs * n.nat_abs",
  "tactic_state_id":"2"
}
...
</verbatim>
    </para>
    <para xml:id="A2.p5">
      <p>Using <text font="typewriter">lean-gym</text> is virtually equivalent to opening a Lean editor at a specific theorem, deleting its proof and interacting with Lean to reconstruct it.</p>
    </para>
    <para xml:id="A2.p6">
      <p>Providing a REPL interface over the standard input/output makes it very easy to integrate <text font="typewriter">lean-gym</text> from any programming language. Writing a wrapper in Python, as an example, only takes a few dozen lines of code. Since <text font="typewriter">lean-gym</text> is a Lean program, managing the loaded libraries is done directly using Lean’s own infrastructure (using <text font="typewriter">leanpkg.toml</text>), making it quite straightforward to have access to both <text font="italic">mathlib</text> and <text font="italic">miniF2F</text> statements from the same <text font="typewriter">lean-gym</text> instance.</p>
    </para>
    <para xml:id="A2.p7">
      <p>Note that <text font="typewriter">lean-gym</text> is stateful, meaning that distributing proof searches on multiple <text font="typewriter">lean-gym</text> instances requires to track which instance is associated with which proof search. In practice, we were able to scale the use of <text font="typewriter">lean-gym</text> to thousands of cores running thousands of proof searches in parallel. Finally, <text font="typewriter">lean-gym</text>’s REPL interface is blocking, preventing inner-proof search parallelization, though this limitation can probably be removed in the future.</p>
    </para>
  </appendix>
  <appendix inlist="toc" labels="LABEL:appendix-webmath" xml:id="A3">
    <tags>
      <tag>Appendix C</tag>
      <tag role="autoref">Appendix C</tag>
      <tag role="refnum">C</tag>
      <tag role="typerefnum">Appendix C</tag>
    </tags>
    <title><tag close=" ">Appendix C</tag>WebMath</title>
    <toctitle><tag close=" ">C</tag>WebMath</toctitle>
    <para xml:id="A3.p1">
      <p>Our updated <text font="italic">WebMath</text> pre-training dataset consists in the mix presented in table <ref labelref="LABEL:table:webmath"/>.</p>
    </para>
    <table inlist="lot" labels="LABEL:table:webmath" placement="t" xml:id="A3.T3">
      <tags>
        <tag>Table 3</tag>
        <tag role="autoref">Table 3</tag>
        <tag role="refnum">3</tag>
        <tag role="typerefnum">Table 3</tag>
      </tags>
      <toccaption><tag close=" ">3</tag>Mix and source of data involved in the updated <text font="italic">WebMath</text> pre-training.</toccaption>
      <caption><tag close=": ">Table 3</tag>Mix and source of data involved in the updated <text font="italic">WebMath</text> pre-training.</caption>
      <tabular class="ltx_centering ltx_guessed_headers" vattach="middle">
        <thead>
          <tr>
            <td align="left" border="tt" thead="column row"><text fontsize="90%">Dataset</text></td>
            <td align="right" border="tt" thead="column"><text fontsize="90%">Size</text></td>
            <td align="right" border="tt" thead="column"><text fontsize="90%">Mix</text></td>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td align="left" border="t" thead="row"><text fontsize="90%">Github Python</text></td>
            <td align="right" border="t"><text fontsize="90%">179 GB</text></td>
            <td align="right" border="t"><text fontsize="90%">25%</text></td>
          </tr>
          <tr>
            <td align="left" thead="row"><text fontsize="90%">arXiv Math</text></td>
            <td align="right"><text fontsize="90%">10 GB</text></td>
            <td align="right"><text fontsize="90%">25%</text></td>
          </tr>
          <tr>
            <td align="left" thead="row"><text fontsize="90%">Math StackExchange</text></td>
            <td align="right"><text fontsize="90%">2 GB</text></td>
            <td align="right"><text fontsize="90%">25%</text></td>
          </tr>
          <tr>
            <td align="left" thead="row"><text font="smallcaps" fontsize="90%">PACT</text><text fontsize="90%"> </text><text font="typewriter" fontsize="90%">mix2</text></td>
            <td align="right"><text fontsize="90%">28 GB</text></td>
            <td align="right"><text fontsize="90%">17%</text></td>
          </tr>
          <tr>
            <td align="left" thead="row"><text fontsize="90%">Math Overflow</text></td>
            <td align="right"><text fontsize="90%">200 M</text></td>
            <td align="right"><text fontsize="90%">5%</text></td>
          </tr>
          <tr>
            <td align="left" thead="row"><text fontsize="90%">ProofWiki</text></td>
            <td align="right"><text fontsize="90%">30 M</text></td>
            <td align="right"><text fontsize="90%">2%</text></td>
          </tr>
          <tr>
            <td align="left" border="bb" thead="row"><text fontsize="90%">PlanetMath</text></td>
            <td align="right" border="bb"><text fontsize="90%">25 M</text></td>
            <td align="right" border="bb"><text fontsize="90%">1%</text></td>
          </tr>
        </tbody>
      </tabular>
    </table>
    <para xml:id="A3.p2">
      <p>As demonstrated in table <ref labelref="LABEL:table:webmath"/>, we empirically up-weighted (compared to their token size) parts of <text font="italic">WebMath</text> with high-quality mathematical content while making sure they don’t overfit (despite running &gt;1 epochs for some of them). We also included <text font="smallcaps">PACT</text> <text font="typewriter">mix2</text> directly in the <text font="italic">WebMath</text> pre-training to avoid having to sequence more than two pre-training phases to prepare Lean models.</p>
    </para>
  </appendix>
  <appendix inlist="toc" labels="LABEL:appendix-ineq" xml:id="A4">
    <tags>
      <tag>Appendix D</tag>
      <tag role="autoref">Appendix D</tag>
      <tag role="refnum">D</tag>
      <tag role="typerefnum">Appendix D</tag>
    </tags>
    <title><tag close=" ">Appendix D</tag>Synthetic inequalities</title>
    <toctitle><tag close=" ">D</tag>Synthetic inequalities</toctitle>
    <subsection inlist="toc" xml:id="A4.SS1">
      <tags>
        <tag>D.1</tag>
        <tag role="autoref">subsection D.1</tag>
        <tag role="refnum">D.1</tag>
        <tag role="typerefnum">§D.1</tag>
      </tags>
      <title><tag close=" ">D.1</tag>Design</title>
      <para xml:id="A4.SS1.p1">
        <p>The generator consists of three phases:</p>
      </para>
      <paragraph inlist="toc" xml:id="A4.SS1.SSS0.Px1">
        <title>Seed expressions generation</title>
        <para xml:id="A4.SS1.SSS0.Px1.p1">
          <p>The first phase consists in generating seed expressions for which we track the sign. We start by initializing an expression set <Math mode="inline" tex="E" text="E" xml:id="A4.SS1.SSS0.Px1.p1.m1">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">E</XMTok>
              </XMath>
            </Math> composed of tuples of expressions and sign constraints, by generating <Math mode="inline" tex="n_{v}" text="n _ v" xml:id="A4.SS1.SSS0.Px1.p1.m2">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">n</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">v</XMTok>
                </XMApp>
              </XMath>
            </Math> variable names (letters) assumed strictly positive as well as <Math mode="inline" tex="n_{n}" text="n _ n" xml:id="A4.SS1.SSS0.Px1.p1.m3">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">n</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">n</XMTok>
                </XMApp>
              </XMath>
            </Math> integers (for which we know the sign). For <Math mode="inline" tex="N_{S}" text="N _ S" xml:id="A4.SS1.SSS0.Px1.p1.m4">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
              </XMath>
            </Math> rounds, we compose elements of <Math mode="inline" tex="E" text="E" xml:id="A4.SS1.SSS0.Px1.p1.m5">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">E</XMTok>
              </XMath>
            </Math> using unary (<Math class="ltx_math_unparsed" mode="inline" tex="log(\cdot),log(1/\cdot),sqrt(\cdot)" xml:id="A4.SS1.SSS0.Px1.p1.m6">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">l</XMTok>
                <XMTok font="italic" role="UNKNOWN">o</XMTok>
                <XMTok font="italic" role="UNKNOWN">g</XMTok>
                <XMWrap>
                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                  <XMTok name="cdot" role="MULOP" xml:id="A4.SS1.SSS0.Px1.p1.m6.1">⋅</XMTok>
                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                </XMWrap>
                <XMTok role="PUNCT">,</XMTok>
                <XMTok font="italic" role="UNKNOWN">l</XMTok>
                <XMTok font="italic" role="UNKNOWN">o</XMTok>
                <XMTok font="italic" role="UNKNOWN">g</XMTok>
                <XMWrap>
                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                  <XMTok meaning="1" role="NUMBER">1</XMTok>
                  <XMTok meaning="divide" role="MULOP">/</XMTok>
                  <XMTok name="cdot" role="MULOP">⋅</XMTok>
                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                </XMWrap>
                <XMTok role="PUNCT">,</XMTok>
                <XMTok font="italic" role="UNKNOWN">s</XMTok>
                <XMTok font="italic" role="UNKNOWN">q</XMTok>
                <XMTok font="italic" role="UNKNOWN">r</XMTok>
                <XMTok font="italic" role="UNKNOWN">t</XMTok>
                <XMWrap>
                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                  <XMTok name="cdot" role="MULOP">⋅</XMTok>
                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                </XMWrap>
              </XMath>
            </Math>) or binary operations (<Math mode="inline" tex="+,-,\times,/,\wedge,max,min" text="list@(+, -, *, /, and, m * a * x, m * i * n)" xml:id="A4.SS1.SSS0.Px1.p1.m7">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="list"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.1"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.2"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.3"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.4"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.5"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.6"/>
                    <XMRef idref="A4.SS1.SSS0.Px1.p1.m7.7"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok meaning="plus" role="ADDOP" xml:id="A4.SS1.SSS0.Px1.p1.m7.1">+</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="minus" role="ADDOP" xml:id="A4.SS1.SSS0.Px1.p1.m7.2">-</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="times" role="MULOP" xml:id="A4.SS1.SSS0.Px1.p1.m7.3">×</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="divide" role="MULOP" xml:id="A4.SS1.SSS0.Px1.p1.m7.4">/</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="and" name="wedge" role="ADDOP" xml:id="A4.SS1.SSS0.Px1.p1.m7.5">∧</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMApp xml:id="A4.SS1.SSS0.Px1.p1.m7.6">
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok font="italic" role="UNKNOWN">m</XMTok>
                      <XMTok font="italic" role="UNKNOWN">a</XMTok>
                      <XMTok font="italic" role="UNKNOWN">x</XMTok>
                    </XMApp>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMApp xml:id="A4.SS1.SSS0.Px1.p1.m7.7">
                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                      <XMTok font="italic" role="UNKNOWN">m</XMTok>
                      <XMTok font="italic" role="UNKNOWN">i</XMTok>
                      <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    </XMApp>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math>) for which we can deduce the sign based on the sign condition of the input expression(s) and re-inject the resulting expression and sign constraint in <Math mode="inline" tex="E" text="E" xml:id="A4.SS1.SSS0.Px1.p1.m8">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">E</XMTok>
              </XMath>
            </Math>. This produces a set <Math mode="inline" tex="E" text="E" xml:id="A4.SS1.SSS0.Px1.p1.m9">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">E</XMTok>
              </XMath>
            </Math> of signed seed expressions of size <Math mode="inline" tex="n_{v}+n_{n}+N_{S}" text="n _ v + n _ n + N _ S" xml:id="A4.SS1.SSS0.Px1.p1.m10">
              <XMath>
                <XMApp>
                  <XMTok meaning="plus" role="ADDOP">+</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">v</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">n</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">N</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math>.</p>
        </para>
      </paragraph>
      <paragraph inlist="toc" xml:id="A4.SS1.SSS0.Px2">
        <title>Inequality composition</title>
        <para xml:id="A4.SS1.SSS0.Px2.p1">
          <p>The second phase consists in generating inequalities from well known inequality theorems (AM-GM, Trivial inequality, Cauchy-Schwarz, Bernoulli, Young, Hölder) taking as input to these theorems expressions from <Math mode="inline" tex="E" text="E" xml:id="A4.SS1.SSS0.Px2.p1.m1">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">E</XMTok>
              </XMath>
            </Math> based on the sign constraints required for each theorem. We finally compose these inequalities <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="A4.SS1.SSS0.Px2.p1.m2">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
              </XMath>
            </Math> times using compositions theorems detailed in <ref labelref="LABEL:appendix-ineq-composition"/>. The resulting inequality is a composed inequality of depth <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="A4.SS1.SSS0.Px2.p1.m3">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
              </XMath>
            </Math> based on <Math mode="inline" tex="n_{v}+n_{n}+N_{S}" text="n _ v + n _ n + N _ S" xml:id="A4.SS1.SSS0.Px2.p1.m4">
              <XMath>
                <XMApp>
                  <XMTok meaning="plus" role="ADDOP">+</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">v</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">n</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">N</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math> seed expressions.</p>
        </para>
      </paragraph>
      <paragraph inlist="toc" xml:id="A4.SS1.SSS0.Px3">
        <title>Simplification</title>
        <para xml:id="A4.SS1.SSS0.Px3.p1">
          <p>We finally post-process these inequalities so that they are parsable by Lean and run them through Lean’s <text font="typewriter">simp</text> tactic for a final simplification.</p>
        </para>
        <para xml:id="A4.SS1.SSS0.Px3.p2">
          <p><Math mode="inline" tex="N_{D}" text="N _ D" xml:id="A4.SS1.SSS0.Px3.p2.m1">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
              </XMath>
            </Math> and <Math mode="inline" tex="N_{S}" text="N _ S" xml:id="A4.SS1.SSS0.Px3.p2.m2">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
              </XMath>
            </Math> together control for the difficulty of the resulting inequality. <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="A4.SS1.SSS0.Px3.p2.m3">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
              </XMath>
            </Math> controls depth of composition, while <Math mode="inline" tex="N_{S}" text="N _ S" xml:id="A4.SS1.SSS0.Px3.p2.m4">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
              </XMath>
            </Math> controls for obfuscation as it increases the complexity of the input expressions to the composed inequalities. When sampling inequalities, we <Math mode="inline" tex="n_{n}=4" text="n _ n = 4" xml:id="A4.SS1.SSS0.Px3.p2.m5">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">n</XMTok>
                  </XMApp>
                  <XMTok meaning="4" role="NUMBER">4</XMTok>
                </XMApp>
              </XMath>
            </Math> and randomly sample <Math mode="inline" tex="2\leq n_{v}\leq 8" text="2 &lt;= n _ v &lt;= 8" xml:id="A4.SS1.SSS0.Px3.p2.m6">
              <XMath>
                <XMApp>
                  <XMTok meaning="multirelation"/>
                  <XMTok meaning="2" role="NUMBER">2</XMTok>
                  <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">n</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">v</XMTok>
                  </XMApp>
                  <XMTok meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                  <XMTok meaning="8" role="NUMBER">8</XMTok>
                </XMApp>
              </XMath>
            </Math> at each generation. We report below examples of generated inequalities for various values of <Math mode="inline" tex="N_{D}" text="N _ D" xml:id="A4.SS1.SSS0.Px3.p2.m7">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
                </XMApp>
              </XMath>
            </Math> and <Math mode="inline" tex="N_{S}" text="N _ S" xml:id="A4.SS1.SSS0.Px3.p2.m8">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">N</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
                </XMApp>
              </XMath>
            </Math>.</p>
        </para>
      </paragraph>
    </subsection>
    <subsection inlist="toc" labels="LABEL:appendix-ineq-composition" xml:id="A4.SS2">
      <tags>
        <tag>D.2</tag>
        <tag role="autoref">subsection D.2</tag>
        <tag role="refnum">D.2</tag>
        <tag role="typerefnum">§D.2</tag>
      </tags>
      <title><tag close=" ">D.2</tag>List of inequality composition theorems</title>
      <para xml:id="A4.SS2.p1">
        <p>Below is the list of theorem names from <text font="italic">mathlib</text> that we use to compose inequalities together. One third of the time, we only transform the current composed inequality with one of the following theorems:</p>
      </para>
      <para xml:id="A4.SS2.p2">
        <itemize xml:id="A4.I1">
          <item xml:id="A4.I1.i1">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">1st item</tag>
            </tags>
            <para xml:id="A4.I1.i1.p1">
              <p><text font="typewriter">neg_le_neg</text></p>
            </para>
          </item>
          <item xml:id="A4.I1.i2">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">2nd item</tag>
            </tags>
            <para xml:id="A4.I1.i2.p1">
              <p><text font="typewriter">inv_le_inv</text></p>
            </para>
          </item>
          <item xml:id="A4.I1.i3">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">3rd item</tag>
            </tags>
            <para xml:id="A4.I1.i3.p1">
              <p><text font="typewriter">mul_self_le_mul_self</text></p>
            </para>
          </item>
          <item xml:id="A4.I1.i4">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">4th item</tag>
            </tags>
            <para xml:id="A4.I1.i4.p1">
              <p><text font="typewriter">div_le_one_of_le</text></p>
            </para>
          </item>
        </itemize>
      </para>
      <para xml:id="A4.SS2.p3">
        <p>We otherwise compose the current composed inequality with a newly generated inequality using the following theorems:</p>
      </para>
      <para xml:id="A4.SS2.p4">
        <itemize xml:id="A4.I2">
          <item xml:id="A4.I2.i1">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">1st item</tag>
            </tags>
            <para xml:id="A4.I2.i1.p1">
              <p><text font="typewriter">mul_le_mul</text></p>
            </para>
          </item>
          <item xml:id="A4.I2.i2">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">2nd item</tag>
            </tags>
            <para xml:id="A4.I2.i2.p1">
              <p><text font="typewriter">add_le_add</text></p>
            </para>
          </item>
          <item xml:id="A4.I2.i3">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">3rd item</tag>
            </tags>
            <para xml:id="A4.I2.i3.p1">
              <p><text font="typewriter">div_le_div</text></p>
            </para>
          </item>
          <item xml:id="A4.I2.i4">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">4th item</tag>
            </tags>
            <para xml:id="A4.I2.i4.p1">
              <p><text font="typewriter">mul_le_mul_of_nonneg</text><!--  %****␣main.tex␣Line␣575␣**** --></p>
            </para>
          </item>
          <item xml:id="A4.I2.i5">
            <tags>
              <tag>•</tag>
              <tag role="autoref">item </tag>
              <tag role="typerefnum">5th item</tag>
            </tags>
            <para xml:id="A4.I2.i5.p1">
              <p><text font="typewriter">le_mul_of_ratio</text></p>
            </para>
          </item>
        </itemize>
      </para>
    </subsection>
    <subsection inlist="toc" labels="LABEL:appendix-ineq-examples" xml:id="A4.SS3">
      <tags>
        <tag>D.3</tag>
        <tag role="autoref">subsection D.3</tag>
        <tag role="refnum">D.3</tag>
        <tag role="typerefnum">§D.3</tag>
      </tags>
      <title><tag close=" ">D.3</tag>Examples</title>
    </subsection>
    <subsection xml:id="A4.SSx1">
      <title><Math mode="inline" tex="N_{D}=0" text="N _ D = 0" xml:id="A4.SSx1.m1">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
              <XMTok meaning="0" role="NUMBER">0</XMTok>
            </XMApp>
          </XMath>
        </Math> <Math mode="inline" tex="N_{S}=0" text="N _ S = 0" xml:id="A4.SSx1.m2">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
              </XMApp>
              <XMTok meaning="0" role="NUMBER">0</XMTok>
            </XMApp>
          </XMath>
        </Math></title>
      <table placement="h" xml:id="A4.SSx1.tab1">
        <tabular vattach="middle">
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Compositions</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

  AmGm a b (67:) ((1:)/(10:)) ((1:)/(10:)) ((8:)/(10:))</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem synthetic_ineq_nb_seed_var_0_depth_0_p_1
  (a b : )
  (h0 : 0 &lt; a)
  (h1 : 0 &lt; b) :
  (67:) ^ ((8:) / (10:)) * b ^ (10:) *
    a ^ (10:)   (8:) / (10:) * (67:) +
    (10:) * a + b * (10:) := sorry</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
    </subsection>
    <subsection xml:id="A4.SSx2">
      <title><Math mode="inline" tex="N_{D}=0" text="N _ D = 0" xml:id="A4.SSx2.m1">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
              <XMTok meaning="0" role="NUMBER">0</XMTok>
            </XMApp>
          </XMath>
        </Math> <Math mode="inline" tex="N_{S}=4" text="N _ S = 4" xml:id="A4.SSx2.m2">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
              </XMApp>
              <XMTok meaning="4" role="NUMBER">4</XMTok>
            </XMApp>
          </XMath>
        </Math></title>
      <table placement="h" xml:id="A4.SSx2.tab1">
        <tabular vattach="middle">
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Compositions</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

Sqnonneg a ((a) + ((-68:)))</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><!--  %****␣main.tex␣Line␣625␣**** --><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem synthetic_ineq_nb_seed_var_4_depth_0_p_4
  (a b : )
  (h0 : 0 &lt; a)
  (h1 : 0 &lt; b) :
  (2:) * (a * (a + -(68:))) 
    (a + -(68:)) ^ 2 + a ^ 2 := sorry</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection xml:id="A4.SSx3">
      <title><Math mode="inline" tex="N_{D}=4" text="N _ D = 4" xml:id="A4.SSx3.m1">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">D</XMTok>
              </XMApp>
              <XMTok meaning="4" role="NUMBER">4</XMTok>
            </XMApp>
          </XMath>
        </Math> <Math mode="inline" tex="N_{S}=4" text="N _ S = 4" xml:id="A4.SSx3.m2">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">N</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">S</XMTok>
              </XMApp>
              <XMTok meaning="4" role="NUMBER">4</XMTok>
            </XMApp>
          </XMath>
        </Math></title>
      <table placement="h" xml:id="A4.SSx3.tab1">
        <tabular vattach="middle">
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Compositions</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
<!--  %****␣main.tex␣Line␣650␣**** -->                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

AddLeAdd
Bernoulli 99 c
AddLeAdd
SelfDivConst ((a) / (f)) 6
LeMulOfRatio
SelfDivConst c 70
DivLeDiv
Cauchy ((a) / (f)) d c (log (((59:) + f)))
Young ((a) / (f)) a ((3:)/(2:)) ((3:)/(1:))</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem synthetic_ineq_nb_seed_var_4_depth_4_p_13
  (a b c d e f : )
  (h0 : 0 &lt; a)
  (h1 : 0 &lt; b)
  (h2 : 0 &lt; c)
  (h3 : 0 &lt; d)
  (h4 : 0 &lt; e)
  (h5 : 0 &lt; f) :
  (1:) + (99:) * c + (a / f / (6:) + a * (a / f) /
    ((d ^ 2 + a ^ 2 / f ^ 2) *
    (real.log ((59:) + f) ^ 2 + c ^ 2))) 
    ((a / f) ^ ((3:) / (2:)) / ((3:) / (2:)) +
    a ^ 3 / (3:)) /
    (real.log ((59:) + f) * d + a / f * c) ^ 2 *
    (c / (c / (70:))) + a / f + (c + (1:)) ^ 99 := sorry</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
  </appendix>
  <appendix inlist="toc" labels="LABEL:appendix-mathlib-proofs" xml:id="A5">
    <tags>
      <tag>Appendix E</tag>
      <tag role="autoref">Appendix E</tag>
      <tag role="refnum">E</tag>
      <tag role="typerefnum">Appendix E</tag>
    </tags>
    <title><tag close=" ">Appendix E</tag>Example proofs from <text font="italic">mathlib-train</text></title>
    <toctitle><tag close=" ">E</tag>Example proofs from <text font="italic">mathlib-train</text></toctitle>
    <para xml:id="A5.p1">
      <p>We present in this section original proofs found by our models from <text font="italic">mathlib-train</text>, compared with their ground-truth version.</p>
    </para>
    <subsection xml:id="A5.SSx1">
      <title font="typewriter">comap_eq_of_inverse</title>
      <table placement="h" xml:id="A5.SSx1.tab1">
<!--  %****␣main.tex␣Line␣700␣**** -->        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

lemma comap_eq_of_inverse {f : filter } {g : filter }
  { :   } ( :   ) (eq :    = id)
  (h : tendsto  f g) (h : tendsto  g f) :
  comap  g = f :=</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Ground-truth</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  refine ((comap_mono $
    map_le_iff_le_comap.1 h).trans _).antisymm
    (map_le_iff_le_comap.1 h),
  rw [comap_comap, eq, comap_id],
  exact le_rfl
end
    
</verbatim>
                    </inline-block><!--  %****␣main.tex␣Line␣725␣**** --></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  refine le_antisymm _ (filter.map_le_iff_le_comap.1 h),
  refine  s hs, _,
  rw mem_comap,
  use [ ’ s, h hs],
  rw [ preimage_comp, eq, preimage_id]
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection xml:id="A5.SSx2">
      <title font="typewriter">sum_range_sub_sum_range</title>
      <table placement="h" xml:id="A5.SSx2.tab1">
<!--  %****␣main.tex␣Line␣750␣**** -->        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

lemma sum_range_sub_sum_range { : Type*} [add_comm_group ]
  {f :   } {n m : } (hnm : n  m) :
   k in range m, f k -  k in range n, f k =
   k in (range m).filter ( k, n  k), f k :=</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Ground-truth</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  rw [ sum_sdiff (@filter_subset _ ( k, n  k) _
    (range m)), sub_eq_iff_eq_add,
     eq_sub_iff_add_eq, add_sub_cancel’],
  refine finset.sum_congr
    (finset.ext $  a,  h, by simp at *; finish,
     h, have ham : a &lt; m :=
      lt_of_lt_of_le (mem_range.1 h) hnm,
      by simp * at *)
    ( _ _, rfl)
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  rw [ sum_Ico_eq_sub _ hnm],
  congr,
  apply finset.ext,
  simp [Ico.mem, *],
  tauto
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection xml:id="A5.SSx3">
      <title font="typewriter">prod_inv_distrib</title>
      <table placement="h" xml:id="A5.SSx3.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Statement</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

lemma prod_inv_distrib : ( x in s, (f x)) =
  ( x in s, f x) :=</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Ground-truth</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  classical,
  by_cases h :  x  s, f x = 0,
  { simpa [prod_eq_zero_iff.mpr h, prod_eq_zero_iff]
      using h },
  { push_neg at h,
    have h’ := prod_ne_zero_iff.mpr h,
    have hf :  x  s, (f x) * f x = 1 :=  x hx,
    inv_mul_cancel (h x hx),
    apply mul_right_cancel’ h’,
    simp [h, h’,  finset.prod_mul_distrib,
      prod_congr rfl hf] }
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="313.0pt">
                      <verbatim font="typewriter" fontsize="90%">

begin
  classical; induction s using
    finset.induction_on with a s has ih,
  { simp, },
  simp only [has, prod_insert has, mul_inv_rev’],
  finish
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
<!--  %****␣main.tex␣Line␣850␣**** -->      </table>
      <pagination role="newpage"/>
    </subsection>
  </appendix>
  <appendix inlist="toc" labels="LABEL:appendix-proofs" xml:id="A6">
    <tags>
      <tag>Appendix F</tag>
      <tag role="autoref">Appendix F</tag>
      <tag role="refnum">F</tag>
      <tag role="typerefnum">Appendix F</tag>
    </tags>
    <title><tag close=" ">Appendix F</tag>Example proofs from <text font="italic">minif2f-</text>{<text font="italic">test,valid,curriculum</text>}</title>
    <toctitle><tag close=" ">F</tag>Example proofs from <text font="italic">minif2f-</text>{<text font="italic">test,valid,curriculum</text>}</toctitle>
    <para xml:id="A6.p1">
      <p>We present in this section proofs found by our models from <text font="italic">minif2f-</text>{<text font="italic">test,valid,curriculum</text>}, demonstrating some of the capabilities emerging from our training procedure.</p>
    </para>
    <subsection inlist="toc" labels="LABEL:appendix-qualitative" xml:id="A6.SS1">
      <tags>
        <tag>F.1</tag>
        <tag role="autoref">subsection F.1</tag>
        <tag role="refnum">F.1</tag>
        <tag role="typerefnum">§F.1</tag>
      </tags>
      <title><tag close=" ">F.1</tag>Qualitative analysis of proofs</title>
      <para xml:id="A6.SS1.p1">
        <p>We provide qualitative insights in the nature of the proofs found by our models, which we believe are useful to build a better intuition of their capabilities beyond pass rate numbers. Throughout this section, we refer to statements and solutions found by our models that are presented in Appendix <ref labelref="LABEL:appendix-proofs"/> along with comments describing the specificity of each proof.</p>
      </para>
      <para xml:id="A6.SS1.p2">
        <p>First, we observe that a large number of olympiad problems that are designed to be computationally challenging for humans are rendered trivial for our models through the use of Lean tactics. As an example, <ref font="typewriter" labelref="LABEL:exprob1">mathd_numbertheory_447</ref> which is not necessarily considered straightforward for humans, can be closed in Lean by a simple <text font="typewriter">refl</text> (proof found by our models).</p>
      </para>
      <para xml:id="A6.SS1.p3">
        <p>In recent years, Lean’s <text font="typewriter">mathlib</text> community has developed high-powered tactics such as <text font="typewriter">linarith/nlinarith</text> (solves (non)linear inequalities), <text font="typewriter">norm_num</text> (normalizes numerical expressions), <text font="typewriter">simp</text> (simplifies goals and hypotheses) and <text font="typewriter">ring</text> (normalizes expressions in a ring). These tactics can be used with arguments to guide their underlying search procedure. As mentioned in <cite class="ltx_citemacro_citet"><bibref bibrefs="zheng2021minif2f" separator=";" show="Authors Phrase1YearPhrase2" yyseparator=",">
              <bibrefphrase>(</bibrefphrase>
              <bibrefphrase>)</bibrefphrase>
            </bibref></cite>, we confirm here that our models acquire advanced capabilities to leverage these high-level tactics by providing exogenous arguments which are not present in the current tactic state. The generation of these exogenous arguments through language modeling seems to require a non-trivial amount of mathematical intuition. <ref font="typewriter" labelref="LABEL:exprob3">imo_1964_p2</ref>, <ref font="typewriter" labelref="LABEL:exprob2">imo_1961_p1</ref> and <ref font="typewriter" labelref="LABEL:exprob4">aime_1990_p15</ref> are good examples of such uses.</p>
      </para>
      <para xml:id="A6.SS1.p4">
        <p>We have also observed a number of proofs that require multiple non-trivial reasoning steps through the use of lower-level tactics such as <text font="typewriter">use</text>, <text font="typewriter">have</text>, or <text font="typewriter">by_cases</text> that generally involve producing a witness or chaining implications, requiring the generation of context specific exogenous terms. These interesting reasoning steps are structurally different from simple normalization, simplification and rewriting of hypotheses or goals because they heavily rely on our models ability to generate meaningful cuts or witnesses. This capability is, in our opinion, the most exciting stepping stone towards solving more challenging mathematical problems. See, <ref font="typewriter" labelref="LABEL:exprob10">aopsbook_v2_c8_ex1</ref>, <ref font="typewriter" labelref="LABEL:exprob9">amc12b_2020_p6</ref> and <ref font="typewriter" labelref="LABEL:exprob6">mathd_train_algebra_217</ref> for examples of such proofs.</p>
      </para>
      <para xml:id="A6.SS1.p5">
        <p>More generally, we also observe that proofs generated by our models have a distinctive style compared to proofs formalized by humans. This stems in part from the model’s capability to leverage high-level tactics in a way that is challenging for humans as discussed in this section (e.g. one-liners such as <text font="typewriter">nlinarith [sq_nonneg (x - y), sq_nonneg (y - z)]</text> where humans would generally decompose the problem in a less machine-like way). Additionally, as a result of our search procedure and despite the bias towards shorter proofs introduced by our value function, extraneous proofsteps (such as reversion/introduction of hypotheses, or no-op rewrites) are often interleaved with useful ones, which rarely happens in human formalizations.</p>
      </para>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob2" xml:id="A6.SSx1">
      <title font="typewriter">imo_1961_p1</title>
      <table placement="h" xml:id="A6.SSx1.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Solve the system of equations:</text></p>
                      <equationgroup class="ltx_eqn_align" xml:id="A6.EGx1">
                        <equation xml:id="A6.Ex1">
                          <MathFork>
                            <Math tex="\displaystyle x+y+z=a" text="x + y + z = a" xml:id="A6.Ex1.m3">
                              <XMath>
                                <XMApp>
                                  <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                  <XMApp>
                                    <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                  </XMApp>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                </XMApp>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle x+y+z" text="x + y + z" xml:id="A6.Ex1.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=a" text="absent = a" xml:id="A6.Ex1.m2">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMTok meaning="absent"/>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                        <equation xml:id="A6.Ex2">
                          <MathFork>
                            <Math tex="\displaystyle x^{2}+y^{2}+z^{2}=b^{2}" text="x ^ 2 + y ^ 2 + z ^ 2 = b ^ 2" xml:id="A6.Ex2.m3">
                              <XMath>
                                <XMApp>
                                  <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                  <XMApp>
                                    <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                    <XMApp>
                                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                      <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                    </XMApp>
                                    <XMApp>
                                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                      <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                    </XMApp>
                                    <XMApp>
                                      <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                      <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                    </XMApp>
                                  </XMApp>
                                  <XMApp>
                                    <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                    <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                </XMApp>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle x^{2}+y^{2}+z^{2}" text="x ^ 2 + y ^ 2 + z ^ 2" xml:id="A6.Ex2.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                        <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                        <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                        <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=b^{2}" text="absent = b ^ 2" xml:id="A6.Ex2.m2">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMTok meaning="absent"/>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                        <equation xml:id="A6.Ex3">
                          <MathFork>
                            <Math tex="\displaystyle xy=z^{2}" text="x * y = z ^ 2" xml:id="A6.Ex3.m3">
                              <XMath>
                                <XMApp>
                                  <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                  </XMApp>
                                  <XMApp>
                                    <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                    <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                </XMApp>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle xy" text="x * y" xml:id="A6.Ex3.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=z^{2}" text="absent = z ^ 2" xml:id="A6.Ex3.m2">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMTok meaning="absent"/>
                                      <XMApp>
                                        <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">z</XMTok>
                                        <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                      </equationgroup>
                      <p><text fontsize="90%">where </text><Math mode="inline" tex="a" text="a" xml:id="A6.SSx1.m1">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> and </text><Math mode="inline" tex="b" text="b" xml:id="A6.SSx1.m2">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> are constants. Give the conditions that </text><Math mode="inline" tex="a" text="a" xml:id="A6.SSx1.m3">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> and </text><Math mode="inline" tex="b" text="b" xml:id="A6.SSx1.m4">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> must satisfy so that </text><Math mode="inline" tex="x,y,z" text="list@(x, y, z)" xml:id="A6.SSx1.m5">
                          <XMath>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="list"/>
                                <XMRef idref="A6.SSx1.m5.1"/>
                                <XMRef idref="A6.SSx1.m5.2"/>
                                <XMRef idref="A6.SSx1.m5.3"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx1.m5.1">x</XMTok>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx1.m5.2">y</XMTok>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx1.m5.3">z</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMath>
                        </Math><text fontsize="90%"> (the solutions of the system) are distinct positive numbers. </text><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in </text><text font="italic" fontsize="90%">miniF2F</text><text fontsize="90%"> is a weaker problem as it focuses on the second part of the question, providing the actual conditions, and asking for a proof that the requirement entails them.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem imo_1961_p1
  (x y z a b : )
  (h : 0 &lt; x  0 &lt; y  0 &lt; z)
  (h : x  y)
  (h : y  z)
  (h : z  x)
  (h : x + y + z = a)
  (h : x^2 + y^2 + z^2 = b^2)
  (h : x * y = z^2) :
  0 &lt; a  b^2 &lt; a^2  a^2 &lt; 3 * b^2 :=
begin
  revert_all,
  intros,
  rw mul_comm,
  split,
  { nlinarith [sq_nonneg (x - y), sq_nonneg (y - z)], },
  split,
  { nlinarith [sq_nonneg (z - 1)], },
  revert h h,
  field_simp [mul_comm a b],
  rw [mul_comm,  h],
  contrapose!,
  rw mul_comm at h,
  rw mul_comm,
  intro h,
  nlinarith [sq_nonneg (x - y), sq_nonneg (y - z)]
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model is able to close this problem by splitting into cases, contraposing for the last case and using </text><text font="typewriter" fontsize="90%">nlinarith</text><text fontsize="90%">. It must be noted that the arguments for the first two </text><text font="typewriter" fontsize="90%">nlinarith</text><text fontsize="90%"> uses are not necessary, however the </text><text font="typewriter" fontsize="90%">[sq_nonneg (x - y), sq_nonneg (y - z)]</text><text fontsize="90%"> argument provided on the last line is crucial to close the goal and are completely exogenous (present in no form in the tactic state before).</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob3" xml:id="A6.SSx2">
      <title font="typewriter">imo_1964_p2</title>
      <table placement="h" xml:id="A6.SSx2.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Suppose </text><Math mode="inline" tex="a,b,c" text="list@(a, b, c)" xml:id="A6.SSx2.m1">
                          <XMath>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="list"/>
                                <XMRef idref="A6.SSx2.m1.1"/>
                                <XMRef idref="A6.SSx2.m1.2"/>
                                <XMRef idref="A6.SSx2.m1.3"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx2.m1.1">a</XMTok>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx2.m1.2">b</XMTok>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx2.m1.3">c</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMath>
                        </Math><text fontsize="90%"> are the sides of a triangle. Prove that</text></p>
                      <equation xml:id="A6.Ex4">
                        <Math mode="display" tex="a^{2}(b+c-a)+b^{2}(c+a-b)+c^{2}(a+b-c)\leq{3abc}" text="a ^ 2 * ((b + c) - a) + b ^ 2 * ((c + a) - b) + c ^ 2 * ((a + b) - c) &lt;= 3 * a * b * c" xml:id="A6.Ex4.m1">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="less-than-or-equals" name="leq" role="RELOP">≤</XMTok>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMApp>
                                    <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                    <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                  <XMDual>
                                    <XMRef idref="A6.Ex4.m1.1"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.Ex4.m1.1">
                                        <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                        <XMApp>
                                          <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">c</XMTok>
                                        </XMApp>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMApp>
                                    <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                    <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                  <XMDual>
                                    <XMRef idref="A6.Ex4.m1.2"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.Ex4.m1.2">
                                        <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                        <XMApp>
                                          <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">c</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                        </XMApp>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMApp>
                                    <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">c</XMTok>
                                    <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                  </XMApp>
                                  <XMDual>
                                    <XMRef idref="A6.Ex4.m1.3"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.Ex4.m1.3">
                                        <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                        <XMApp>
                                          <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        </XMApp>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">c</XMTok>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok fontsize="90%" meaning="3" role="NUMBER">3</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">c</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math>
                      </equation>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem imo_1964_p2
  (a b c : )
  (h : 0 &lt; a  0 &lt; b  0 &lt; c)
  (h : c &lt; a + b)
  (h : b &lt; a + c)
  (h : a &lt; b + c) :
  a^2 * (b + c - a) + b^2 * (c + a - b) + c^2 * (a + b - c)
     3 * a * b * c :=
begin
   nlinarith [sq_nonneg (b - a), sq_nonneg (c - b),
     sq_nonneg (a - c), sq_nonneg (c - a)]
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model is able to close an IMO problem in one-line. It correctly provides exogenous arguments to </text><text font="typewriter" fontsize="90%">nlinarith</text><text fontsize="90%">, which are necessary to close the goal. Note that either one of the last two arguments in the sequence </text><text font="typewriter" fontsize="90%">[sq_nonneg (b - a), sq_nonneg (c - b), sq_nonneg (a - c), sq_nonneg (c - a)]</text><text fontsize="90%"> can be omitted.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob4" xml:id="A6.SSx3">
      <title font="typewriter">aime_1990_p15</title>
      <table placement="h" xml:id="A6.SSx3.tab1">
<!--  %****␣main.tex␣Line␣975␣**** -->        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Find </text><Math mode="inline" tex="ax^{5}+by^{5}" text="a * x ^ 5 + b * y ^ 5" xml:id="A6.SSx3.m1">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                  <XMTok fontsize="63%" meaning="5" role="NUMBER">5</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                  <XMTok fontsize="63%" meaning="5" role="NUMBER">5</XMTok>
                                </XMApp>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"> if the real numbers </text><Math mode="inline" tex="a,b,x," text="list@(a, b, x)" xml:id="A6.SSx3.m2">
                          <XMath>
                            <XMDual>
                              <XMRef idref="A6.SSx3.m2.4"/>
                              <XMWrap>
                                <XMDual xml:id="A6.SSx3.m2.4">
                                  <XMApp>
                                    <XMTok meaning="list"/>
                                    <XMRef idref="A6.SSx3.m2.1"/>
                                    <XMRef idref="A6.SSx3.m2.2"/>
                                    <XMRef idref="A6.SSx3.m2.3"/>
                                  </XMApp>
                                  <XMWrap>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx3.m2.1">a</XMTok>
                                    <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx3.m2.2">b</XMTok>
                                    <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx3.m2.3">x</XMTok>
                                  </XMWrap>
                                </XMDual>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMath>
                        </Math><text fontsize="90%"> and </text><Math mode="inline" tex="y" text="y" xml:id="A6.SSx3.m3">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> satisfy the equations</text></p>
                      <equationgroup class="ltx_eqn_align" xml:id="A6.EGx2">
                        <equation xml:id="A6.Ex5">
                          <MathFork>
                            <Math tex="\displaystyle ax+by=3," text="a * x + b * y = 3" xml:id="A6.Ex5.m3">
                              <XMath>
                                <XMDual>
                                  <XMRef idref="A6.Ex5.m3.1"/>
                                  <XMWrap>
                                    <XMApp xml:id="A6.Ex5.m3.1">
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMApp>
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                        </XMApp>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok fontsize="90%" meaning="3" role="NUMBER">3</XMTok>
                                    </XMApp>
                                    <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle ax+by" text="a * x + b * y" xml:id="A6.Ex5.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=3," text="absent = 3" xml:id="A6.Ex5.m2">
                                  <XMath>
                                    <XMDual>
                                      <XMRef idref="A6.Ex5.m2.1"/>
                                      <XMWrap>
                                        <XMApp xml:id="A6.Ex5.m2.1">
                                          <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                          <XMTok meaning="absent"/>
                                          <XMTok fontsize="90%" meaning="3" role="NUMBER">3</XMTok>
                                        </XMApp>
                                        <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                        <equation xml:id="A6.Ex6">
                          <MathFork>
                            <Math tex="\displaystyle ax^{2}+by^{2}=7," text="a * x ^ 2 + b * y ^ 2 = 7" xml:id="A6.Ex6.m3">
                              <XMath>
                                <XMDual>
                                  <XMRef idref="A6.Ex6.m3.1"/>
                                  <XMWrap>
                                    <XMApp xml:id="A6.Ex6.m3.1">
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMApp>
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                            <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                            <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                          </XMApp>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok fontsize="90%" meaning="7" role="NUMBER">7</XMTok>
                                    </XMApp>
                                    <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle ax^{2}+by^{2}" text="a * x ^ 2 + b * y ^ 2" xml:id="A6.Ex6.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                          <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                          <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                        </XMApp>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=7," text="absent = 7" xml:id="A6.Ex6.m2">
                                  <XMath>
                                    <XMDual>
                                      <XMRef idref="A6.Ex6.m2.1"/>
                                      <XMWrap>
                                        <XMApp xml:id="A6.Ex6.m2.1">
                                          <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                          <XMTok meaning="absent"/>
                                          <XMTok fontsize="90%" meaning="7" role="NUMBER">7</XMTok>
                                        </XMApp>
                                        <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                        <equation xml:id="A6.Ex7">
                          <MathFork>
                            <Math tex="\displaystyle ax^{3}+by^{3}=16," text="a * x ^ 3 + b * y ^ 3 = 16" xml:id="A6.Ex7.m3">
                              <XMath>
                                <XMDual>
                                  <XMRef idref="A6.Ex7.m3.1"/>
                                  <XMWrap>
                                    <XMApp xml:id="A6.Ex7.m3.1">
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMApp>
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                            <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                            <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                                          </XMApp>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok fontsize="90%" meaning="16" role="NUMBER">16</XMTok>
                                    </XMApp>
                                    <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle ax^{3}+by^{3}" text="a * x ^ 3 + b * y ^ 3" xml:id="A6.Ex7.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                          <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                          <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                                        </XMApp>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=16," text="absent = 16" xml:id="A6.Ex7.m2">
                                  <XMath>
                                    <XMDual>
                                      <XMRef idref="A6.Ex7.m2.1"/>
                                      <XMWrap>
                                        <XMApp xml:id="A6.Ex7.m2.1">
                                          <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                          <XMTok meaning="absent"/>
                                          <XMTok fontsize="90%" meaning="16" role="NUMBER">16</XMTok>
                                        </XMApp>
                                        <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                        <equation xml:id="A6.Ex8">
                          <MathFork>
                            <Math tex="\displaystyle ax^{4}+by^{4}=42." text="a * x ^ 4 + b * y ^ 4 = 42" xml:id="A6.Ex8.m3">
                              <XMath>
                                <XMDual>
                                  <XMRef idref="A6.Ex8.m3.1"/>
                                  <XMWrap>
                                    <XMApp xml:id="A6.Ex8.m3.1">
                                      <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                      <XMApp>
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                            <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                          <XMApp>
                                            <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                            <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                                          </XMApp>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok fontsize="90%" meaning="42" role="NUMBER">42</XMTok>
                                    </XMApp>
                                    <XMTok fontsize="90%" role="PERIOD">.</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMath>
                            </Math>
                            <MathBranch>
                              <td align="right"><Math mode="inline" tex="\displaystyle ax^{4}+by^{4}" text="a * x ^ 4 + b * y ^ 4" xml:id="A6.Ex8.m1">
                                  <XMath>
                                    <XMApp>
                                      <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                          <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">b</XMTok>
                                        <XMApp>
                                          <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                          <XMTok font="italic" fontsize="90%" role="UNKNOWN">y</XMTok>
                                          <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                                        </XMApp>
                                      </XMApp>
                                    </XMApp>
                                  </XMath>
                                </Math></td>
                              <td align="left"><Math mode="inline" tex="\displaystyle=42." text="absent = 42" xml:id="A6.Ex8.m2">
                                  <XMath>
                                    <XMDual>
                                      <XMRef idref="A6.Ex8.m2.1"/>
                                      <XMWrap>
                                        <XMApp xml:id="A6.Ex8.m2.1">
                                          <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                                          <XMTok meaning="absent"/>
                                          <XMTok fontsize="90%" meaning="42" role="NUMBER">42</XMTok>
                                        </XMApp>
                                        <XMTok fontsize="90%" role="PERIOD">.</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMath>
                                </Math></td>
                            </MathBranch>
                          </MathFork>
                        </equation>
                      </equationgroup>
                      <p><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in </text><text font="italic" fontsize="90%">miniF2F</text><text fontsize="90%"> provides the answer and asks for a proof of it.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem aime_1990_p15
  (a b x y : )
  (h : a * x + b * y = 3)
  (h : a * x^2 + b * y^2 = 7)
  (h : a * x^3 + b * y^3 = 16)
  (h : a * x^4 + b * y^4 = 42) :
  a * x^5 + b * y^5 = 20 :=
begin
  revert_all,
  intros a b x y h h h h,
  ring_nf at h h,
  rw  sub_eq_zero at h,
  nlinarith [sq_nonneg (x - y), sq_nonneg (a + b - 2),
    sq_nonneg (x + y - (2:)), sq_nonneg (a - b - 2)]
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model is able to close a challenging AIME problem by providing crucial exogenous arguments </text><text font="typewriter" fontsize="90%">sq_nonneg (x - y)</text><text fontsize="90%"> and </text><text font="typewriter" fontsize="90%">sq_nonneg (x + y - (<Math mode="inline" tex="2:\mathbb{R}" text="2 colon R" xml:id="A6.SSx3.m4">
                        <XMath>
                          <XMApp>
                            <XMTok font="serif" name="colon" role="METARELOP">:</XMTok>
                            <XMTok font="serif" meaning="2" role="NUMBER">2</XMTok>
                            <XMTok font="blackboard" role="UNKNOWN">R</XMTok>
                          </XMApp>
                        </XMath>
                      </Math>))</text><text fontsize="90%"> to </text><text font="typewriter" fontsize="90%">nlinarith</text><text fontsize="90%">, which are required to close the goal (while the other two can be removed).</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob6" xml:id="A6.SSx4">
      <title font="typewriter">mathd_train_algebra_217</title>
      <table placement="h" xml:id="A6.SSx4.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><!--  %****␣main.tex␣Line␣1025␣**** --><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Let </text><Math mode="inline" tex="f(x)=Ax+B" text="f * x = A * x + B" xml:id="A6.SSx4.m1">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">f</XMTok>
                                <XMDual>
                                  <XMRef idref="A6.SSx4.m1.1"/>
                                  <XMWrap>
                                    <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx4.m1.1">x</XMTok>
                                    <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                </XMApp>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"> and </text><Math mode="inline" tex="g(x)=Bx+A" text="g * x = B * x + A" xml:id="A6.SSx4.m2">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">g</XMTok>
                                <XMDual>
                                  <XMRef idref="A6.SSx4.m2.1"/>
                                  <XMWrap>
                                    <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx4.m2.1">x</XMTok>
                                    <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                </XMApp>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, where </text><Math mode="inline" tex="A\neq B" text="A not-equals B" xml:id="A6.SSx4.m3">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="not-equals" name="neq" role="RELOP">≠</XMTok>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">.</text></p>
                      <p><text fontsize="90%">If </text><Math mode="inline" tex="f(g(x))-g(f(x))=B-A" text="f * g * x - g * f * x = B - A" xml:id="A6.SSx4.m4">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">f</XMTok>
                                  <XMDual>
                                    <XMRef idref="A6.SSx4.m4.3"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.SSx4.m4.3">
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">g</XMTok>
                                        <XMDual>
                                          <XMRef idref="A6.SSx4.m4.1"/>
                                          <XMWrap>
                                            <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx4.m4.1">x</XMTok>
                                            <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                          </XMWrap>
                                        </XMDual>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">g</XMTok>
                                  <XMDual>
                                    <XMRef idref="A6.SSx4.m4.4"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.SSx4.m4.4">
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">f</XMTok>
                                        <XMDual>
                                          <XMRef idref="A6.SSx4.m4.2"/>
                                          <XMWrap>
                                            <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                            <XMTok font="italic" fontsize="90%" role="UNKNOWN" xml:id="A6.SSx4.m4.2">x</XMTok>
                                            <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                          </XMWrap>
                                        </XMDual>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, what is </text><Math mode="inline" tex="A+B" text="A + B" xml:id="A6.SSx4.m5">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">? </text><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in our </text><text font="italic" fontsize="90%">curriculum</text><text fontsize="90%"> provides the answer and asks for a proof of it.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem mathd_train_algebra_217
  (a b : )
  (f g :   )
  (h :  x, f x = a * x + b)
  (h :  x, f x = b * x + a)
  (h : a  b)
  (h :  x, f (g x) - g (f x) = b - a) :
  a + b = 0 :=
begin
  revert_all,
  intros a b,
  intros f g,
  contrapose!,
  rintro h, h, h,
  use (0 : ),
  simp only [sub_eq_iff_eq_add, h, mul_zero] at *,
  simp only [*, zero_add],
  norm_num at h
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model is able to close the goal by contraposing, supplying a witness by the use of </text><text font="typewriter" fontsize="90%">use (<Math mode="inline" tex="0:\mathbb{R}" text="0 colon R" xml:id="A6.SSx4.m6">
                        <XMath>
                          <XMApp>
                            <XMTok font="serif" name="colon" role="METARELOP">:</XMTok>
                            <XMTok font="serif" meaning="0" role="NUMBER">0</XMTok>
                            <XMTok font="blackboard" role="UNKNOWN">R</XMTok>
                          </XMApp>
                        </XMath>
                      </Math>)</text><text fontsize="90%"> and finally leveraging the </text><text font="typewriter" fontsize="90%">simp</text><text fontsize="90%"> and </text><text font="typewriter" fontsize="90%">norm_num</text><text fontsize="90%">. This example demonstrates the model’s ability to chain multiple non-trivial steps of reasoning including the generation of witnesses.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob9" xml:id="A6.SSx5">
      <title font="typewriter">amc12b_2020_p6</title>
      <table placement="h" xml:id="A6.SSx5.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">For all integers </text><Math mode="inline" tex="n\geq 9," text="n &gt;= 9" xml:id="A6.SSx5.m1">
                          <XMath>
                            <XMDual>
                              <XMRef idref="A6.SSx5.m1.1"/>
                              <XMWrap>
                                <XMApp xml:id="A6.SSx5.m1.1">
                                  <XMTok fontsize="90%" meaning="greater-than-or-equals" name="geq" role="RELOP">≥</XMTok>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">n</XMTok>
                                  <XMTok fontsize="90%" meaning="9" role="NUMBER">9</XMTok>
                                </XMApp>
                                <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMath>
                        </Math><text fontsize="90%"> the value of</text></p>
                      <equation xml:id="A6.Ex10">
                        <Math mode="display" tex="\frac{(n+2)!-(n+1)!}{n!}" text="((n + 2)factorial - (n + 1)factorial) / nfactorial" xml:id="A6.Ex10.m1">
                          <XMath>
                            <XMApp>
                              <XMTok mathstyle="display" meaning="divide" role="FRACOP"/>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok fontsize="90%" meaning="factorial" role="POSTFIX">!</XMTok>
                                  <XMDual>
                                    <XMRef idref="A6.Ex10.m1.1"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.Ex10.m1.1">
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">n</XMTok>
                                        <XMTok fontsize="90%" meaning="2" role="NUMBER">2</XMTok>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                                <XMApp>
                                  <XMTok fontsize="90%" meaning="factorial" role="POSTFIX">!</XMTok>
                                  <XMDual>
                                    <XMRef idref="A6.Ex10.m1.2"/>
                                    <XMWrap>
                                      <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="A6.Ex10.m1.2">
                                        <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                        <XMTok font="italic" fontsize="90%" role="UNKNOWN">n</XMTok>
                                        <XMTok fontsize="90%" meaning="1" role="NUMBER">1</XMTok>
                                      </XMApp>
                                      <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="factorial" role="POSTFIX">!</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">n</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math>
                      </equation>
                      <p><text fontsize="90%">is always which of the following?</text></p>
                      <p><Math mode="inline" tex="\textbf{(A) }\text{a multiple of }4\qquad\textbf{(B) }\text{a multiple of }10%&#10;\qquad\textbf{(C) }\text{a prime number}\\&#10;\textbf{(D) }\text{a perfect square}\qquad\textbf{(E) }\text{a perfect cube}" text="list@([(A) a multiple of ] * 4, [(B) a multiple of ] * 10, [(C) a prime number(D) a perfect square], [(E) a perfect cube])" xml:id="A6.SSx5.m2">
                          <XMath>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="list"/>
                                <XMRef idref="A6.SSx5.m2.3"/>
                                <XMRef idref="A6.SSx5.m2.4"/>
                                <XMRef idref="A6.SSx5.m2.1"/>
                                <XMRef idref="A6.SSx5.m2.2"/>
                              </XMApp>
                              <XMWrap>
                                <XMApp xml:id="A6.SSx5.m2.3">
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMText><text font="bold" fontsize="90%">(A) </text><text fontsize="90%">a multiple of </text></XMText>
                                  <XMTok fontsize="90%" meaning="4" role="NUMBER">4</XMTok>
                                </XMApp>
                                <XMHint name="quad" role="PUNCT" width="18pt"/>
                                <XMApp xml:id="A6.SSx5.m2.4">
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMText><text font="bold" fontsize="90%">(B) </text><text fontsize="90%">a multiple of </text></XMText>
                                  <XMTok fontsize="90%" meaning="10" role="NUMBER">10</XMTok>
                                </XMApp>
                                <XMHint name="quad" role="PUNCT" width="18pt"/>
                                <XMText xml:id="A6.SSx5.m2.1"><text font="bold" fontsize="90%">(C) </text><text fontsize="90%">a prime number</text><break/><text font="bold" fontsize="90%">(D) </text><text fontsize="90%">a perfect square</text></XMText>
                                <XMHint name="quad" role="PUNCT" width="18pt"/>
                                <XMText xml:id="A6.SSx5.m2.2"><text font="bold" fontsize="90%">(E) </text><text fontsize="90%">a perfect cube</text></XMText>
                              </XMWrap>
                            </XMDual>
                          </XMath>
                        </Math><text fontsize="90%">.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><!--  %****␣main.tex␣Line␣1075␣**** --><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem amc12b_2020_p6
  (n : )
  (h : 9  n) :
   x : , (x:)^2 = (nat.factorial (n + 2) -
    nat.factorial (n + 1)) / nat.factorial n :=
begin
  revert_all,
  intros n hn,
  use n + 1,
  field_simp [nat.factorial_ne_zero, pow_succ’],
  ring_exp
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model exhibits here its ability to implicitly interpret factorial expressions by guessing the correct answer with the use of </text><text font="typewriter" fontsize="90%">use n + 1</text><text fontsize="90%"> and straightforwardly proving its claim right after.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob5" xml:id="A6.SSx6">
      <title font="typewriter">mathd_algebra_140</title>
      <table placement="h" xml:id="A6.SSx6.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">The expression </text><Math mode="inline" tex="24x^{2}-19x-35" text="24 * x ^ 2 - 19 * x - 35" xml:id="A6.SSx6.m1">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok fontsize="90%" meaning="24" role="NUMBER">24</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                  <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok fontsize="90%" meaning="19" role="NUMBER">19</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                              </XMApp>
                              <XMTok fontsize="90%" meaning="35" role="NUMBER">35</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"> can be written as </text><Math mode="inline" tex="(Ax-5)(2Bx+C)" text="(A * x - 5) * (2 * B * x + C)" xml:id="A6.SSx6.m2">
                          <XMath>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMDual>
                                <XMRef idref="A6.SSx6.m2.1"/>
                                <XMWrap>
                                  <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="A6.SSx6.m2.1">
                                    <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                    </XMApp>
                                    <XMTok fontsize="90%" meaning="5" role="NUMBER">5</XMTok>
                                  </XMApp>
                                  <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                              <XMDual>
                                <XMRef idref="A6.SSx6.m2.2"/>
                                <XMWrap>
                                  <XMTok fontsize="90%" role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="A6.SSx6.m2.2">
                                    <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok fontsize="90%" meaning="2" role="NUMBER">2</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                                      <XMTok font="italic" fontsize="90%" role="UNKNOWN">x</XMTok>
                                    </XMApp>
                                    <XMTok font="italic" fontsize="90%" role="UNKNOWN">C</XMTok>
                                  </XMApp>
                                  <XMTok fontsize="90%" role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, where </text><Math mode="inline" tex="A" text="A" xml:id="A6.SSx6.m3">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                          </XMath>
                        </Math><text fontsize="90%">, </text><Math mode="inline" tex="B" text="B" xml:id="A6.SSx6.m4">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                          </XMath>
                        </Math><text fontsize="90%">, and </text><Math mode="inline" tex="C" text="C" xml:id="A6.SSx6.m5">
                          <XMath>
                            <XMTok font="italic" fontsize="90%" role="UNKNOWN">C</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> are positive numbers. Find </text><Math mode="inline" tex="AB-3C" text="A * B - 3 * C" xml:id="A6.SSx6.m6">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="minus" role="ADDOP">-</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">A</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">B</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok fontsize="90%" meaning="3" role="NUMBER">3</XMTok>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">C</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">. </text><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in </text><text font="italic" fontsize="90%">miniF2F</text><text fontsize="90%"> provides the answer and asks for a proof of it.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem mathd_algebra_140
  (a b c : )
  (h : 0 &lt; a  0 &lt; b  0 &lt; c)
  (h :  x, 24 * x^2 - 19 * x - 35 =
    (((a * x) - 5) * ((2 * (b * x)) + c))) :
  a * b - 3 * c = -9 :=
begin
  revert_all,
  rintro a b c h,
  rw mul_comm,
  rw sub_eq_zero,
  field_simp,
  rw sub_eq_add_neg,
  rw  eq_neg_iff_add_eq_zero,
  rw [mul_comm,  sub_eq_add_neg, sub_eq_add_neg,
   sub_eq_add_neg],
  rw sub_eq_zero,
  simp only [mul_add, neg_mul_eq_neg_mul_symm, mul_comm,
  add_left_comm],
  norm_num,
  simp only [pow_two],
  intro h,
  rw  sub_eq_zero,
  linarith [h.2, h.1, h 3, h 1, h 2]
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model mostly "struggles" to make progress up to the last line. There, it presents us with the idea to specialize the statement given in </text><text font="typewriter" fontsize="90%">h<sub><text font="serif">1</text></sub></text><text fontsize="90%"> (which became </text><text font="typewriter" fontsize="90%">h<sub><text font="serif">0</text></sub></text><text fontsize="90%"> in the process of the proof) at three consecutive natural numbers </text><Math mode="inline" tex="1,2,3" text="list@(1, 2, 3)" xml:id="A6.SSx6.m9">
                      <XMath>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="list"/>
                            <XMRef idref="A6.SSx6.m9.1"/>
                            <XMRef idref="A6.SSx6.m9.2"/>
                            <XMRef idref="A6.SSx6.m9.3"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok fontsize="90%" meaning="1" role="NUMBER" xml:id="A6.SSx6.m9.1">1</XMTok>
                            <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                            <XMTok fontsize="90%" meaning="2" role="NUMBER" xml:id="A6.SSx6.m9.2">2</XMTok>
                            <XMTok fontsize="90%" role="PUNCT">,</XMTok>
                            <XMTok fontsize="90%" meaning="3" role="NUMBER" xml:id="A6.SSx6.m9.3">3</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMath>
                    </Math><text fontsize="90%"> which closes the goal with </text><text font="typewriter" fontsize="90%">nlinarith</text><text fontsize="90%">. This proof is interesting as it demonstrates the model’s ability to evaluate symbolic expressions implicitly.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob8" xml:id="A6.SSx7">
      <title font="typewriter">aime_1984_p1</title>
      <table placement="h" xml:id="A6.SSx7.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Find the value of </text><Math mode="inline" tex="a_{2}+a_{4}+a_{6}+a_{8}+\ldots+a_{98}" text="a _ 2 + a _ 4 + a _ 6 + a _ 8 + ldots + a _ 98" xml:id="A6.SSx7.m1">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="6" role="NUMBER">6</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="8" role="NUMBER">8</XMTok>
                              </XMApp>
                              <XMTok fontsize="90%" name="ldots" role="ID">…</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="98" role="NUMBER">98</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"> if </text><Math mode="inline" tex="a_{1}" text="a _ 1" xml:id="A6.SSx7.m2">
                          <XMath>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                              <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, </text><Math mode="inline" tex="a_{2}" text="a _ 2" xml:id="A6.SSx7.m3">
                          <XMath>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                              <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, </text><Math mode="inline" tex="a_{3}\ldots" text="a _ 3 * ldots" xml:id="A6.SSx7.m4">
                          <XMath>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                              </XMApp>
                              <XMTok fontsize="90%" name="ldots" role="ID">…</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"> is an arithmetic progression with common difference 1, and </text><Math mode="inline" tex="a_{1}+a_{2}+a_{3}+\ldots+a_{98}=137" text="a _ 1 + a _ 2 + a _ 3 + ldots + a _ 98 = 137" xml:id="A6.SSx7.m5">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" meaning="equals" role="RELOP">=</XMTok>
                              <XMApp>
                                <XMTok fontsize="90%" meaning="plus" role="ADDOP">+</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                  <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                                </XMApp>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                  <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                                </XMApp>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                  <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                                </XMApp>
                                <XMTok fontsize="90%" name="ldots" role="ID">…</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                                  <XMTok font="italic" fontsize="90%" role="UNKNOWN">a</XMTok>
                                  <XMTok fontsize="63%" meaning="98" role="NUMBER">98</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMTok fontsize="90%" meaning="137" role="NUMBER">137</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">. </text><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in </text><text font="italic" fontsize="90%">miniF2F</text><text fontsize="90%"> provides the answer and asks for a proof of it.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem aime_1984_p1
  (u :   )
  (h :  n, u (n + 1) = u n + 1)
  (h :  k in finset.range 98, u k.succ = 137) :
   k in finset.range 49, u (2 * k.succ) = 93 :=
begin
  revert_all,
  simp [finset.sum_range_succ],
  ring,
  simp [pow_succ, mul_comm, add_left_comm, add_assoc],
  simp [two_mul],
  rintro p,
  revert p,
  simp [add_comm],
  intros p hp,
  simp [hp], ring_nf,
  intros,
  nlinarith
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">The model finds a rather short proof of the statement compared to typical human formalizations (see </text><ref class="ltx_url" font="typewriter" fontsize="90%" href="https://gist.github.com/MantasBaksys/3efd5c0d42f440d16c09076db42822f2">https://gist.github.com/MantasBaksys/3efd5c0d42f440d16c09076db42822f2</ref><text fontsize="90%">).</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
      <pagination role="newpage"/>
    </subsection>
    <subsection labels="LABEL:exprob10" xml:id="A6.SSx8">
      <title font="typewriter">aopsbook_v2_c8_ex1</title>
      <table placement="h" xml:id="A6.SSx8.tab1">
        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">Consider the sequence {</text><Math mode="inline" tex="\frac{n}{n+1}" text="n / (n + 1)" xml:id="A6.SSx8.m1">
                          <XMath>
                            <XMApp>
                              <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                              <XMTok font="italic" fontsize="63%" role="UNKNOWN">n</XMTok>
                              <XMApp>
                                <XMTok fontsize="63%" meaning="plus" role="ADDOP">+</XMTok>
                                <XMTok font="italic" fontsize="63%" role="UNKNOWN">n</XMTok>
                                <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                              </XMApp>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">} = </text><Math mode="inline" tex="\frac{1}{2}" text="1 / 2" xml:id="A6.SSx8.m2">
                          <XMath>
                            <XMApp>
                              <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                              <XMTok fontsize="63%" meaning="1" role="NUMBER">1</XMTok>
                              <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, </text><Math mode="inline" tex="\frac{2}{3}" text="2 / 3" xml:id="A6.SSx8.m3">
                          <XMath>
                            <XMApp>
                              <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                              <XMTok fontsize="63%" meaning="2" role="NUMBER">2</XMTok>
                              <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, </text><Math mode="inline" tex="\frac{3}{4}" text="3 / 4" xml:id="A6.SSx8.m4">
                          <XMath>
                            <XMApp>
                              <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                              <XMTok fontsize="63%" meaning="3" role="NUMBER">3</XMTok>
                              <XMTok fontsize="63%" meaning="4" role="NUMBER">4</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%">, …</text></p>
                      <p><text fontsize="90%">Prove that this sequence tends to </text><Math mode="inline" tex="1" text="1" xml:id="A6.SSx8.m5">
                          <XMath>
                            <XMTok fontsize="90%" meaning="1" role="NUMBER">1</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> as </text><Math mode="inline" tex="n\rightarrow\infty" text="n rightarrow infinity" xml:id="A6.SSx8.m6">
                          <XMath>
                            <XMApp>
                              <XMTok fontsize="90%" name="rightarrow" role="ARROW">→</XMTok>
                              <XMTok font="italic" fontsize="90%" role="UNKNOWN">n</XMTok>
                              <XMTok fontsize="90%" meaning="infinity" name="infty" role="ID">∞</XMTok>
                            </XMApp>
                          </XMath>
                        </Math><text fontsize="90%"></text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem aopsbook_v2_c8_ex1
  (u :   )
  (h :  n, u n = n / (n + 1)) :
  filter.tendsto u filter.at_top ( 1) :=
begin
  revert_all,
  simp [ nnreal.coe_one],
  norm_cast,
  intros,
  revert h,
  assume h,
  simp [tendsto_const_nhds,  nnreal.coe_one, h],
  revert u,
  assume f,
  norm_num,
  rw tendsto_iff_norm_tendsto_zero,
  assume H,
  convert tendsto_norm_zero.comp
    tendsto_one_div_add_at_top_nhds_0_nat,
  funext n,
  have h : (((n:) + 1) : )  0,
  { norm_cast, exact n.succ_ne_zero, },
  rw H,
  field_simp [h, norm_neg],
  ring,
  rw [ sub_eq_zero],
  simp [ sub_eq_zero],
  simp [sub_eq_add_neg],
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">An interesting example of a generated </text><text font="typewriter" fontsize="90%">have</text><text fontsize="90%"> statement, denoted by </text><text font="typewriter" fontsize="90%">h<sub><text font="serif">0</text></sub></text><text fontsize="90%">, which is introduced as a cut in order to simplify the expression containing divisions by using </text><text font="typewriter" fontsize="90%">field_simp[h<sub><text font="serif">0</text></sub>, norm_neg]</text><text fontsize="90%"> at a later step.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
    </subsection>
    <subsection labels="LABEL:exprob1" xml:id="A6.SSx9">
      <title font="typewriter">mathd_numbertheory_447</title>
      <table placement="h" xml:id="A6.SSx9.tab1">
<!--  %****␣main.tex␣Line␣1250␣**** -->        <tabular class="ltx_guessed_headers" vattach="middle">
          <thead>
            <tr>
              <td align="justify" border="l r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Natural language</text></p>
                </inline-block></td>
              <td align="justify" border="r t" thead="column" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <p><text fontsize="90%">What is the sum of the units digits of all the multiples of </text><Math mode="inline" tex="3" text="3" xml:id="A6.SSx9.m1">
                          <XMath>
                            <XMTok fontsize="90%" meaning="3" role="NUMBER">3</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> between </text><Math mode="inline" tex="0" text="0" xml:id="A6.SSx9.m2">
                          <XMath>
                            <XMTok fontsize="90%" meaning="0" role="NUMBER">0</XMTok>
                          </XMath>
                        </Math><text fontsize="90%"> and </text><Math mode="inline" tex="50" text="50" xml:id="A6.SSx9.m3">
                          <XMath>
                            <XMTok fontsize="90%" meaning="50" role="NUMBER">50</XMTok>
                          </XMath>
                        </Math><text fontsize="90%">? </text><text font="bold" fontsize="90%">Note</text><text fontsize="90%">: the formalized statement in </text><text font="italic" fontsize="90%">miniF2F</text><text fontsize="90%"> provides the answer and asks for a proof of it.</text></p>
                    </inline-block></p>
                </inline-block></td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td align="justify" border="l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Model proof</text></p>
                </inline-block></td>
              <td align="justify" border="r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><inline-block class="ltx_minipage" vattach="middle" width="355.7pt">
                      <verbatim font="typewriter" fontsize="90%">

theorem mathd_numbertheory_447 :
   k in finset.filter ( x, 3x)
  (finset.erase (finset.range 50) 0), (k % 10) = 78 :=
begin
  refl
end</verbatim>
                    </inline-block></p>
                </inline-block></td>
            </tr>
            <tr>
              <td align="justify" border="b l r t" vattach="top"><inline-block vattach="top">
                  <p width="99.6pt"><text fontsize="90%">Comments</text></p>
                </inline-block></td>
              <td align="justify" border="b r t" vattach="top"><inline-block vattach="top">
                  <p width="355.7pt"><text fontsize="90%">Because the predicate </text><Math mode="inline" tex="\lambda" text="lambda" xml:id="A6.SSx9.m4">
                      <XMath>
                        <XMTok font="italic" fontsize="90%" name="lambda" role="UNKNOWN">λ</XMTok>
                      </XMath>
                    </Math><text font="typewriter" fontsize="90%"> x, 3|x</text><text fontsize="90%"> is registered as decidable over </text><Math mode="inline" tex="\mathbb{N}" text="N" xml:id="A6.SSx9.m5">
                      <XMath>
                        <XMTok font="blackboard" fontsize="90%" role="UNKNOWN">N</XMTok>
                      </XMath>
                    </Math><text fontsize="90%">, we can state the problem by using </text><text font="typewriter" fontsize="90%">finset.filter</text><text fontsize="90%">, which is computable. Hence, </text><text font="typewriter" fontsize="90%">refl</text><text fontsize="90%"> is able to close the goal.</text></p>
                </inline-block></td>
            </tr>
          </tbody>
        </tabular>
      </table>
<!--  %****␣main.tex␣Line␣1275␣**** -->    </subsection>
  </appendix>
</document>
