\newcommand{\state}{s}
\newcommand{\statespace}{S}
\newcommand{\action}{a}
\newcommand{\actionspace}{A}
\newcommand{\traj}{\tau}
\newcommand{\trajstate}{\tau_{\state}}
\newcommand{\trajaction}{\tau_{\action}}
\newcommand{\trajspace}{\Omega}
\newcommand{\trajspacea}{\Omega_\action}
\newcommand{\trajspaces}{\Omega_\state}
\newcommand{\histspace}{H}
\newcommand{\stateop}{s}
\newcommand{\mapping}{H}
\newcommand{\intent}{z}
\newcommand{\intentspace}{Z}
\newcommand{\policy}{\pi}
\newcommand{\oldpol}{\pi_{\theta_j}}
\newcommand{\optoldpol}{\pi_{\theta_j}^*}
\newcommand{\noisedoldpol}{\Tilde{\pi}_{\theta_j}}
\newcommand{\noisedveryoldpol}{\Tilde{\pi}_{\theta_{j-1}}}
\newcommand{\optnoisedoldpol}{\Tilde{\pi}_{\theta_j}^*}
\newcommand{\maxpol}{\pi_{\theta_{j+1}}}
\newcommand{\poltotraj}{\mathcal{T}}
\newcommand{\intentbuffer}{D}
\newcommand{\prevbuffer}{D_{\mathrm{prev}}}
\newcommand{\trainingbuffer}{\hat{D}}
\newcommand{\steeringbuffer}{D_{\mathrm{steer}}}
\newcommand{\steerratio}{\alpha}
\newcommand{\embed}{\mathcal{Z}}
\newcommand{\embedstate}{G^s}
\newcommand{\methodnamefull}{Iterative Inversion}
\newcommand{\methodname}{IT-IN}
\newcommand{\datadist}{P_{data}}
\newcommand{\policydist}{P_{\policy_{\theta}}}
\newcommand{\loss}{\mathcal{L}}
\newcommand{\noise}{\eta}
\newcommand{\distintent}{\zeta}
\newcommand{\disttraj}{\rho}
\newcommand{\priorintdist}{\distintent_{\intentbuffer_{j-1}}}

\newcommand{\F}{\mathcal{F}}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\mycomm}[3]{{\color{#2} \textbf{[#1: #3]}}}
\newcommand{\AT}[1]{\mycomm{AT}{magenta}{#1}}
\newcommand{\OA}[1]{\mycomm{OA}{cyan}{#1}}
\newcommand{\GL}[1]{\mycomm{GL}{blue}{#1}}
\newcommand{\GJ}[1]{\mycomm{GJ}{green}{#1}}
\newcommand{\at}[1]{\textcolor{magenta}{#1}}
\newcommand{\review}[1]{\textcolor{blue}{#1}}
\newcommand{\new}[1]{\textcolor{blue}{#1}}
\newcommand{\camready}[1]{\textcolor{red}{#1}}


\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{assumption}{Assumption}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{remark}{Remark}
\newtheorem{example}{Example}

\newcommand{\alglinelabel}{%
  \addtocounter{ALC@line}{-1}%
  \refstepcounter{ALC@line}%
  \label%
}