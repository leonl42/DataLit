\cdot
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}=G({\color[rgb]{0.27,0.42,0.81}\bm{z}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{\epsilon}_{T}%
\oplus\cdots\oplus\bm{\epsilon}_{1}\big{)}}
\bm{x}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T)+\bm{%
\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{T}},
\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot{\color[rgb]{%
0.27,0.42,0.81}\bm{\epsilon}_{t}}\ (t<T),\quad{\color[rgb]{.75,0,.25}\bm{x}:=%
\bm{x}_{0}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\bm{x}_{T}}
T=T_{\textit{g}}
\bm{x}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T),
\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t)\ (t<T),\quad{\color[rgb]{.75,0,.25}\bm%
{x}:=\bm{x}_{0}}.
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
G_{\text{latent}}
\bm{z}_{0}=G_{\text{latent}}({\color[rgb]{0.27,0.42,0.81}\bm{z}}),\quad{\color%
[rgb]{.75,0,.25}\bm{x}}=D(\bm{z}_{0})
{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{z}_{T}\oplus\bm{x}_{T}\big{)}}
\bm{z}_{0}=\text{DDIM}_{Z}({\color[rgb]{0.27,0.42,0.81}\bm{z}_{T}}),\quad{%
\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}=\text{DDIM}_{X}({\color[rgb]{%
0.27,0.42,0.81}\bm{x}_{T}},\bm{z}_{0})
{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{z}_{T}\oplus\bm%
{\epsilon}_{T}\oplus\cdots}
\bm{x}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},{\color[rgb]%
{0.27,0.42,0.81}\bm{z}_{T}},T)+\bm{\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81%
}\bm{\epsilon}_{T}},
{\color[rgb]{0.27,0.42,0.81}\oplus\ \bm{z}_{2}\oplus\bm{\epsilon}_{2}\oplus\bm%
{z}_{1}\big{)}}
\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},{\color[rgb]{0.27,0.42,0.81}\bm{z}_{t}},t%
)+\bm{\sigma}_{t}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}\ (1<t<T),
{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}=\bm{\mu}_{T}(\bm{x}_{1},{\color[rgb%
]{0.27,0.42,0.81}\bm{z}_{1}},1).
G:\mathbb{R}^{d}\to\mathcal{X}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{.75,0,.25}\bm{x}}\sim p_{{\color[rgb]{.75,0,.25}\bm{x}}}({\color[%
rgb]{.75,0,.25}\bm{x}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim p_{{\color[rgb]{0.27,0.42,0.81}\bm{z}}%
}({\color[rgb]{0.27,0.42,0.81}\bm{z}}),{\color[rgb]{.75,0,.25}\bm{x}}=G({%
\color[rgb]{0.27,0.42,0.81}\bm{z}})
p_{{\color[rgb]{0.27,0.42,0.81}\bm{z}}}({\color[rgb]{0.27,0.42,0.81}\bm{z}})
\bm{\mu}_{T}
{\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}}\sim\mathcal{N}(\bm{0},\bm{I})
\bm{x}:=\bm{x}_{0}
\bm{x}_{t-1}\sim\mathcal{N}(\bm{\mu}_{T}(\bm{x}_{t},t),\mathrm{diag}(\bm{%
\sigma}_{t}^{2}))
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
G
\begin{split}&{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{%
\epsilon}_{T}\oplus\cdots\oplus\bm{\epsilon}_{1}\big{)}}\sim\mathcal{N}(\bm{0}%
,\bm{I}),\ \ \ \bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot{%
\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}},\ \ \ t=T,\ldots,1,\end{split}
\oplus
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
d=d_{I}\times(T+1)
d_{I}
\bm{\mu}_{T}
\bm{x}:=\bm{x}_{0}
\displaystyle{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\bm{x}_{T}}\sim\mathcal{N}(%
\bm{0},\bm{I}),\quad\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t),\quad t=T,\ldots,1.
\displaystyle{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\bm{x}_{T}}\sim\mathcal{N}(%
\bm{0},\bm{I}),\quad\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t),\quad t=T,\ldots,1.
T_{\textit{g}}
\bm{\mu}_{T_{\textit{g}}}
T_{\textit{g}}
\bm{x}:=\bm{x}_{0}
\displaystyle\text{(with gradients)\quad}{\color[rgb]{0.27,0.42,0.81}\bm{z}:=%
\bm{x}_{T_{\textit{g}}}}\sim\mathcal{N}(\bm{0},\bm{I}),\quad\bm{x}_{t-1}=\bm{%
\mu}_{T_{\textit{g}}}(\bm{x}_{t},t),\quad t=T_{\textit{g}},\ldots,1.
\displaystyle\text{(with gradients)\quad}{\color[rgb]{0.27,0.42,0.81}\bm{z}:=%
\bm{x}_{T_{\textit{g}}}}\sim\mathcal{N}(\bm{0},\bm{I}),\quad\bm{x}_{t-1}=\bm{%
\mu}_{T_{\textit{g}}}(\bm{x}_{t},t),\quad t=T_{\textit{g}},\ldots,1.
G_{\text{latent}}
\bm{z}_{0}=G_{\text{latent}}({\color[rgb]{0.27,0.42,0.81}\bm{z}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}}=D(\bm{z}_{0})
G_{\text{latent}}
\bm{z}_{0}
\begin{split}&{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{z}_{T}\oplus\bm{x%
}_{T}\big{)}}\sim\mathcal{N}(\bm{0},\bm{I}),\quad\bm{z}_{0}=\text{DDIM}_{Z}({%
\color[rgb]{0.27,0.42,0.81}\bm{z}_{T}}),\quad{\color[rgb]{.75,0,.25}\bm{x}:=%
\bm{x}_{0}}=\text{DDIM}_{X}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},\bm{z}_{0}%
).\end{split}
t
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
G
\begin{split}&{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{z%
}_{T}\oplus\bm{\epsilon}_{T}\oplus\cdots\oplus\bm{z}_{2}\oplus\bm{\epsilon}_{2%
}\oplus\bm{z}_{1}\big{)}}\sim\mathcal{N}(\bm{0},\bm{I}),\\
&\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},{\color[rgb]{0.27,0.42,0.81}\bm{z}_{t}},%
t)+\bm{\sigma}_{t}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}},\quad t=%
T,\ldots,2,\quad{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}=\bm{\mu}_{T}(\bm{x}%
_{1},{\color[rgb]{0.27,0.42,0.81}\bm{z}_{1}},1).\end{split}
{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}
\bm{t}
\hat{\bm{t}}
T_{\text{es}}\leq T
\hat{\bm{x}}_{T_{\text{es}}}=\bm{x}_{T_{\text{es}}}\sim q(\bm{x}_{T_{\text{es}%
}}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
t=T_{\text{es}},\ldots,1
\bm{x}_{t-1}\sim q(\bm{x}_{t-1}|\bm{x}_{t},{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}=\big{(}\bm{x}_{t-1}-\bm{\mu}_{T%
}(\bm{x}_{t},t|\bm{t})\big{)}/\bm{\sigma}_{t}
\hat{\bm{x}}_{t-1}=\bm{\mu}_{T}(\hat{\bm{x}}_{t},t|\hat{\bm{t}})+\bm{\sigma}_{%
t}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}:=\hat{\bm{x}}_{0}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{Enc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
\bm{x}:=\bm{x}_{0}
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
\begin{split}&\bm{x}_{1},\ldots,\bm{x}_{T-1},{\color[rgb]{0.27,0.42,0.81}\bm{x%
}_{T}}\sim q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}}),\quad{\color[rgb%
]{0.27,0.42,0.81}\bm{\epsilon}_{t}}=\big{(}\bm{x}_{t-1}-\bm{\mu}_{T}(\bm{x}_{t%
},t)\big{)}/\bm{\sigma}_{t},\quad t=T,\ldots,1,\\
&\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad{\color[rgb]{0.27,0.42,0.81%
}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{\epsilon}_{T}\oplus\cdots\oplus\bm{%
\epsilon}_{2}\oplus\bm{\epsilon}_{1}\big{)}}.\end{split}
{\color[rgb]{.75,0,.25}\bm{x}}=G({\color[rgb]{0.27,0.42,0.81}\bm{z}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{Enc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
G_{1}
G_{2}
\mathcal{D}_{1}
\mathcal{D}_{2}
{\color[rgb]{.75,0,.25}\bm{x}}\in\mathcal{D}_{1}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}}=G_{2}({\color[rgb]{0.27,0.42,0.81}\bm{z}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G_{1}),\quad{\color[rgb]%
{.75,0,.25}\hat{\bm{x}}}=G_{2}({\color[rgb]{0.27,0.42,0.81}\bm{z}}).
\mathcal{D}_{1}
\mathcal{D}_{2}
G_{\bm{t}}
\bm{t}
{\color[rgb]{.75,0,.25}\bm{x}}
\bm{t}
{\color[rgb]{.75,0,.25}\bm{x}}
\hat{\bm{t}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G_{\bm{t}}),\quad{\color%
[rgb]{.75,0,.25}\hat{\bm{x}}}=G_{\hat{\bm{t}}}({\color[rgb]{0.27,0.42,0.81}\bm%
{z}}).
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
T_{\text{es}}\leq T
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
\bm{\mu}_{T}(\bm{x}_{t},t|\bm{t})
K_{t}
\|\bm{\mu}_{T}(\bm{x}_{t},t|\bm{t})-\bm{\mu}_{T}(\hat{\bm{x}}_{t},t|\bm{t})\|%
\leq K_{t}\|\bm{x}_{t}-\hat{\bm{x}}_{t}\|
\|\bm{\mu}_{T}(\hat{\bm{x}}_{t},t|\bm{t})-\bm{\mu}_{T}(\hat{\bm{x}}_{t},t|\hat%
{\bm{t}})\|\leq S_{t}
\bm{t}
\hat{\bm{t}}
S_{t}
B_{t}
\|\bm{x}_{t}-\hat{\bm{x}}_{t}\|_{2}
t
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{.75,0,.25}\bm{x}_{0}}=G_{\bm{t}}({\color[rgb]{0.27,0.42,0.81}\bm{%
z}})
{\color[rgb]{.75,0,.25}\hat{\bm{x}}_{0}}=G_{\hat{\bm{t}}}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}})
B_{T}=0
\|{\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}}-{\color[rgb]{0.27,0.42,0.81}\hat{\bm%
{x}}_{T}}\|_{2}=0
B_{0}
\|{\color[rgb]{.75,0,.25}\bm{x}}-{\color[rgb]{.75,0,.25}\hat{\bm{x}}}\|_{2}
B_{t}
T
0
B_{t-1}\leq(K_{t}+1)B_{t}+S_{t}.
{\color[rgb]{1,.5,0}\mathcal{C}}
p({\color[rgb]{.75,0,.25}\bm{x}}|{\color[rgb]{1,.5,0}\mathcal{C}})\propto p_{{%
\color[rgb]{.75,0,.25}\bm{x}}}({\color[rgb]{.75,0,.25}\bm{x}})e^{-\lambda_{{%
\color[rgb]{1,.5,0}\mathcal{C}}}E({\color[rgb]{.75,0,.25}\bm{x}}|{{\color[rgb]%
{1,.5,0}\mathcal{C}}})}
{\color[rgb]{.75,0,.25}\bm{x}}\sim p({\color[rgb]{.75,0,.25}\bm{x}}|{\color[%
rgb]{1,.5,0}\mathcal{C}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim p_{{\color[rgb]{0.27,0.42,0.81}\bm{z}}%
}({\color[rgb]{0.27,0.42,0.81}\bm{z}}|{\color[rgb]{1,.5,0}\mathcal{C}}),{%
\color[rgb]{.75,0,.25}\bm{x}}=G({\color[rgb]{0.27,0.42,0.81}\bm{z}})
p({\color[rgb]{0.27,0.42,0.81}\bm{z}}|{\color[rgb]{1,.5,0}\mathcal{C}})\propto
p%
_{{\color[rgb]{0.27,0.42,0.81}\bm{z}}}({\color[rgb]{0.27,0.42,0.81}\bm{z}})e^{%
-\lambda_{{\color[rgb]{1,.5,0}\mathcal{C}}}E(G({\color[rgb]{0.27,0.42,0.81}\bm%
{z}})|{{\color[rgb]{1,.5,0}\mathcal{C}}})}
E({\color[rgb]{.75,0,.25}\bm{x}}|{{\color[rgb]{1,.5,0}\mathcal{C}}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim p({\color[rgb]{0.27,0.42,0.81}\bm{z}}|%
{\color[rgb]{1,.5,0}\mathcal{C}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}^{\langle 0\rangle}}\sim\mathcal{N}(\bm{0},%
\bm{I})
{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\bm{z}^{\langle n\rangle}}
\begin{split}{\color[rgb]{0.27,0.42,0.81}\bm{z}^{\langle k+1\rangle}}={\color[%
rgb]{0.27,0.42,0.81}\bm{z}^{\langle k\rangle}}+\frac{\sigma}{2}\nabla_{{\color%
[rgb]{0.27,0.42,0.81}\bm{z}}}\Big{(}\log p_{{\color[rgb]{0.27,0.42,0.81}\bm{z}%
}}({\color[rgb]{0.27,0.42,0.81}\bm{z}^{\langle k\rangle}})-E\big{(}G({\color[%
rgb]{0.27,0.42,0.81}\bm{z}^{\langle k\rangle}})|{{\color[rgb]{1,.5,0}\mathcal{%
C}}}\big{)}\Big{)}+\sqrt{\sigma}\bm{\omega}^{\langle k\rangle},\quad\bm{\omega%
}^{\langle k\rangle}\sim\mathcal{N}(\bm{0},\bm{I}).\end{split}
L_{2}
L_{2}
\rightarrow
\rightarrow
\downarrow
\times 10^{3}
\downarrow
\uparrow
\uparrow
\downarrow
\times 10^{3}
\downarrow
\uparrow
\uparrow
\eta=0.1
256\times 256
\rightarrow
\rightarrow
T_{\text{sdedit}}
T=1000
T_{\text{sdedit}}=100
\rightarrow
T_{\text{sdedit}}=125
\rightarrow
\rightarrow
\rightarrow
\rightarrow
\rightarrow
({\color[rgb]{.75,0,.25}\bm{x}},\bm{t},\hat{\bm{t}})
{\color[rgb]{.75,0,.25}\bm{x}}
\bm{t}
\hat{\bm{t}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}}
\mathcal{S}_{\text{CLIP}}({\color[rgb]{.75,0,.25}\hat{\bm{x}}}|\hat{\bm{t}})=%
\cos\big{\langle}\text{CLIP}_{\text{img}}({\color[rgb]{.75,0,.25}\hat{\bm{x}}}%
),\text{CLIP}_{\text{text}}(\hat{\bm{t}})\big{\rangle}
\mathcal{S}_{\text{CLIP}}
\mathcal{S}_{\text{CLIP}}
\mathcal{S}_{\text{CLIP}}
\mathcal{S}_{\text{D-CLIP}}({\color[rgb]{.75,0,.25}\hat{\bm{x}}}|{\color[rgb]{%
.75,0,.25}\bm{x}},\bm{t},\hat{\bm{t}})=\cos\Big{\langle}\text{CLIP}_{\text{img%
}}({\color[rgb]{.75,0,.25}\hat{\bm{x}}})-\text{CLIP}_{\text{img}}({\color[rgb]%
{.75,0,.25}\bm{x}}),\text{CLIP}_{\text{text}}(\hat{\bm{t}})-\text{CLIP}_{\text%
{text}}(\bm{t})\Big{\rangle}.
\mathcal{S}_{\text{CLIP}}
\bm{\mu}_{T}(\bm{x}_{t},t|\bm{t})
\bm{\mu}_{T}(\hat{\bm{x}_{t}},t|\hat{\bm{t}})
\bm{t}
\hat{\bm{t}}
\rightarrow
\mathcal{S}_{\text{D-CLIP}}
\mathcal{S}_{\text{D-CLIP}}
\mathcal{S}_{\text{CLIP}}
\uparrow
\mathcal{S}_{\text{D-CLIP}}
\uparrow
\uparrow
\uparrow
\eta=0.1
\eta=0.1
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}}
[\ldots]
{\color[rgb]{.75,0,.25}\bm{x}}
{\color[rgb]{.75,0,.25}\hat{\bm{x}}}
[\ldots]
\rightarrow
\rightarrow
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{[}
\big{]}
\big{[}
\big{]}
{\color[rgb]{1,.5,0}\bm{t}}
E_{\text{CLIP}}({\color[rgb]{.75,0,.25}\bm{x}}|{\color[rgb]{1,.5,0}\bm{t}})=%
\frac{1}{L}\sum_{l=1}^{L}\Big{(}1-\cos\big{\langle}\text{CLIP}_{\text{img}}%
\big{(}\text{DiffAug}_{l}({\color[rgb]{.75,0,.25}\bm{x}})\big{)},\text{CLIP}_{%
\text{text}}({\color[rgb]{1,.5,0}\bm{t}})\big{\rangle}\Big{)}
n=200
\sigma=0.05
\lambda_{{\color[rgb]{1,.5,0}\mathcal{C}}}
\lambda_{\text{CLIP}}\in\{100,300,500,700,1000\}
(1-E_{\text{CLIP}}({\color[rgb]{.75,0,.25}\bm{x}}|{\color[rgb]{1,.5,0}\bm{t}}))
{\color[rgb]{1,.5,0}\bm{t}}
{\color[rgb]{1,.5,0}\bm{x}_{r}}
R
{\color[rgb]{1,.5,0}\bm{x}_{r}}
E_{\text{ID}}({\color[rgb]{.75,0,.25}\bm{x}}|{\color[rgb]{1,.5,0}\bm{x}_{r}})=%
1-\cos\big{\langle}R({\color[rgb]{.75,0,.25}\bm{x}}),R({\color[rgb]{1,.5,0}\bm%
{x}_{r}})\big{\rangle}
\lambda_{\text{ID}}=2500
\lambda_{{\color[rgb]{1,.5,0}\mathcal{C}}}
n=200
\sigma=0.05
{\color[rgb]{1,.5,0}\bm{x}_{r}}
\cos\big{\langle}R({\color[rgb]{.75,0,.25}\bm{x}}),R({\color[rgb]{1,.5,0}\bm{x%
}_{r}})\big{\rangle}
\eta=0
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\eta=0
\eta=0
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\{
\}
\{
\}
\eta=0
\bm{\mu}_{T}(\bm{x}_{t},t)
\bm{\sigma}_{t}
t
T
{\color[rgb]{.75,0,.25}\bm{x}}
\begin{split}&{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{%
\epsilon}_{T}\oplus\cdots\oplus\bm{\epsilon}_{2}\oplus\bm{\epsilon}_{1}\big{)}%
}\sim\mathcal{N}(\bm{0},\bm{I}),\\
&\bm{x}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T)+\bm{%
\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{T}},\\
&\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot{\color[rgb]{%
0.27,0.42,0.81}\bm{\epsilon}_{t}},\quad T>t>0,\\
&{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}.\end{split}
\bm{\mu}_{T}(\bm{x}_{t},t)
\bm{\sigma}_{t}
\bm{\epsilon}_{\theta}\left(\bm{x}_{t},t\right)
\bm{\epsilon}_{t}
{\color[rgb]{1,0,0}\bm{\mu}_{T}}(\bm{x}_{t},t)
{\color[rgb]{1,0,0}\bm{\sigma}_{t}}
\displaystyle{\color[rgb]{1,0,0}\bm{\mu}_{T}}(\bm{x}_{t},t):=\frac{1}{\sqrt{{%
\color[rgb]{1,0,0}\alpha_{t}}}}\left(\bm{x}_{t}-\frac{{\color[rgb]{1,0,0}\beta%
_{t}}}{\sqrt{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}\bm{\epsilon}_{\theta}%
\left(\bm{x}_{t},t\right)\right),
\displaystyle{\color[rgb]{1,0,0}\bm{\mu}_{T}}(\bm{x}_{t},t):=\frac{1}{\sqrt{{%
\color[rgb]{1,0,0}\alpha_{t}}}}\left(\bm{x}_{t}-\frac{{\color[rgb]{1,0,0}\beta%
_{t}}}{\sqrt{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}\bm{\epsilon}_{\theta}%
\left(\bm{x}_{t},t\right)\right),
\displaystyle{\color[rgb]{1,0,0}\bm{\sigma}_{t}}:=\left\{\begin{array}[]{lr}%
\sqrt{{\color[rgb]{1,0,0}\beta_{t}}}\bm{I},&\text{(option 1)}\\
\displaystyle\sqrt{\frac{(1-{\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}){\color[rgb%
]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}\bm{I},&\text{(%
option 2)}\\
\displaystyle\exp\left(\frac{\bm{v}_{\theta}(\bm{x}_{t},t)}{2}\log{\color[rgb]%
{1,0,0}\beta_{t}}+\frac{\bm{I}-\bm{v}_{\theta}(\bm{x}_{t},t)}{2}\log\frac{(1-{%
\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}){\color[rgb]{1,0,0}\beta_{t}}}{1-{\color%
[rgb]{1,0,0}\bar{\alpha}_{t}}}\right).&\text{(option 3)}\end{array}\right.
\displaystyle{\color[rgb]{1,0,0}\bm{\sigma}_{t}}:=\left\{\begin{array}[]{lr}%
\sqrt{{\color[rgb]{1,0,0}\beta_{t}}}\bm{I},&\text{(option 1)}\\
\displaystyle\sqrt{\frac{(1-{\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}){\color[rgb%
]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}\bm{I},&\text{(%
option 2)}\\
\displaystyle\exp\left(\frac{\bm{v}_{\theta}(\bm{x}_{t},t)}{2}\log{\color[rgb]%
{1,0,0}\beta_{t}}+\frac{\bm{I}-\bm{v}_{\theta}(\bm{x}_{t},t)}{2}\log\frac{(1-{%
\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}){\color[rgb]{1,0,0}\beta_{t}}}{1-{\color%
[rgb]{1,0,0}\bar{\alpha}_{t}}}\right).&\text{(option 3)}\end{array}\right.
{\color[rgb]{.75,.5,.25}\bm{\mu}_{T}}(\bm{x}_{t},t)
{\color[rgb]{.75,.5,.25}\bm{\sigma}_{t}}
\displaystyle{\color[rgb]{.75,.5,.25}\bm{\mu}_{T}}(\bm{x}_{t},t):=\sqrt{{%
\color[rgb]{.75,.5,.25}\alpha_{t-1}}}\left(\frac{\bm{x}_{t}-\sqrt{1-{\color[%
rgb]{.75,.5,.25}\alpha_{t}}}\bm{\epsilon}_{\theta}\left(\bm{x}_{t},t\right)}{%
\sqrt{{\color[rgb]{.75,.5,.25}\alpha_{t}}}}\right)+\sqrt{1-{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}-\sigma_{t}^{2}}\cdot\bm{\epsilon}_{\theta}\left(\bm{x%
}_{t},t\right),
\displaystyle{\color[rgb]{.75,.5,.25}\bm{\mu}_{T}}(\bm{x}_{t},t):=\sqrt{{%
\color[rgb]{.75,.5,.25}\alpha_{t-1}}}\left(\frac{\bm{x}_{t}-\sqrt{1-{\color[%
rgb]{.75,.5,.25}\alpha_{t}}}\bm{\epsilon}_{\theta}\left(\bm{x}_{t},t\right)}{%
\sqrt{{\color[rgb]{.75,.5,.25}\alpha_{t}}}}\right)+\sqrt{1-{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}-\sigma_{t}^{2}}\cdot\bm{\epsilon}_{\theta}\left(\bm{x%
}_{t},t\right),
\displaystyle{\color[rgb]{.75,.5,.25}\bm{\sigma}_{t}}:=\sigma_{t}\bm{I},\quad%
\quad\text{where }\sigma_{t}=\eta\sqrt{\left(1-{\color[rgb]{.75,.5,.25}\alpha_%
{t-1}}\right)/\left(1-{\color[rgb]{.75,.5,.25}\alpha_{t}}\right)}\sqrt{1-{%
\color[rgb]{.75,.5,.25}\alpha_{t}}/{\color[rgb]{.75,.5,.25}\alpha_{t-1}}},
\displaystyle{\color[rgb]{.75,.5,.25}\bm{\sigma}_{t}}:=\sigma_{t}\bm{I},\quad%
\quad\text{where }\sigma_{t}=\eta\sqrt{\left(1-{\color[rgb]{.75,.5,.25}\alpha_%
{t-1}}\right)/\left(1-{\color[rgb]{.75,.5,.25}\alpha_{t}}\right)}\sqrt{1-{%
\color[rgb]{.75,.5,.25}\alpha_{t}}/{\color[rgb]{.75,.5,.25}\alpha_{t-1}}},
\eta
{\color[rgb]{.75,.5,.25}\bm{\mu}_{T}}(\bm{x}_{t},t)
\eta=0
\bm{\mu}_{T}(\bm{x}_{t},t)
\bm{\sigma}_{t}
\mathrm{d}\bm{x}=\bm{f}(\bm{x},t)\mathrm{d}t+\bm{\sigma}(t)\odot\mathrm{d}\bm{%
w},
\mathrm{d}\bm{x}=[\bm{f}(\bm{x},t)-\bm{\sigma}(t)^{2}\odot\nabla_{\bm{x}}\log p%
_{t}(\bm{x})]\mathrm{d}t+\bm{\sigma}(t)\odot\mathrm{d}\bar{\bm{w}}.
\bm{x}_{t+1}=\bm{x}_{t}+\bm{f}_{t}(\bm{x}_{t})+\bm{\sigma}_{t}\odot\bm{z}_{t},%
\quad t=0,\ldots,T-1,\quad\bm{z}_{t}\sim\mathcal{N}(\bm{0},\bm{I}).
\begin{split}&\bm{x}_{t-1}=\bm{x}_{t}-\bm{f}_{t}(\bm{x}_{t})+\bm{\sigma}_{t}^{%
2}\odot\bm{s}_{\bm{\theta}}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot\bm{\epsilon}_{t%
},\quad t=1,\ldots,T,\quad\bm{\epsilon}_{t}\sim\mathcal{N}(\bm{0},\bm{I}),\end%
{split}
\bm{s}_{\bm{\theta}}
\nabla_{\bm{x}}\log p_{t}(\bm{x})
\bm{\mu}_{T}(\bm{x}_{t},t):=\bm{x}_{t}-\bm{f}_{t}(\bm{x}_{t})+\bm{\sigma}_{t}^%
{2}\odot\bm{s}_{\bm{\theta}}(\bm{x}_{t},t)
\bm{\mu}_{T}(\bm{x}_{t},\bm{z}_{t},t)
\bm{\sigma}_{t}
t
T
\begin{split}&{\color[rgb]{0.27,0.42,0.81}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{z%
}_{T}\oplus\bm{\epsilon}_{T}\oplus\cdots\oplus\bm{z}_{2}\oplus\bm{\epsilon}_{2%
}\oplus\bm{z}_{1}\big{)}}\sim\mathcal{N}(\bm{0},\bm{I}),\\
&\bm{x}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},{\color[rgb%
]{0.27,0.42,0.81}\bm{z}_{T}},T)+\bm{\sigma}_{T}\odot{\color[rgb]{%
0.27,0.42,0.81}\bm{\epsilon}_{T}},\\
&\bm{x}_{t-1}=\bm{\mu}_{T}(\bm{x}_{t},{\color[rgb]{0.27,0.42,0.81}\bm{z}_{t}},%
t)+\bm{\sigma}_{t}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}},\quad T>%
t>1,\\
&{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}=\bm{\mu}_{T}(\bm{x}_{1},{\color[%
rgb]{0.27,0.42,0.81}\bm{z}_{1}},1).\end{split}
\bm{\mu}_{T}(\bm{x}_{t},\bm{z}_{t},t)
\bm{\sigma}_{t}
\bm{\mu}_{T}(\bm{x}_{t},\bm{z}_{t},t)
\bm{\sigma}_{t}
\displaystyle\bm{\mu}_{T}(\bm{x}_{t},\bm{z}_{t},t):=\frac{\sqrt{{\color[rgb]{%
1,0,0}\bar{\alpha}_{t-1}}}{\color[rgb]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}%
\bar{\alpha}_{t}}}G_{\theta}(\bm{x}_{t},\bm{z}_{t},t)+\frac{\sqrt{{\color[rgb]%
{1,0,0}\alpha_{t}}}\left(1-{\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}\right)}{1-{%
\color[rgb]{1,0,0}\bar{\alpha}_{t}}}\bm{x}_{t},
\displaystyle\bm{\mu}_{T}(\bm{x}_{t},\bm{z}_{t},t):=\frac{\sqrt{{\color[rgb]{%
1,0,0}\bar{\alpha}_{t-1}}}{\color[rgb]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}%
\bar{\alpha}_{t}}}G_{\theta}(\bm{x}_{t},\bm{z}_{t},t)+\frac{\sqrt{{\color[rgb]%
{1,0,0}\alpha_{t}}}\left(1-{\color[rgb]{1,0,0}\bar{\alpha}_{t-1}}\right)}{1-{%
\color[rgb]{1,0,0}\bar{\alpha}_{t}}}\bm{x}_{t},
\displaystyle\bm{\sigma}_{t}:=\sqrt{\frac{(1-{\color[rgb]{1,0,0}\bar{\alpha}_{%
t-1}}){\color[rgb]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}%
\bm{I},
\displaystyle\bm{\sigma}_{t}:=\sqrt{\frac{(1-{\color[rgb]{1,0,0}\bar{\alpha}_{%
t-1}}){\color[rgb]{1,0,0}\beta_{t}}}{1-{\color[rgb]{1,0,0}\bar{\alpha}_{t}}}}%
\bm{I},
G_{\theta}(\bm{x}_{t},\bm{z}_{t},t)
G
{\color[rgb]{.75,0,.25}\bm{x}:=\bm{x}_{0}}
\bm{\mu}_{T}(\bm{x}_{t},t)
\bm{\sigma}_{t}
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
\bm{x}_{1},\ldots,\bm{x}_{T-1},{\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}}\sim q(%
\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}={\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}}
t=T,\ldots,1
{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}=\big{(}\bm{x}_{t-1}-\bm{\mu}_{T%
}(\bm{x}_{t},t)\big{)}/\bm{\sigma}_{t}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}={\color[rgb]{0.27,0.42,0.81}\bm{z}}\oplus{%
\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
\bm{x}:=\bm{x}_{0}
\bm{x}_{1:T}
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{1,0,0}q}(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{1,0,0}q}(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}}):=\prod_%
{t=1}^{T}{\color[rgb]{1,0,0}q}(\bm{x}_{t}|\bm{x}_{t-1}),\quad{\color[rgb]{%
1,0,0}q}(\bm{x}_{t}|\bm{x}_{t-1}):=\mathcal{N}\left(\bm{x}_{t};\sqrt{1-{\color%
[rgb]{1,0,0}\beta_{t}}}\bm{x}_{t-1},{\color[rgb]{1,0,0}\beta_{t}}\mathbf{I}%
\right).
{\color[rgb]{.75,.5,.25}q}(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
\displaystyle{\color[rgb]{.75,.5,.25}q}(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}%
\bm{x}_{0}}):={\color[rgb]{.75,.5,.25}q}(\bm{x}_{T}|{\color[rgb]{.75,0,.25}\bm%
{x}_{0}})\prod_{t=2}^{T}{\color[rgb]{.75,.5,.25}q}(\bm{x}_{t-1}|\bm{x}_{t},{%
\color[rgb]{.75,0,.25}\bm{x}_{0}}),
\displaystyle{\color[rgb]{.75,.5,.25}q}(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}%
\bm{x}_{0}}):={\color[rgb]{.75,.5,.25}q}(\bm{x}_{T}|{\color[rgb]{.75,0,.25}\bm%
{x}_{0}})\prod_{t=2}^{T}{\color[rgb]{.75,.5,.25}q}(\bm{x}_{t-1}|\bm{x}_{t},{%
\color[rgb]{.75,0,.25}\bm{x}_{0}}),
\displaystyle{\color[rgb]{.75,.5,.25}q}(\bm{x}_{T}|{\color[rgb]{.75,0,.25}\bm{%
x}_{0}})=\mathcal{N}(\sqrt{{\color[rgb]{.75,.5,.25}\alpha_{T}}}{\color[rgb]{%
.75,0,.25}\bm{x}_{0}},\left(1-{\color[rgb]{.75,.5,.25}\alpha_{T}}\right)\bm{I}),
\displaystyle{\color[rgb]{.75,.5,.25}q}(\bm{x}_{T}|{\color[rgb]{.75,0,.25}\bm{%
x}_{0}})=\mathcal{N}(\sqrt{{\color[rgb]{.75,.5,.25}\alpha_{T}}}{\color[rgb]{%
.75,0,.25}\bm{x}_{0}},\left(1-{\color[rgb]{.75,.5,.25}\alpha_{T}}\right)\bm{I}),
\displaystyle\begin{split}&{\color[rgb]{.75,.5,.25}q}(\bm{x}_{t-1}|\bm{x}_{t},%
{\color[rgb]{.75,0,.25}\bm{x}_{0}})=\mathcal{N}\left(\sqrt{{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}}{\color[rgb]{.75,0,.25}\bm{x}_{0}}+\sqrt{1-{\color[%
rgb]{.75,.5,.25}\alpha_{t-1}}-\sigma_{t}^{2}}\cdot\frac{\bm{x}_{t}-\sqrt{{%
\color[rgb]{.75,.5,.25}\alpha_{t}}}{\color[rgb]{.75,0,.25}\bm{x}_{0}}}{\sqrt{1%
-{\color[rgb]{.75,.5,.25}\alpha_{t}}}},\sigma_{t}^{2}\bm{I}\right),\\
&\quad\quad\quad\quad\text{where }\sigma_{t}=\eta\sqrt{\left(1-{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}\right)/\left(1-{\color[rgb]{.75,.5,.25}\alpha_{t}}%
\right)}\sqrt{1-{\color[rgb]{.75,.5,.25}\alpha_{t}}/{\color[rgb]{.75,.5,.25}%
\alpha_{t-1}}}.\end{split}
\displaystyle\begin{split}&{\color[rgb]{.75,.5,.25}q}(\bm{x}_{t-1}|\bm{x}_{t},%
{\color[rgb]{.75,0,.25}\bm{x}_{0}})=\mathcal{N}\left(\sqrt{{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}}{\color[rgb]{.75,0,.25}\bm{x}_{0}}+\sqrt{1-{\color[%
rgb]{.75,.5,.25}\alpha_{t-1}}-\sigma_{t}^{2}}\cdot\frac{\bm{x}_{t}-\sqrt{{%
\color[rgb]{.75,.5,.25}\alpha_{t}}}{\color[rgb]{.75,0,.25}\bm{x}_{0}}}{\sqrt{1%
-{\color[rgb]{.75,.5,.25}\alpha_{t}}}},\sigma_{t}^{2}\bm{I}\right),\\
&\quad\quad\quad\quad\text{where }\sigma_{t}=\eta\sqrt{\left(1-{\color[rgb]{%
.75,.5,.25}\alpha_{t-1}}\right)/\left(1-{\color[rgb]{.75,.5,.25}\alpha_{t}}%
\right)}\sqrt{1-{\color[rgb]{.75,.5,.25}\alpha_{t}}/{\color[rgb]{.75,.5,.25}%
\alpha_{t-1}}}.\end{split}
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{0.27,0.42,0.81}\bm{z}}
\bm{x}_{1},\ldots,{\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}}
q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}})
{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
\begin{split}&\bm{x}_{1},\ldots,\bm{x}_{T-1},{\color[rgb]{0.27,0.42,0.81}\bm{x%
}_{T}}\sim q(\bm{x}_{1:T}|{\color[rgb]{.75,0,.25}\bm{x}_{0}}),\quad{\color[rgb%
]{0.27,0.42,0.81}\bm{\epsilon}_{t}}=\big{(}\bm{x}_{t-1}-\bm{\mu}_{T}(\bm{x}_{t%
},t)\big{)}/\bm{\sigma}_{t},\quad t=T,\ldots,1,\\
&\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad{\color[rgb]{0.27,0.42,0.81%
}\bm{z}:=\big{(}\bm{x}_{T}\oplus\bm{\epsilon}_{T}\oplus\cdots\oplus\bm{%
\epsilon}_{2}\oplus\bm{\epsilon}_{1}\big{)}}.\end{split}
{\color[rgb]{0.27,0.42,0.81}\bm{z}}\sim\mathrm{DPMEnc}({\color[rgb]{%
0.27,0.42,0.81}\bm{z}}|{\color[rgb]{.75,0,.25}\bm{x}},G)
{\color[rgb]{.75,0,.25}\bm{x}}={\color[rgb]{.75,0,.25}\bar{\bm{x}}}:=G({\color%
[rgb]{0.27,0.42,0.81}\bm{z}})
{\color[rgb]{.75,0,.25}\bar{\bm{x}}}:=G({\color[rgb]{0.27,0.42,0.81}\bm{z}})
\begin{split}&\bar{\bm{x}}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{%
x}_{T}},T)+\bm{\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{T}},%
\\
&\bar{\bm{x}}_{t-1}=\bm{\mu}_{T}(\bar{\bm{x}}_{t},t)+\bm{\sigma}_{t}\odot{%
\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}},\quad T>t>0,\\
&{\color[rgb]{.75,0,.25}\bar{\bm{x}}:=\bar{\bm{x}}_{0}}.\end{split}
\bar{\bm{x}}_{t}=\bm{x}_{t}
T-1\geq t\geq 0
{\color[rgb]{.75,0,.25}\bar{\bm{x}}_{0}}={\color[rgb]{.75,0,.25}\bm{x}_{0}}
\bar{\bm{x}}_{T-1}=\bm{x}_{T-1}
\displaystyle\bar{\bm{x}}_{T-1}=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x%
}_{T}},T)+\bm{\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{T}}
\displaystyle\bar{\bm{x}}_{T-1}
\displaystyle=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T)+\bm{%
\sigma}_{T}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{T}}
\displaystyle=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T)+\bm{%
\sigma}_{T}\odot\big{(}\bm{x}_{T-1}-\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}%
\bm{x}_{T}},T)\big{)}/\bm{\sigma}_{T}=\bm{x}_{T-1}.
\displaystyle=\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}\bm{x}_{T}},T)+\bm{%
\sigma}_{T}\odot\big{(}\bm{x}_{T-1}-\bm{\mu}_{T}({\color[rgb]{0.27,0.42,0.81}%
\bm{x}_{T}},T)\big{)}/\bm{\sigma}_{T}=\bm{x}_{T-1}.
T-1\geq t>0
\bar{\bm{x}}_{t}=\bm{x}_{t}
\displaystyle\bar{\bm{x}}_{t-1}=\bm{\mu}_{T}(\bar{\bm{x}}_{t},t)+\bm{\sigma}_{%
t}\odot{\color[rgb]{0.27,0.42,0.81}\bm{\epsilon}_{t}}
\displaystyle\bar{\bm{x}}_{t-1}
\displaystyle=\bm{\mu}_{T}(\bar{\bm{x}}_{t},t)+\bm{\sigma}_{t}\odot{\color[rgb%
]{0.27,0.42,0.81}\bm{\epsilon}_{t}}
\displaystyle=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot{\color[rgb]{%
0.27,0.42,0.81}\bm{\epsilon}_{t}}
\displaystyle=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot{\color[rgb]{%
0.27,0.42,0.81}\bm{\epsilon}_{t}}
\displaystyle=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot\big{(}\bm{x}_{t-%
1}-\bm{\mu}_{T}(\bm{x}_{t},t)\big{)}/\bm{\sigma}_{t}=\bm{x}_{t-1}.
\displaystyle=\bm{\mu}_{T}(\bm{x}_{t},t)+\bm{\sigma}_{t}\odot\big{(}\bm{x}_{t-%
1}-\bm{\mu}_{T}(\bm{x}_{t},t)\big{)}/\bm{\sigma}_{t}=\bm{x}_{t-1}.
\cdot
\mathcal{S}_{\text{D-CLIP}}
\bm{t}
\hat{\bm{t}}
1
\{1,1.5,2,3,4,5\}
\hat{\bm{t}}
\bm{t}
\eta=0.1
\{1,1.5,2,3,4,5\}
\{15,20,25,30,40,50\}
15
\eta=0.1
1
\{1,1.5,2,3,4,5\}
T_{\text{es}}
\{15,20,25,30,40,50\}
15
{\color[rgb]{.75,0,.25}\bm{x}_{\textrm{{ori}}}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}_{\textrm{{ori}}}}
{\color[rgb]{0.27,0.42,0.81}\bm{z}_{\textrm{{edit}}}}={\color[rgb]{%
0.27,0.42,0.81}\bm{z}_{\textrm{{ori}}}}+{\color[rgb]{0.27,0.42,0.81}\bm{n}}
{\color[rgb]{.75,0,.25}\bm{x}_{\textrm{{edit}}}}=G({\color[rgb]{0.27,0.42,0.81%
}\bm{z}_{\textrm{{edit}}}})
{\color[rgb]{0.27,0.42,0.81}\bm{n}}
a
\mathop{\arg\min}_{\|{\color[rgb]{0.27,0.42,0.81}\bm{n}}\|_{2}=r}\mathbb{E}_{{%
\color[rgb]{0.27,0.42,0.81}\bm{z}_{\textrm{{ori}}}}\sim p_{{\color[rgb]{%
0.27,0.42,0.81}\bm{z}}}({\color[rgb]{0.27,0.42,0.81}\bm{z}_{\textrm{{ori}}}}),%
\ {\color[rgb]{0.27,0.42,0.81}\bm{z}_{\textrm{{edit}}}}={\color[rgb]{%
0.27,0.42,0.81}\bm{z}_{\textrm{{ori}}}}+{\color[rgb]{0.27,0.42,0.81}\bm{n}}}%
\Big{[}-\lambda_{\textrm{{cls}}}\log P\big{(}a|G({\color[rgb]{0.27,0.42,0.81}%
\bm{z}_{\textrm{{edit}}}})\big{)}-\cos\big{\langle}R(G({\color[rgb]{%
0.27,0.42,0.81}\bm{z}_{\textrm{{edit}}}})),R(G({\color[rgb]{0.27,0.42,0.81}\bm%
{z}_{\textrm{{ori}}}}))\big{\rangle}\Big{]},
P(\cdot|{\color[rgb]{.75,0,.25}\bm{x}})
R
\eta=0
\eta=0
\eta=0
\oplus
\oplus
\{\text{CNN},\text{ViT}\}
\eta=0
\oplus
\oplus
\oplus
\oplus
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
{\color[rgb]{1,.5,0}\bm{t}}
\big{\{}
\cdots\big{\}}
\big{\{}
\cdots\big{\}}
\lambda_{\text{CLIP}}
\eta=0
T_{\textit{g}}=10
T_{\textit{g}}=5
T_{\textit{g}}=10
T_{\textit{g}}=3
T_{\textit{g}}=3
{\color[rgb]{0.27,0.42,0.81}\bm{z}_{T}}
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
{\color[rgb]{1,.5,0}\bm{t}}
\lambda_{\text{CLIP}}
\eta=0
T_{\textit{g}}=10
T_{\textit{g}}=5
T_{\textit{g}}=10
T_{\textit{g}}=3
T_{\textit{g}}=3
{\color[rgb]{0.27,0.42,0.81}\bm{z}_{T}}
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
\phi=0.7
