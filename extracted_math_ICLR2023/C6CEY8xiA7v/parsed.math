\mathcal{M}=\langle S,s_{0},A,T,R\rangle
S
s_{0}\in S
A
T:S\times A\times S\rightarrow[0,1]
S
R:(S\times A)^{*}\rightarrow\mathbb{R}
R
AP
L:S\rightarrow 2^{AP}
p\in AP
\mathcal{A}=(2^{AP},\Omega,\omega_{0},F,\delta)
\begin{matrix}\includegraphics[width=227.62204pt]{simple_env.png}\end{matrix}
AP=\{\text{sword},\text{shield}\}
L
L(s_{0})=\{\},L(s_{1})=\{\},L(s_{2})=\{\text{sword}\},L(s_{3})=\{\text{shield}\}
\phi=\textbf{F}(\text{sword})\wedge\textbf{F}(\text{shield})
\Sigma=\{\{\},\{\text{sword}\},\{\text{shield}\},\{\text{sword, shield}\}\}
\Sigma^{*}
AP=\{\text{sword},\text{shield}\}
L
L(s_{0})=\{\},L(s_{1})=\{\},L(s_{2})=\{\text{sword}\},L(s_{3})=\{\text{shield}\}
\phi=\textbf{F}(\text{sword})\wedge\textbf{F}(\text{shield})
\Sigma=\{\{\},\{\text{sword}\},\{\text{shield}\},\{\text{sword, shield}\}\}
\Sigma^{*}
\mathcal{A}=\langle\Sigma,\Omega,\omega_{0},F,\delta\rangle
\Sigma
\Omega
\omega_{0}
F\subseteq\Omega
\delta:\Omega\times\Sigma\rightarrow\Omega
AP
L
\Sigma=2^{AP}
\Sigma
\Omega,\omega_{0},F,\delta
\mathcal{A}
\omega
s^{\prime}
\omega^{\prime}=\delta(\omega,L(s^{\prime}))
\mathcal{M}=\langle S,s_{0},A,T,R\rangle
\mathcal{A}=\langle\Sigma,\Omega,\omega_{0},F,\delta\rangle
\mathcal{M}_{\text{prod}}=\langle S\times\Omega,(s_{0},\omega_{0}),A\times%
\Sigma,T\times\delta,R^{\prime}\rangle
R^{\prime}:\Omega\times\Sigma\rightarrow\mathbb{R}
AP
\phi
\phi
\phi
\phi
\phi
\phi
\phi_{1}
\phi_{2}
\phi_{2}
\phi_{1}
\phi_{1}
\phi_{2}
\phi_{2}
\phi_{1}
((s,\omega),a,r,(s^{\prime},\omega^{\prime}))
ER
\eta_{\text{teacher}}:\Omega\times\Sigma\to\mathbb{N}
\omega
\sigma\in 2^{AP}
ER
\omega
\sigma
\delta(\omega,\sigma)=\omega^{\prime}
\eta_{\text{teacher}}(\omega,\sigma)=|\{((s,\omega),a,r,(s^{\prime},\omega^{%
\prime}))\in ER|L(s^{\prime})=\sigma\}|.
Q^{\text{avg}}_{\text{teacher}}:\Omega\times\Sigma\rightarrow\mathbb{R}
\omega
\sigma\in 2^{AP}
Q^{\text{avg}}_{\text{teacher}}(\omega,\sigma)=\frac{\sum_{\{((s,\omega),a,r,(%
s^{\prime},\omega^{\prime}))\in ER|L(s^{\prime})=\sigma\}}Q_{\text{teacher}}(s%
,a)}{\eta_{\text{teacher}}(\omega,\sigma)}.
Q^{\prime}_{\text{student}}(s,a)=\beta(\omega,L(s^{\prime}))\,Q^{\text{avg}}_{%
\text{teacher}}(\omega,L(s^{\prime}))\\
+\big{(}1-\beta(\omega,L(s^{\prime}))\big{)}Q_{\text{target}}.
\beta:\Omega\times\Sigma\rightarrow[0,1]
Q^{\text{avg}}_{\text{teacher}}(\omega,L(s^{\prime}))
(\omega,L(s^{\prime}))
Q_{\text{target}}
Q_{\text{target}}
Q_{\text{target}}=r+\gamma\max_{a^{\prime}}Q_{\text{student}}(s^{\prime},a^{%
\prime};\theta^{\text{target}}),
Q_{\text{target}}=r+\gamma Q_{\text{student}}\big{(}s^{\prime},\pi_{\phi^{%
\prime}}(s^{\prime});\theta^{\text{target}}\big{)}.
r
\gamma
s^{\prime}
Q_{\text{student}}
\theta^{\text{target}}
\pi_{\phi^{\prime}}(s^{\prime})
s^{\prime}
\beta(\omega,\sigma)=\rho^{\eta_{\text{student}}(\omega,\sigma)}
\rho=0.999
\eta_{\text{student}}(\omega,\sigma)
(\omega,\sigma)
\displaystyle\mathrm{Loss}(\theta)=\mathbb{E}_{((s,\omega),a,r,(s^{\prime},%
\omega^{\prime}))\sim P(ER)}[Q^{\prime}_{\text{student}}(s,a)
\displaystyle\mathrm{Loss}(\theta)=\mathbb{E}_{((s,\omega),a,r,(s^{\prime},%
\omega^{\prime}))\sim P(ER)}[
\displaystyle Q^{\prime}_{\text{student}}(s,a)
\displaystyle-Q(s,a;\theta)]^{2},
\displaystyle-Q(s,a;\theta)]^{2},
Q(s,a;\theta)
P
Q_{\theta_{D}}
Q_{\theta_{1}},Q_{\theta_{2}}
\pi_{\phi}
\theta^{\prime}_{D}\leftarrow\theta_{D}
\theta^{\prime}_{1}\leftarrow\theta_{1}
\theta^{\prime}_{2}\leftarrow\theta_{2}
\phi^{\prime}\leftarrow\phi
ER
\eta
t\leftarrow 1
T
a
\pi_{\phi}
Q_{\theta_{D}}
r
s^{\prime}
\omega^{\prime}=\delta(\omega,L(s^{\prime}))
((s,\omega),a,r,(s^{\prime},\omega^{\prime}))
ER
M
p_{i}
\beta_{i}\leftarrow\rho^{\eta(\omega_{i},L(s^{\prime}_{i})}
Q_{\text{target}}
Q^{\prime}_{i}\leftarrow\beta_{i}Q_{\text{teacher}}(\omega_{i},L(s^{\prime}_{i%
}))+(1-\beta_{i})Q_{\text{target}}
\theta\leftarrow\theta+\frac{\alpha}{M}\sum_{i}p_{i}\nabla_{\theta}(Q^{\prime}%
_{i}-Q((s_{i},\omega_{i}),a_{i};\theta))^{2}
p_{i}=(Q^{\prime}_{i}-Q((s_{i},\omega_{i}),a_{i};\theta))^{2}
i\leftarrow 1
M
\eta(\omega_{i},L(s^{\prime}_{i}))\leftarrow\eta(\omega_{i},L(s^{\prime}_{i}))+1
t=0\mod\tau
\theta_{\text{D}}\leftarrow\theta
\nabla_{\phi}J(\phi)=M^{-1}\sum\nabla_{a}Q_{\theta_{1}}(s,a)\rvert_{a=\pi_{%
\phi}(s)}\nabla_{\phi}\pi_{\phi}(s);
\theta^{\prime}_{i}\leftarrow\tau\theta_{i}+(1-\tau)\theta^{\prime}_{i};
\phi^{\prime}\leftarrow\tau\phi+(1-\tau)\phi^{\prime};
\beta
\beta=0
Q_{t+1}(s_{t},a_{t}){=}(1-\alpha_{t})Q_{t}(s_{t},a_{t})+\alpha_{t}\beta_{t}Q^{%
\text{avg}}_{\text{teacher}}(\omega,L(s_{t+1}))\\
+\alpha_{t}(1-\beta_{t})(R(s_{t},a_{t})+\gamma V_{t}(s_{t+1}))
Q^{*}(s,a)
\alpha_{t}\in[0,1)
\sum_{t}\alpha_{t}=\infty
\sum_{t}\alpha^{2}_{t}<\infty
\beta_{t}\geq 0
\lim\limits_{t\rightarrow\infty}\beta_{t}=0
\sum_{t}\alpha_{t}(1-\beta_{t})=\infty
\operatorname{Var}(R(s,a))
\gamma=1
\gamma\in[0,1)
q
r
\displaystyle q_{t+1}(s_{t},a_{t})=(1-\alpha_{t})q_{t}(s_{t},a_{t})
\displaystyle q_{t+1}(s_{t},a_{t})
\displaystyle=(1-\alpha_{t})q_{t}(s_{t},a_{t})
\displaystyle+\alpha_{t}(1-\beta_{t})(R(s_{t},a_{t})+\gamma V_{t}(s_{t+1}))
\displaystyle+\alpha_{t}(1-\beta_{t})(R(s_{t},a_{t})+\gamma V_{t}(s_{t+1}))
\displaystyle r_{t+1}(s_{t},a_{t})=(1-\alpha_{t})r_{t}(s_{t},a_{t})+\alpha_{t}%
\beta_{t}Q^{\text{avg}}_{\text{teacher}}(\omega,L(s_{t+1}))
\displaystyle r_{t+1}(s_{t},a_{t})
\displaystyle=(1-\alpha_{t})r_{t}(s_{t},a_{t})+\alpha_{t}\beta_{t}Q^{\text{avg%
}}_{\text{teacher}}(\omega,L(s_{t+1}))
Q_{t}(s,a)=q_{t}(s,a)+r_{t}(s,a)
q
q
Q^{*}
r
Q^{\text{avg}}_{\text{teacher}}(\omega,L_{s_{t+1}})
r_{t}
r_{t}(s_{t},a_{t})=\beta_{t}Q^{\text{avg}}_{\text{teacher}}(\omega,L(s_{t+1})).
\lim\limits_{t\rightarrow\infty}\beta=0
r_{t}
t\rightarrow\infty
q
r
Q^{*}
0
Q
Q^{*}
\displaystyle Q(\omega,\sigma)\!\leftarrow\!Q(\omega,\sigma)+\alpha(R(\omega,\sigma)
\displaystyle Q(\omega,\sigma)\!\leftarrow\!Q(\omega,\sigma)
\displaystyle+\alpha(R(\omega,\sigma)
\displaystyle+\gamma\max_{\sigma^{\prime}}Q(\omega^{\prime},\sigma^{\prime})-Q%
(\omega,\sigma))\>.
\displaystyle+\gamma\max_{\sigma^{\prime}}Q(\omega^{\prime},\sigma^{\prime})-Q%
(\omega,\sigma))\>.
Q^{\text{avg}}_{\text{teacher}}
7\times 7
7\times 7
{}_{\text{f}}
\phi=\textbf{F}(\text{b}\vee\text{e})\wedge(\neg\textbf{F}(\text{a})\vee\neg%
\textbf{F}(\text{c}))\wedge(\text{a}\textbf{ R }\neg\text{b})\wedge(\text{c}%
\textbf{ R }\neg\text{d})\wedge(\text{d}\textbf{ R }\neg\text{e})
V(\omega):=\max_{\omega^{\prime}=\delta(\omega,\sigma)}R(\omega,\sigma)+\gamma
V%
(\omega^{\prime}).
\gamma<1
a
c
b
a
c\rightarrow d\rightarrow e
a\rightarrow b
c\rightarrow d\rightarrow e
Q^{\prime}
7\times 7
49
10\times 10
7\text{cm}
7\text{cm}
<0.4\,\text{cm}
7\times 7
AP=\{\text{wood},\text{factory},\text{tools}\geq 3,\text{home}\}
\phi=\textbf{G}(\text{wood}\implies\textbf{F}\text{ factory})\wedge\textbf{F}(%
\text{tools}\geq 3\text{ }\wedge\text{ home})
AP=\{\text{key},\text{shield},\text{sword},\text{dragon}\}
\phi=\textbf{F}(\text{dragon})\wedge(\text{key }\textbf{R }\neg\text{sword})%
\wedge(\text{sword }\textbf{R }\neg\text{dragon})\wedge(\text{shield }\textbf{%
R }\neg\text{dragon})
AP=\{\text{wood},\text{diamond},\text{gold = 1},\text{gold = 2},...,\text{gold%
 = 10},\text{home}\}
\phi=\textbf{F}(\text{home})\wedge(\neg\textbf{F}(\text{gold}=1)\vee\neg%
\textbf{F}(\text{wood}))\wedge(\text{wood}\textbf{ R }\neg\text{diamond})%
\wedge(\text{gold = 1}\textbf{ R }\neg\text{gold = 2})\wedge...\wedge(\text{%
gold = 9}\textbf{ R }\neg\text{gold = 10})\wedge((\text{diamond}\vee\text{gold%
 = 10})\textbf{ R }\neg\text{home})
d=4
20,000
d=2
10\times 10
