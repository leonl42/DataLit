44.7\%
50.1\%
50.5\%
f_{T}
f_{S}
f_{T}
f_{S}
\mathcal{L}_{distill}=Dist(z^{T},z^{S})
z^{T},z^{S}
Dist(\cdot)
x_{i}
f(\cdot)
x_{i}
z_{i}
z_{i}=f(x_{i})
z_{i}^{{}^{\prime}}=f^{{}^{\prime}}(x_{i})
\displaystyle\mathcal{L}^{NCE}=-\mathrm{log}\frac{\mathrm{exp}(z_{i}\cdot z_{i%
}^{{}^{\prime}}/\tau)}{\mathrm{exp}(z_{i}\cdot z_{i}^{{}^{\prime}}/\tau)+\sum%
\limits_{n\in D(i)}\mathrm{exp}(z_{i}\cdot z_{n}/\tau)}
\displaystyle\mathcal{L}^{NCE}
\displaystyle=-\mathrm{log}\frac{\mathrm{exp}(z_{i}\cdot z_{i}^{{}^{\prime}}/%
\tau)}{\mathrm{exp}(z_{i}\cdot z_{i}^{{}^{\prime}}/\tau)+\sum\limits_{n\in D(i%
)}\mathrm{exp}(z_{i}\cdot z_{n}/\tau)}
\displaystyle=\mathrm{log}(1+\sum\limits_{n\in D(i)}\mathrm{exp}(z_{i}\cdot z_%
{n}/\tau)\cdot\mathrm{exp}(-z_{i}\cdot z_{i}^{{}^{\prime}}/\tau))
\displaystyle=\mathrm{log}(1+\sum\limits_{n\in D(i)}\mathrm{exp}(z_{i}\cdot z_%
{n}/\tau)\cdot\mathrm{exp}(-z_{i}\cdot z_{i}^{{}^{\prime}}/\tau))
D(i)
i
\tau
\mathrm{exp}(-z_{i}\cdot z_{i}^{{}^{\prime}}/\tau)
z_{i}
z_{i}^{{}^{\prime}}
z_{i}
z_{i}^{{}^{\prime}}
\sum_{n\in D(i)}\mathrm{exp}(z_{i}\cdot z_{n}/\tau)
z_{i}
z_{n}
\sum_{n\in D(i)}\mathrm{exp}(z_{i}\cdot z_{n}/\tau)\cdot\mathrm{exp}(-z_{i}%
\cdot z_{i}^{{}^{\prime}}/\tau)
D(i)
f_{T}
f_{S}
D_{t}=\{u_{1}^{t},...,u_{L}^{t}\}
D_{s}=\{u_{1}^{s},...,u_{L}^{s}\}
f_{T}
f_{S}
z_{i}
u_{j}
D_{t}
\mathcal{P}=\{p_{1},...,p_{M}\}
k
\mathcal{P}
z_{i}
u_{j}
p_{k}
e
e
Q(e)
Q(e)=\begin{cases}\mathop{\arg\max}\limits_{k}\mathcal{S}(e,p_{k}),&\mathrm{%
max}\{\mathcal{S}(e,p_{k})|p_{k}\in\mathcal{P}\}\geq\theta\\
-1,&\mathrm{otherwise}\end{cases}
\mathcal{S}(e,p)
\theta
Q
P(i)
N(i)
z_{i}
z_{i}
p_{k}
\displaystyle p_{k}\leftarrow(1-m)z_{i}+mp_{k}m=1-(1-\beta)\cdot\mathcal{S}(z_%
{i},p_{k})
\displaystyle p_{k}\leftarrow(1-m)z_{i}+mp_{k}
\displaystyle m=1-(1-\beta)\cdot\mathcal{S}(z_{i},p_{k})
m
m
\beta
\beta
P(i)
N(i)
u_{i}
u_{n}
N(i)
u_{p}
P(i)
u_{n}
N(i)
\mathcal{L}^{RelCon}\!=\!\mathrm{log}(1\!+\!\sum\limits_{n\in N(i)}\mathrm{exp%
}(z_{i}\!\cdot\!u_{n}/\tau)\!\cdot\!\sum\limits_{p\in P(i)}\mathrm{exp}(-z_{i}%
\!\cdot\!u_{p}/\tau))
\displaystyle\mathcal{L}^{RelCon}=\mathrm{log}(1+\sum\limits_{n\in N(i)}%
\mathrm{exp}(s_{n})\cdot\sum\limits_{p\in P(i)}\mathrm{exp}(-s_{p}))
\displaystyle\mathcal{L}^{RelCon}
\displaystyle=\mathrm{log}(1+\sum\limits_{n\in N(i)}\mathrm{exp}(s_{n})\cdot%
\sum\limits_{p\in P(i)}\mathrm{exp}(-s_{p}))
s_{p}=z_{i}\cdot u_{p}/\tau
s_{n}=z_{i}\cdot u_{n}/\tau
N(i),P(i)
\mathcal{L}^{NCE}
\mathcal{L}^{RelCon}
N(i)=TN(i)+FN(i)
P(i)=TP(i)+FP(i)
TN(i),TP(i)
i
FN(i),FP(i)
\begin{aligned} \mathcal{L}^{RelCon}&=\mathrm{log}\left\{1+\frac{\sum\limits_{%
n\in N(i)}\mathrm{exp}(s_{n})}{\sum\limits_{p\in P(i)}\mathrm{exp}(s_{p})}%
\right\}\\
&=\mathrm{log}\left\{1+\frac{\sum\limits_{tn\in TN(i)}\mathrm{exp}(s_{tn})+%
\sum\limits_{fn\in FN(i)}\mathrm{exp}(s_{fn})}{\sum\limits_{tp\in TP(i)}%
\mathrm{exp}(s_{tp})+\sum\limits_{fp\in FP(i)}\mathrm{exp}(s_{fp})}\right\}\\
\end{aligned}
s_{tp}>s_{tn}
s_{fn}>s_{fp}
\begin{aligned} \sum\limits_{tp\in TP(i)}\mathrm{exp}(s_{tp})\cdot\sum\limits_%
{fn\in FN(i)}\mathrm{exp}(s_{fn})>\sum\limits_{tn\in TN(i)}\mathrm{exp}(s_{tn}%
)\cdot\sum\limits_{fp\in FP(i)}\mathrm{exp}(s_{fp})\end{aligned}
\begin{aligned} \mathcal{L}^{RelCon}&=\mathrm{log}\left\{1+\frac{\sum\limits_{%
tn\in TN(i)}\mathrm{exp}(s_{tn})+\sum\limits_{fn\in FN(i)}\mathrm{exp}(s_{fn})%
}{\sum\limits_{tp\in TP(i)}\mathrm{exp}(s_{tp})+\sum\limits_{fp\in FP(i)}%
\mathrm{exp}(s_{fp})}\right\}\\
&>\mathrm{log}\left\{1+\frac{\sum\limits_{tn\in TN(i)}\mathrm{exp}(s_{tn})}{%
\sum\limits_{tp\in TP(i)}\mathrm{exp}(s_{tp})}\right\}\end{aligned}
\mathcal{L}^{RelCon}
N(i),P(i)
TN(i)
TP(i)
N(i)
TP(i)/P(i)
|TP(i)|
k
M
1000
M
7.2\%
25\%
\dagger
\dagger
\dagger
\dagger
\dagger
\dagger
\dagger
\ast
\dagger
\ast
\dagger
\ast
\dagger
2.3\%
7.2\%
2.4\%
\surd
\surd
\surd
200
100\%
+1.8\%
+7.2\%
+118\%
\mathrm{AP}_{50}
\mathrm{AP}
\mathrm{AP}_{75}
\mathrm{AP}_{50}
\mathrm{AP}
\mathrm{AP}_{75}
\mathrm{AP}_{50}
\mathrm{AP}
\mathrm{AP}_{75}
4.4\%
\mathrm{AP}
2.4\%
\beta
0.8
M=1000
\theta
0.8
\beta
\beta
\beta
M
M
M
1000
65536
