1734272
2024649
00014
22
1
2813
3^{4}=81
3^{5}=243
n
\{0,1,\ldots,n-1\}
\{0,1,2\}
n
S_{n}=(s_{0}s_{1}\ldots s_{n-1})
s_{i}\in\{0,1,2\}
i
0\leq i\leq n-1
n
4
81
2201
4
81
2201
\mathcal{M}=\{\mathcal{S},\mathcal{A},\mathcal{T}_{s^{\prime}}^{sa},\gamma,%
\mathbf{r}\},
\mathcal{S}
\mathcal{A}
\mathcal{T}_{s^{\prime}}^{sa}
s\in\mathcal{S}
s^{\prime}\in\mathcal{S}
a\in\mathcal{A}
\gamma\in[0,1)
\mathbf{r}:\mathcal{S}\times\mathcal{A}\rightarrow\mathbb{R}
\mathbf{r}(s_{t},a_{t})
t
s_{t}\in\mathcal{S}
a_{t}\in\mathcal{A}
\pi
\pi(a|s)
a
s
t
G_{t}=\sum_{k=t}^{\infty}\gamma^{k-t}\mathbf{r}(s_{k},a_{k}).
a
s
\pi
Q
Q^{\pi}(s,a)=\mathbb{E}[G_{0}|s_{0}=s,a_{0}=a;\pi],
s_{0}
a_{0}
\pi
V
V^{\pi}(s)=\mathbb{E}[G_{0}|s_{0}=s;\pi],
s_{0}
\pi^{*}
V^{*}(s)=\max_{a}Q^{\pi^{*}}(s,a)=\max_{\pi}\mathbb{E}[G_{0}|s_{0}=s;\pi]
s
\pi^{*}(s)=\operatorname{argmax}_{\pi}V^{\pi}(s)
4
r(s):\mathcal{S}\rightarrow\mathbb{R}
r(s)=\begin{cases}1,\ \text{if $s$ is the target state},\\
0,\ \text{otherwise}.\end{cases}
s
4
81
4
81
n
n-1
4
3
2
n-1
n
4
T_{1}
T_{2}
T_{3}
T_{1}
T_{2}
T_{3}
T_{1}
T_{2}
T_{3}
1110\xrightarrow{}1112
2220\xrightarrow{}2221
n
s
\mathcal{T}_{s^{\prime}}^{sa}
1
s
s^{\prime}
\mathcal{D}=\{\zeta_{1},\ldots,\zeta_{N}\}
N
\zeta_{i}
\zeta_{i}=\{(s_{i,0},a_{i,0}),\ldots,(s_{i,T},a_{i,T})\}
\mathbf{r}
f:\mathcal{S}\rightarrow\mathbb{R}
\zeta
a
s
P(a|s)\propto\exp{(Q_{sa}^{r})}
Q^{r}_{sa}
Q^{r}_{sa}=\mathbf{r}+\gamma\mathcal{T}V^{r}_{s}
V^{r}_{s}
V^{r}_{s}=\log\sum_{a}\exp{(Q_{sa}^{r})}
a
s
\exp{(V^{r}_{s})}
P(a|s)=\exp{(Q_{sa}^{r}-V_{s}^{r})}
\log
r
\log P(\mathcal{D}|\mathbf{r})=\sum_{i}\sum_{t}\log P(a_{i,t}|s_{i,t})=\sum_{i%
}\sum_{t}\left(Q_{s_{i,t}a_{i,t}}^{r}-V_{s_{i,t}}^{r}\right).
\hat{H}(s,a)
|f|
f
1
|f|
2
Q(s,a)
Q_{sa}^{r}
Q^{\prime}(s,a)=Q(s,a)+k\hat{H}(s,a),
k
P(a|s)=\exp{\left({Q_{sa}}^{\prime}-{V_{s}}^{\prime}\right)}
V_{s}^{\prime}=\log{\sum_{a}\exp{(Q_{sa}^{\prime})}}
|f|+1
3
r(s,a)
r(s,a)
r^{\prime}(s,a)=r(s,a)+k\hat{H}(s,a),
k
|f|+1
4
Q(s,a)
Q(s,a)
Q^{\prime}(s,a)=k\hat{H}(s,a),
k
\log
Q(s,a)
P(a|s)
2
Q(s,a)
P(a|s)\propto\exp(Q(s,a)+k\hat{H}(s,a))
2
Q^{\prime}(s,a)=Q(s,a)+k\hat{H}(s,a)
4
5
T_{2}
T_{3}
m_{\text{allowed}}
m_{\text{allowed}}=\lceil 1.5\times m_{\min}\rceil,
m_{\min}
90
4
5
1
4
S=10(m_{\text{allowed}}-m_{\text{used}}+1),
m_{\text{used}}
0
5
2
4
+2
-2
S=10(m_{\text{allowed}}-m_{\text{used}}+1)+2(m_{\text{good}}-m_{\text{bad}}),
m_{\text{good}}\in\mathbb{N}
m_{\text{bad}}\in\mathbb{N}
3
2
S=10(m_{\text{allowed}}-m_{\text{used}}+1)-f_{\text{optional}},
f_{\text{optional}}\in\mathbb{N}
4
4
1110
2220
T_{2}
T_{3}
1110
2220
S=10(m_{\text{allowed}}-m_{\text{used}}+1)+5s_{\text{subgoal}},
s_{\text{subgoal}}\in\{0,1\}
1
0
5
2
4
S=10(m_{\text{allowed}}-m_{\text{used}}+1)+2(m_{\text{good}}-m_{\text{bad}})+5%
s_{\text{subgoal}}.
5
S
m_{\textup{allowed}}
5
1
2
3
4
5
5
\#8421
238
500
98\%
\$6
\$0-\$4
78
18
20
5
25
75
25
75
100\times\left(\frac{m_{\text{allowed}}-m_{\text{used}}+1}{m_{\text{allowed}}-%
m_{\min}+1}\right).
100\%
m_{\text{used}}=m_{\min}
0\%
m_{\text{used}}=m_{\text{allowed}}
m_{\text{used}}
m_{\text{allowed}}+1
100\times\frac{1}{m_{\text{allowed}}-m_{\min}+1}
m_{\text{used}}=m_{\text{allowed}}
m_{\text{allowed}}
m_{\min}
m_{\text{used}}
0\%
100\%
4
2
5
1
3
1
4
1110
2220
1
4
1
5
5
243
4
81
5
4
2
5
33.5\%
36\%
1
2
5
13\%
26\%
1
t
2
5
1
p
2
1
5
1
1.59\times 10^{-12}
1.71\times 10^{-17}
p
3.9\times 10^{-2}
7.17\times 10^{-4}
2
5
1
0.05
p
5\%
58\%
91.5\%
62\%
52.5\%
94\%
28\%
41\%
35\%
22\%
54\%
10
5
20
1
2
5
6
10
1
0
6
10
1
0
1
2
5
T_{1}
T_{2}
T_{3}
T_{2}
T_{3}
8
\log
\mathcal{L}_{1}
\mathcal{L}_{1}
\lambda\in\mathbb{R}_{\geq 0}
\lambda\in\{0,0.1,\ldots,2\}
5
\log
5
6
10
2
3
T_{2}
T_{3}
T_{2}
T_{3}
T_{2}
T_{3}
T_{3}
T_{2}
T_{2}
T_{3}
1
2
5
1
0
1
0
5
1
2
5
8
8
2200,1100,1110,2220,0012,2212,1121,0021
8
8
8
8
8
6
10
1
0
8
6
10
1
0
8
6
10
5
8
8
8
8
8
1
0
8
1
0
8
\text{AIC}=2p-2\log(\hat{L}),\ \ \ \text{BIC}=p\log(o)-2\log(\hat{L}),
p
o
\hat{L}
2
T_{2}
T_{3}
200
41,34,27,31,32,35
\log
\mathcal{L}_{1}
\mathcal{L}_{1}
\lambda\in\{0,0.2,\ldots,1\}
5
\log
1
2
3
4
81
81
8
81
2
Q^{\prime}(s,a)=Q(s,a)+k\hat{H}(s,a)
4
Q^{\prime}(s,a)=k\hat{H}(s,a)
4
81
1
2
3
4
8
8
8
2
2
4
