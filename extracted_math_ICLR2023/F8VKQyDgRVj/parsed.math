\text{hasUncle}\leftarrow\text{hasMother}\wedge\text{hasMother}\wedge\text{hasSon}
\text{hasGrandma}(x,y)\leftarrow\text{hasMother}(x,z)\wedge\text{hasMother}(z,y)
\text{hasUncle}(x,y)\leftarrow\text{hasGrandma}(x,z)\wedge\text{hasSon}(z,y)
\text{hasUncle}(x,y)\leftarrow\text{hasMother}(x,z_{1})\wedge\text{hasMother}(%
z_{1},z_{2})\wedge\text{hasSon}(z_{2},y)
T
\mathcal{G}=\{E,R,O\}
E
R
O
O
(e_{i},r_{k},e_{j})
s(r_{h},\mathbf{r_{b}}):r_{h}(x,y)\leftarrow r_{b_{1}}(x,z_{1})\wedge\dots%
\wedge r_{b_{n}}(z_{n-1},y)
s(r_{h},\mathbf{r_{b}})\in[0,1]
r_{h}(x,y)
r_{b_{1}}(x,z_{1})\wedge\dots\wedge r_{b_{n}}(z_{n-1},y)
(r_{h},\mathbf{r_{b}})
\mathbf{r_{b}}=[r_{b_{1}},\dots,r_{b_{n}}]
s(r_{h},\mathbf{r_{b}})
(r_{h},\mathbf{r_{b}})
k
[r_{1},r_{3},r_{4},r_{5},r_{3}]
r_{6}
\bm{\theta}
[r_{1},r_{3},r_{4},r_{5},r_{3}]
r_{6}
\bm{\theta}
\{2,3\}
s
s
\mathbf{r_{b}}=[r_{b_{1}},\dots,r_{b_{n}}]
i
2
w_{i}=[r_{b_{i}},r_{b_{i+1}}]
[\mathbf{h}_{i},\mathbf{h}_{i+1}]=\text{RNN}(w_{i})
\mathbf{h}_{i}\in\mathbb{R}^{d}
r_{b_{i}}
w_{i}
\mathbf{h}_{i+1}
\mathbf{w}_{i}=\mathbf{h}_{i+1}
\mathbf{w}_{i}
i
\bm{\mu}=\text{softmax}([f(\mathbf{w}_{1}),f(\mathbf{w}_{2}),\dots,f(\mathbf{w%
}_{n+1-s})])
f
i
\mathbf{w}_{i}
w_{i}
\bm{\mu}_{i}
\mathbf{w}_{i}
[\text{hasBrother},\text{hasWife}]
r_{0}
\mathbf{r_{0}}
\mathbf{w}_{i}
H\in\mathbb{R}^{(|R|+1)\times d}
H_{0}=\mathbf{w}_{i}\in\mathbb{R}^{d}
\mathbf{w}_{i}
H
\bm{\theta}
\bm{\theta}
\mathbf{w}_{i}
\displaystyle\bm{\theta}=\text{softmax}(\frac{\mathbf{w}_{i}W_{Q}(HW_{K})^{T}}%
{\sqrt{d}})
\displaystyle\bm{\theta}=\text{softmax}(\frac{\mathbf{w}_{i}W_{Q}(HW_{K})^{T}}%
{\sqrt{d}})
W_{Q},W_{K}\in\mathbb{R}^{d\times d}
\bm{\theta}\in\mathbb{R}^{|R|+1}
\bm{\theta}_{j}
p(r_{j}|w_{i})
r_{j}
\bm{\theta}
\widehat{\mathbf{w}_{i}}=\bm{\theta}HW_{V}
\widehat{\mathbf{w}_{i}}\in\mathbb{R}^{d}
W_{V}=W_{K}
[r_{b_{1}},r_{b_{2}}\dots,r_{b_{n}}]
(r_{b_{i}},r_{b_{i+1}})
\bm{\theta}
x_{0}
n
x_{i}
i
p(x_{i}=e_{i}|x_{i-1}=e_{j})=\left\{\begin{array}[]{ll}\frac{1}{|\mathcal{N}(e%
_{j})|},&\text{if}\;(e_{i},e_{j})\in E\\
0,&\text{otherwise}\end{array}\right.
|\mathcal{N}(e_{j})|
e_{j}
x_{i}
x_{0}
x_{i}
x_{0}
x_{n}
p
p=[r_{b_{1}},\dots,r_{b_{n}}]
x_{0}\xrightarrow{r_{1}}\dots\xrightarrow{r_{n}}x_{n}
x_{0}
x_{n}
r_{h}
x_{0}
x_{n}
r_{h}
O
\mathcal{P}
O
(p,r_{h})\in\mathcal{P}
\text{len}(p)>s
p
s
[w_{1},\dots,w_{n+1-s}]
p
[\mathbf{w}_{1},\dots,\mathbf{w}_{n+1-s}]
[w_{1},\dots,w_{n+1-s}]
\mathbf{w}_{i}
[\mathbf{w}_{1},\dots,\mathbf{w}_{n+1-s}]
\widehat{\mathbf{w}_{i}}=\text{Attn}(\mathbf{w}_{i})
p
p=[\mathbf{r_{b_{1}}},\dots,\mathbf{w}_{i},\dots,\mathbf{r_{b_{n}}}]
\mathbf{w}
p
\mathbf{w}
\bm{\theta}
r_{h}
p
\bm{\theta}
p
-\sum_{(p,r_{h})\in\mathcal{P}}\sum_{k=0}^{|R|}\mathbf{y}^{r_{h}}_{k}\log\bm{%
\theta}^{p}_{k}
\mathcal{P}
\mathbf{y}^{r_{h}}\in\{0,1\}^{|R|+1}
r_{h}
\bm{\theta}^{p}\in\mathbb{R}^{|R|+1}
p
\bm{\theta}^{p}_{0}
s(r_{h},\mathbf{r_{b}})
(r_{h},\mathbf{r_{b}})
(r_{h},\mathbf{r_{b}})
\mathbf{r_{b}}
r_{h}
\mathbf{r_{b}}
\bm{\theta}=[\bm{\theta}_{0},\dots,\bm{\theta}_{|R|}]
\bm{\theta}_{k}
(r_{k},\mathbf{r_{b}})
k
(h,r,?)
(?,r,t)
(h,?,t)
{\dagger}
{\dagger}
a
a
\{0.33,0.66,1\}
a
k
k
\{10,20,40,60,80,100\}
10
\{10,100,200,500,1000,2000\}
d=1000
100
\{2,3,4\}
\{5,\dots,10\}
\{2,3,4\}
\{5,\dots,10\}
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\text{CTP}_{L}
\pm
\pm
\pm
\pm
\pm
\pm
\text{CTP}_{A}
\pm
\pm
\pm
\pm
\pm
\pm
\text{CTP}_{M}
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
1.0\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
0.95\pm
(x,y)
\leftarrow
(x,z)
\wedge
(z,y)
(x,y)
\leftarrow
(x,z_{1})
\wedge
(z_{1},z_{2})
\wedge
(z_{2},y)
(x,y)
\leftarrow
(x,z)
\wedge
(z,y)
(x,y)
\leftarrow
(x,z_{1})
\wedge
(z_{1},z_{2})
\wedge
(z_{2},y)
(x,y)
\leftarrow
(x,z)
\wedge
(z,y)
(x,y)
\leftarrow
(x,z_{1})
\wedge
(z_{1},z_{2})
\wedge
(z_{2},y)
(x,y)
\leftarrow
(x,z)
\wedge
(z,y)
(x,y)
\leftarrow
(x,z_{1})
\wedge
(z_{1},z_{2})
\wedge
(z_{2},y)
\text{hasAunt}(x,z)\wedge\text{hasSister}(z,y)
\text{hasMother}(x,y)
\text{hasAunt}(x,y)
p=[r_{1},r_{3},r_{4},r_{5},r_{3}]
r_{6}
p
2
w_{2}=[r_{3},r_{4}]
w_{2}
\widehat{(r_{3},r_{4})}
[\mathbf{r_{3}},\mathbf{r_{4}}]
\widehat{(r_{3},r_{4})}
p
[r_{1},r_{3},r_{4},r_{5},r_{3}]
[r_{1},\widehat{(r_{3},r_{4})},r_{5},r_{3}]
p
[r_{1},\widehat{((r_{3},r_{4}),r_{5})},r_{3}]
[r_{1},\widehat{(((r_{3},r_{4}),r_{5}),r_{3})}]
\theta
\theta
\theta
[0,0,0,0,0,1]
r_{6}
k\in\{128,256,512,1024,2048\}
b\in\{500,1,000,5,000,8,000\}
lr\in\{0.00001,0.000025,0.00005,0.0001,0.0005\}
i\in\{1,000,2,000,5,000,10,000\}
\theta
\{288,1003,1617,3450,38816,411750\}
\{2,3\}
\mathbf{w_{i}}\in\mathcal{R}^{d}
|E|
|R|
|O|
l
a
d
d\ll|E|^{2}
\mathcal{O}(|R||E|^{2}+3|O|)
\mathcal{O}(|R|^{l}|E|^{3(l-1)})
\mathcal{O}(|R|d+al)
\mathcal{O}(2ad^{2})
