N
\mathcal{G}_{1},\mathcal{G}_{2},...,\mathcal{G}_{N}
\mathcal{G}_{k}=(\mathbb{V}_{k},\mathbb{E}_{k})
k
\mathbb{V}_{k}
\mathbb{E}_{k}
\mathbb{E}
v_{k,i}
i
\mathcal{G}_{k}
h_{v_{k,i}}\in\mathbb{R}^{d}
h_{v_{k,i}}^{j}
j
h_{v_{k,i}}
\mathbb{N}(v_{k,i})
v_{k,i}
v_{k,i}
v_{k,i}
h_{v_{k,i}}
d
h_{v_{k,i}}
\displaystyle\hat{h}_{v_{k,i}}^{(n)}=\frac{h_{v_{k,i}}-\mu^{(n)}_{k,i}\bm{1}}{%
\sigma_{k,i}^{(n)}}
\displaystyle\hat{h}_{v_{k,i}}^{(n)}=\frac{h_{v_{k,i}}-\mu^{(n)}_{k,i}\bm{1}}{%
\sigma_{k,i}^{(n)}}
\displaystyle\mu^{(n)}_{k,i}=\frac{1}{d}\sum_{j=1}^{d}h_{v_{k,i}}^{j},\quad%
\sigma_{k,i}^{(n)}=\sqrt{\frac{1}{d}\sum_{j=1}^{d}(h_{v_{k,i}}^{j}-\mu^{(n)}_{%
k,i})^{2}},
\displaystyle\mu^{(n)}_{k,i}=\frac{1}{d}\sum_{j=1}^{d}h_{v_{k,i}}^{j},\quad%
\sigma_{k,i}^{(n)}=\sqrt{\frac{1}{d}\sum_{j=1}^{d}(h_{v_{k,i}}^{j}-\mu^{(n)}_{%
k,i})^{2}},
\mu^{(n)}_{k,i}
\sigma_{k,i}^{(n)}
v_{k,i}
\bm{1}\in\mathcal{R}^{d}
d
1
v_{k,i}
\mathcal{G}_{k}
\mathbb{N}(v_{k,i})
|\mathbb{N}(v_{k,i})|
v_{k,i}
\mathbb{N}(v_{k,i})
\mathbb{N}(v_{k,i})
v_{k,i}
\footnotesize\begin{split}&\hat{h}_{v_{k,i}}^{(a)}=\frac{h_{v_{k,i}}-\mu^{(a)}%
_{k,i}\mathbf{1}}{\sigma_{k,i}^{(a)}}\\
&\mu^{(a)}_{k,i}=\frac{1}{|\mathbb{N}(v_{k,i})|\times d}\sum_{j^{\prime}\in%
\mathbb{N}(v_{k,i})}\sum_{j=1}^{d}h_{v_{k,j^{\prime}}}^{j},\\
&\sigma_{k,i}^{(a)}=\sqrt{\frac{1}{|\mathbb{N}(v_{k,i})|\times d}\sum_{j^{%
\prime}\in\mathbb{N}(v_{k,i})}\sum_{j=1}^{d}(h_{v_{k,j^{\prime}}}^{j}-\mu^{(a)%
}_{k,i})^{2}},\end{split}
\mu_{k,i}^{(a)}
\sigma_{k,i}^{(a)}
e_{k,i}
\mathbb{N}(e_{k,i})
\mathcal{G}_{k}
\mathcal{G}_{k}
v_{k,i}
\footnotesize\begin{split}&\hat{h}_{v_{k,i}}^{(g)}=\frac{h_{v_{k,i}}-\mu^{(g)}%
_{k}}{\sigma_{k}^{(g)}}\\
&\mu^{(g)}_{k}=\mathop{\mathbb{E}}_{v\sim\mathcal{G}_{k}}{h_{v}}=\frac{1}{|%
\mathcal{G}_{k}|}\sum_{v_{k,i}\in\mathcal{G}_{k}}h_{v_{k,i}},\quad\\
&\sigma_{k}^{(g)}=\sqrt{\mathop{\mathbb{E}}_{v\sim\mathcal{G}_{k}}{(h_{v}}-\mu%
^{(g)}_{k})^{2}}=\sqrt{\frac{1}{|\mathcal{G}_{k}|}\sum_{v_{k,i}\in\mathcal{G}_%
{k}}(h_{v_{k,i}}-\mu^{(g)}_{k})^{2}},\\
\end{split}
\mu^{(g)}_{k}
\sigma_{k}^{(g)}
\mathcal{G}_{k}
\mathbb{E}_{k}
\mathcal{G}_{k}
\mathcal{G}_{k}
N
h_{v_{k,i}}
\footnotesize\begin{split}&\hat{h}_{v_{k,i}}^{(b)}=\frac{h_{v_{k,i}}-\mu^{(b)}%
}{\sigma^{(b)}}\\
&\mu^{(b)}=\operatorname{mean}\{h_{v_{k,i}}|\{\{v_{k,i}\}_{i=1}^{\mathcal{G}_{%
k}}\}_{k=1}^{N}\}=\frac{1}{\mathrm{n}}\sum_{k=1}^{N}\sum_{i=1}^{|\mathcal{G}_{%
k}|}h_{v_{k,i}},\\
&\sigma^{(b)}=\operatorname{std}\{h_{v_{k,i}}|\{\{v_{k,i}\}_{i=1}^{\mathcal{G}%
_{k}}\}_{k=1}^{N}\}=\sqrt{\frac{1}{\mathrm{n}}\sum_{k=1}^{N}\sum_{i=1}^{|%
\mathcal{G}_{k}|}(h_{v_{k,i}}-\mu^{(b)})^{2}},\end{split}
\mathrm{n}
N
N
\scriptsize\begin{split}\hat{h}_{v_{k,i}}=\gamma(\lambda_{n}\odot\hat{h}_{v_{k%
,i}}^{(n)}+\lambda_{a}\odot\hat{h}_{v_{k,i}}^{(a)}+\lambda_{g}\odot\hat{h}_{v_%
{k,i}}^{(g)}+\lambda_{b}\odot\hat{h}_{v_{k,i}}^{(b)})+\beta,\end{split}
\lambda_{n},\lambda_{a},\lambda_{g},\lambda_{b}\in\mathbb{R}^{d}
h_{v_{k,i}}
\gamma
\beta
\lambda_{n},\lambda_{a},\lambda_{g},\lambda_{b}
\hat{h}_{v_{k,i}}
\lambda_{n},\lambda_{a},\lambda_{g},\lambda_{b}
[0,1]
\left\{\begin{aligned} &\lambda_{u}^{j}=\operatorname{clip}_{[0,+\infty)}(%
\lambda_{u}^{j})\quad j\in\{1,2,...,d\}\quad and\quad u\in\{n,a,g,b\}\\
&\lambda_{u}^{j}=\frac{\lambda_{u}^{j}}{\sum_{k\in\{n,a,g,b\}}\lambda_{k}^{j}}%
,\quad j\in\{1,2,...,d\}\quad and\quad u\in\{n,a,g,b\}\\
\end{aligned}\right.
\{\lambda_{u}\}_{u\in\{n,a,g,b\}}
\sum_{u\in\{n,a,g,b\}}{\lambda_{u}^{j}}=1,j\in\{1,2,...,d\}
\lambda_{n},\lambda_{a},\lambda_{g},\lambda_{b}
v\in V
626
347
9\%
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
81.7\pm
79.2\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
v_{i}
v_{j}
v_{i}
v_{j}
e_{i,j}
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\pm
\{\lambda_{u}\}_{u\in{n,a,g,b}}
\{\lambda_{u}\}_{u\in{n,a,g,b}}
\{\lambda_{u}\}_{u\in{n,a,g,b}}
\lambda_{u}\in\mathbb{R}^{d}
d
\lambda_{u}
-
-
-
-
-
-
-
-
-
-
-
-
-
-
v
v
\mathcal{N}(v)
v
\mathcal{N}(v)
\ell
h_{v}^{\ell+1}=\psi^{\ell+1}(\mathcal{C}\{h_{v}^{\ell},\mathcal{M}\{\phi^{\ell%
+1}(h_{u}^{\ell})|u\in\mathcal{N}(v)\}\})
h_{u}^{\ell}
\ell
u\in\mathcal{N}(v)
\psi
\phi
\mathcal{M}
\mathcal{N}(v)
\mathcal{C}
v
h_{v}^{0}=x_{v}
v
u
v
h_{v}^{\ell+1}=\operatorname{ReLU}(\frac{1}{deg_{v}}\sum_{u\in\mathcal{N}(v)}{%
W^{\ell}h_{u}^{\ell}}),
W\in\mathcal{R}^{d\times d}
deg_{v}
v
v
h_{v}^{\ell+1}=\sigma(\sum_{u\in\mathcal{N}(v)}{e_{u,v}^{\ell}W^{\ell}h_{u}^{%
\ell}}),
e_{u,v}^{\ell}
u
v
e_{u,v}^{\ell}=\frac{exp(g(\alpha^{T}[W^{\ell}h_{u}^{\ell}||W^{\ell}h_{v}^{%
\ell}]))}{\sum_{k\in\mathcal{N}(v)}exp(g(\alpha^{T}[W^{\ell}h_{k}^{\ell}||W^{%
\ell}h_{v}^{\ell}]))},
g(\cdot)
\operatorname{LeaklyReLU}
\alpha
||
v
h_{v}^{\ell+1}=h_{v}^{\ell}+\operatorname{ReLU}(\operatorname{BN}(W^{\ell}h_{v%
}^{\ell}+\sum_{u\in\mathcal{N}(v)}{e_{vu}^{\ell}\odot U^{\ell}h_{u}^{\ell}})),
W^{\ell},U^{\ell}\in\mathcal{R}^{d\times d}
\odot
e_{vu}^{\ell}
\begin{split}&e_{v,u}^{\ell}=\frac{\sigma(\hat{e}_{v,u}^{\ell})}{\sum_{u^{%
\prime}\in\mathcal{N}(v)}{\sigma(\hat{e}_{v,u^{\prime}}^{\ell})}+\varepsilon},%
\\
&\hat{e}_{v,u}^{\ell}=\hat{e}_{v,u}^{\ell-1}+\operatorname{ReLU}(\operatorname%
{BN}(A^{\ell}h_{v}^{\ell-1}+B^{\ell}h_{u}^{\ell-1}+C^{\ell}\hat{e}_{v,u}^{\ell%
-1})),\end{split}
\sigma
\varepsilon
A^{\ell},B^{\ell},C^{\ell}\in R^{d\times d}
\hat{e}_{v,u}
H=[h_{1},h_{2},...,h_{B}]^{T}\in\mathcal{R}^{B\times d}
B
h_{i}
\mu^{(B)}\in\mathcal{R}^{d}
\sigma^{(B)}\in\mathcal{R}^{d}
H
\mu^{(B)}
\sigma^{(B)}
\begin{split}\hat{H}&=\gamma\frac{H-\mu^{(B)}}{\sigma^{(B)}}+\beta,\\
\mu^{(B)}&=\frac{1}{B}\sum_{i=1}^{B}h_{i},\quad\sigma^{(B)}=\sqrt{\frac{1}{B}%
\sum_{i=1}^{B}(h_{i}-\mu^{(B)})^{2}},\\
\mu&=\alpha\mu+(1-\alpha)*\mu^{(B)},\quad\sigma^{2}=\alpha\sigma^{2}+(1-\alpha%
)(\sigma_{B})^{2}\\
\end{split}
\gamma
\beta
\mu
\sigma
h_{i}
\mu^{(L)}_{i}
\sigma^{(L)}_{i}
\begin{split}\hat{h}_{i}&=\gamma\odot\frac{h_{i}-\mu^{(L)}_{i}}{\sigma^{(L)}_{%
i}}+\beta,\\
\mu^{(L)}_{i}&=\frac{1}{d}\sum_{j=1}^{d}h_{i_{j}},\quad\sigma^{(L)}_{i}=\sqrt{%
\frac{1}{d}\sum_{j=1}^{d}(h_{i_{j}}-\mu^{(L)}_{i})^{2}},\end{split}
\hat{h_{i}}=[\hat{h}_{i_{1}},\hat{h}_{i_{2}},...,\hat{h}_{i_{d}}]
\gamma
\beta
d
7
7
v_{i}
v_{j}
\theta
v_{i}
v_{j}
e_{i,j}
v_{i}
v_{j}
e_{ij}
