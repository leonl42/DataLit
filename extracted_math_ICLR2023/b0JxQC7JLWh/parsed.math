\ell_{2}
\mathcal{X}
x\in\mathcal{X}
H
W
C
\mathcal{Y}
s\in\mathcal{Y}^{H\times W}
x
x_{i,j}
s_{i,j}
x_{i,j}
\mathbb{S}
f:\mathcal{X}\rightarrow\mathbb{S}
x\in[0,1]^{H\times W\times C}
s
x
H^{\prime}\times W^{\prime}
l\in\{0,\ 1\}^{H\times W}
\mathcal{L}
x
p\in[0,1]^{H\times W\times C}
A
A(x,\ p,\ l)=(1-l)\odot x+l\odot p
\odot
A
H^{\prime}\times W^{\prime}
p
l
x
\mathcal{P}:=[0,\ 1]^{H\times W\times C}\times\mathcal{L}
(p,l)
H^{\prime}\times W^{\prime}
s\in\mathbb{S}
x
Q(f(x),s)
(p^{\star},\ l^{\star})
(p^{\star},\ l^{\star})=\operatorname*{arg\,min}\limits_{(p,\ l)\in\mathcal{P}%
}\ Q(f(A(x,p,l)),s)
\mathcal{P}
(p^{\star},\ l^{\star})
x_{i,j}
\forall\ (p,\ l)\in\mathcal{P}:\ f(A(x,\ p,\ l))_{i,j}=f(x)_{i,j}
v
\mathcal{X}
v(x)\in\{0,1\}^{H\times W}
v(x)_{i,j}=1
x_{i,j}
v
x^{\prime}=A(x,p,l)
v(x)_{i,j}=1\Rightarrow\Big{[}\forall\ (p,\ l)\in\mathcal{P}:v(A(x,p,l))_{i,j}%
=1\rightarrow f(A(x,\ p,\ l))_{i,j}=f(x)_{i,j}\Big{]}
v(x^{\prime})_{i,j}=0
x^{\prime}_{i,j}
x^{\prime}
x_{i,j}
\mathcal{P}
g
f
T=2
T=2
T=3
T=3
T=4
T=4
T=2
T=3
T=4
K=5,7,9
l
(p,\ l)
T
T=2
T=3
T=4
K=5,7,9
l
(p,\ l)
T
x\in[0,1]^{H\times W\times C}
*
\forall z\in\mathbb{R}:\ z\times*=*
*
m\in\{*,1\}^{H\times W}
x\odot m
x
*
\mathcal{P}
H^{\prime}\times W^{\prime}
m
B
H^{\prime}\times W^{\prime}
B[q,\ r]
1\leq q\leq\lceil\frac{H}{H^{\prime}}\rceil
1\leq r\leq\lceil\frac{W}{W^{\prime}}\rceil
B[q,\ r]
m
\forall(i,\ j)\in B[q,\ r]:\ m_{i,j}=1
M
K
M[k]
m
(p,l)
A(x,\ p,\ l)\odot m\neq x\odot m
T(M)=\max_{(p,l)\in\mathcal{P}}|\{m\in M\ |A(x,\ p,\ l)\odot m\neq x\odot m\}|
T(M)
M
T(M)
T
M
T=2
k
M[k]
(p,l)\in\mathcal{P}
(p,l)
B
(p,l)
T=3
T=4
M_{d}
d
M_{d}
\forall\ (p,l)\in\mathcal{P}\ \exists\ m\in M_{d}:A(x,\ p,\ l)\odot m=x\odot m
H^{\prime}\times W^{\prime}
K=W-W^{\prime}+1
M_{d}[k]
W^{\prime}
k
\mathcal{P}
K
W^{\prime\prime}\geq W^{\prime}
W^{\prime\prime}-W^{\prime}+1
H^{\prime}\times W^{\prime}
g
g(x\odot m)\in[0,1]^{H\times W\times C}
g
g(x\odot m)
x
f
S(M,x,g,f)
S[k]:=f(g(x\odot M[k]))
1\leq k\leq K
\mathcal{P}
M
K
h:\mathcal{X}\rightarrow\mathbb{S}
x_{i,j}
S
K
K\geq 2T(M)+1
x_{i,j}
\forall\ S[k]\in S:\ S[k]_{i,j}=h(x)_{i,j}
\forall\ (p,\ l)\in\mathcal{P}:\ h(A(x,p,l))_{i,j}=h(x)_{i,j}
M_{d}=\{M_{d}[k]\}_{k=1}^{K}
v(x)_{i,j}:=[f(x)_{i,j}=S[1]_{i,j}=\ldots=S[K]_{i,j}]
v(x)_{i,j}=1
\forall\ (p,\ l)\in\mathcal{P}:v(A(x,p,l))_{i,j}=1\Rightarrow f(A(x,\ p,\ l))_%
{i,j}=f(x)_{i,j}
x
v(x)
f(x)
v
x\in[0,1]^{H\times W\times C}
H^{\prime},W^{\prime}
\mathrm{CT}
\mathrm{MT}
g
f
h\in\mathcal{Y}^{H\times W}
v\in\{0,\ 1\}^{H\times W}
M\leftarrow\mathrm{CreateMaskArray}(H,W,H^{\prime},W^{\prime},\mathrm{CT},%
\mathrm{MT})
k\leftarrow 1,\dots,|M|
S[k]\leftarrow f(g(x\odot M[k]))
\textrm{CT}=\text{'recovery'}
h\leftarrow\textrm{MajorityVote}(S)
\quad h\leftarrow f(x)
v\leftarrow\textrm{AllEqual}(S,h)
S[k]
h
h
v
\times
f
y\in\mathcal{Y}
y
x
cTP_{y}(x)
TP_{y}(x)
y
v
R_{y}(x)=\frac{TP_{y}(x)}{TP_{y}(x)+FN_{y}(x)}
FN_{y}(x)
y
x
P_{y}(x)=TP_{y}(x)+FN_{y}(x)
y
cR_{y}(x)=\frac{cTP_{y}(x)}{P_{y}(x)}
R_{y}(x)
y
D
TR_{y}(D)=\frac{\sum_{x\in D}TP_{y}(x)}{\sum_{x\in D}P_{y}(x)}
cTR_{y}(D)=\frac{\sum_{x\in D}cTP_{y}(x)}{\sum_{x\in D}P_{y}(x)}
mR(D)=\frac{1}{|\mathcal{Y}|}\sum_{y\in\mathcal{Y}}TR_{y}(D)
cmR(D)=\frac{1}{|\mathcal{Y}|}\sum_{y\in\mathcal{Y}}cTR_{y}(D)
FP
FP
\downarrow
\downarrow
H\times W
H^{\prime}\times W^{\prime}
M^{d}
K
H\times W^{\prime\prime}
W^{\prime\prime}\geq W^{\prime}
W^{\prime\prime}-W^{\prime}+1
l\in\mathcal{L}
1
W^{\prime\prime}
1+(W^{\prime\prime}-W^{\prime}+1)=W^{\prime\prime}-W^{\prime}+2\ 
\ (W^{\prime\prime}-W^{\prime}+2)+(W^{\prime\prime}-1)=2W^{\prime\prime}-W^{%
\prime}+1
H^{\prime}\times W^{\prime}
W^{\prime\prime}+1
(W^{\prime\prime}+1)-W^{\prime}+1=W^{\prime\prime}-W^{\prime}+2
W^{\prime\prime}\geq W^{\prime}
W^{\prime\prime}+1
W^{\prime\prime}+1
\mathcal{P}
M
K
h:\mathcal{X}\rightarrow\mathbb{S}
x_{i,j}
S
K
K\geq 2T(M)+1
x_{i,j}
\forall\ S[k]\in S:\ S[k]_{i,j}=h(x)_{i,j}
\forall\ (p,\ l)\in\mathcal{P}:\ h(A(x,p,l))_{i,j}=h(x)_{i,j}
\exists\ (p,\ l)\in\mathcal{P}:\ h(A(x,p,l))_{i,j}\neq h(x)_{i,j}
x^{\prime}:=A(x,p,l)
S^{\prime}
x^{\prime}
h(x)_{i,j}
x_{i,j}
C
h(A(x,p,l))_{i,j}\neq C
C
S^{\prime}
T(M)
(p,\ l)
T(M)
K
K
S
C
K-T(M)
C
S^{\prime}
K\geq 2T(M)+1
K-T(M)\geq T(M)+1
C
x_{i,j}
S^{\prime}
h(x^{\prime})_{i,j}=C=h(x)_{i,j}
K=5
T=2
K=5
T=2
M_{d}=\{M_{d}[k]\}_{k=1}^{K}
v(x)_{i,j}:=[f(x)_{i,j}=S[1]_{i,j}=\ldots=S[K]_{i,j}]
v(x)_{i,j}=1
\forall\ (p,\ l)\in\mathcal{P}:v(A(x,p,l))_{i,j}=1\Rightarrow f(A(x,\ p,\ l))_%
{i,j}=f(x)_{i,j}
\exists\ (p,\ l)\in\mathcal{P}:\ v(A(x,p,l))_{i,j}=1\land f(A(x,\ p,\ l))_{i,j%
}\neq f(x)_{i,j}
x^{\prime}:=A(x,p,l)
S^{\prime}
x^{\prime}
M_{d}
\exists\ M_{d}[k]\in M_{d}
M_{d}[k]
(p,\ l)
g(x\odot M_{d}[k])=g(x^{\prime}\odot M_{d}[k]),
S[k]=f(g(x\odot M_{d}[k]))=f(g(x^{\prime}\odot M_{d}[k]))=S^{\prime}[k],
v(x)_{i,j}=1
f(x)_{i,j}=S[k]_{i,j}
v(x^{\prime})_{i,j}=1
f(x^{\prime})_{i,j}=S^{\prime}[k]_{i,j}
f(x^{\prime})_{i,j}=f(x)_{i,j}
M
T
x
B
H^{\prime}\times W^{\prime}
1\leq q\leq\lceil H/H^{\prime}\rceil
1\leq r\leq\lceil W/W^{\prime}\rceil
M
K
\mu_{M}:\ B\rightarrow\{1,\ldots,K\}
\mu(B[q,\ r])=k
B[q,\ r]
M[k]
M[k]
B_{k}\subset B
b\in B_{k}
\mu(b)=k
M
T(M)=3
\mu(B[1,\ 1])=1
\mu(B[1,\ 2])=\mu(B[1,\ 3])=2
\mu(B[1,\ 4])=\mu(B[1,\ 5])=3
k
\mu(B[2,\ 1])=\mu(B[2,\ 2])=k+1
\mu(B[2,\ 3])=\mu(B[2,\ 4])=k+2
\ldots
n
\mu(B[3,\ 1])=n+1
\mu(B[3,\ 2])=\mu(B[3,\ 3])=n+2
\ldots
K
M
T(M)=4
1/K
T=2
T=2
T=3
T=3
T=4
T=4
T=2
T=3
T=4
K=5,7,9
l
T
T=2
T=3
T=4
K=5,7,9
l
T
x^{\prime}
x
x^{\prime}
x^{\prime}=x
x^{\prime}\in A(x)
A(x):=\{A(x,p,l)\ |\ (p,l)\in\mathcal{P}\}
x
h
x_{i,j}
h(x^{\prime})_{i,j}=h(x)_{i,j}
\forall\ (p,\ l)\in\mathcal{P}\ :\ h(A(x^{\prime},p,l))_{i,j}=h(x^{\prime})_{i%
,j}
x^{\prime}\in A(x)
x\in A(x^{\prime})
x^{\prime}
x
x
x^{\prime}
A(x^{\prime})
x
v
x
x^{\prime}
x
(i,j)
\mathbb{E}_{X\sim D}[\mathop{\rm max}\limits_{(p,l)\in P}\mathbbm{1}_{h(A(X,p,%
l))_{i,j}\neq h(X)_{i,j}}],
D
P
(i,j)
(i,j)
x^{\prime}
P
z\in A(x)
x\sim P
P
\forall(p,l)\in P:h(A(z,p,l))_{i,j}=h(z)_{i,j},
x\in A(z,p,l)
(i,j)
(i,j)
x
\mathbb{E}_{x\sim D}\max_{(p,l)\in P}[\max_{(q,m)\in P}\mathbbm{1}_{h(A(A(x,p,%
l),q,m))_{i,j}=h(A(x,p,l))_{i,j}}],
A(x)
A^{2}(x)
A^{2}(x)
x^{\prime}\in A(x)
A(x^{\prime})
\forall\ (p_{1},\ l_{1}),(p_{2},\ l_{2})\in\mathcal{P}\ :\ h(A(A(x,\ p_{1},\ l%
_{1}),\ p_{2},\ l_{2}))_{i,j}=h(x)_{i,j}
\forall\ x^{\prime}\in A(x)\ \forall\ (p,\ l)\in\mathcal{P}\ :\ h(A(x^{\prime}%
,\ p,\ l))_{i,j}=h(x^{\prime})_{i,j}
\ell_{p}
A^{2}(x)
\epsilon
N
N
T
K\geq 2NT+1
0.1\%
x
x^{\prime}
h
h(x)
h(x^{\prime})
h(x)
h(x)
x
x
h(x^{\prime})
h(x^{\prime})
x^{\prime}
x^{\prime}
h
h
v
x
x^{\prime}
v(x)
x_{i,j}
v(x)_{i,j}=1
v(x^{\prime})_{i,j}=0
f(x)
f(x)
v(x)
v(x)
v(x^{\prime})
v(x^{\prime})
f(x^{\prime})
f(x^{\prime})
f
v
x^{\prime}
v(x^{\prime})
f(x^{\prime})
f
v
x^{\prime}
v(x^{\prime})
f(x^{\prime})
T=3
T=4
T=3
T=4
\downarrow
b=19
s=10
b=42
s=22
0.5\%
K
M
D
S
K
O(K(M+D+S)+K)
O(S)
K
M+D\gg S
M+D
S
K\in{5,7,9}
O(M+D+S+K)
K
M+D\approx S
T=3
K=7
T=3
K=7
T=4
K=9
T=4
K=9
