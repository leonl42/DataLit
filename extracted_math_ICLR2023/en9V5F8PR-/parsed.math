\boldsymbol{\theta}
X
\boldsymbol{y}=\{y_{1},\ldots,y_{n}\}
\boldsymbol{f}=\{f_{1},\ldots,f_{n}\}
n>0
\boldsymbol{\theta}=\{\boldsymbol{w},\boldsymbol{\lambda}\}
\boldsymbol{w}
f_{nn}
\boldsymbol{\lambda}
x
\boldsymbol{f}
\boldsymbol{y}
\boldsymbol{w}
\boldsymbol{\lambda}
\boldsymbol{y}
\boldsymbol{f}
\boldsymbol{y}
\boldsymbol{f}
\boldsymbol{f}
\boldsymbol{w}
\boldsymbol{f}
\boldsymbol{\lambda}
\boldsymbol{y}
p(\boldsymbol{\theta}|\boldsymbol{y},X)\propto p(\boldsymbol{y}|\boldsymbol{%
\theta},X)p(\boldsymbol{\theta})\ .
p(\boldsymbol{\theta})=p(\boldsymbol{\lambda})p(\boldsymbol{w})
\boldsymbol{f}
p(\boldsymbol{y}|\boldsymbol{\theta},X)=\int_{\boldsymbol{f}}p(\boldsymbol{y}|%
\boldsymbol{f},\boldsymbol{\lambda})\cdot p(\boldsymbol{f}|\boldsymbol{w},X)d%
\boldsymbol{f}\ .
p(\boldsymbol{f}|\boldsymbol{w},X)
p(\boldsymbol{f}|\boldsymbol{w},X)=\frac{1}{Z(\boldsymbol{f})}\exp\left(-\frac%
{(\boldsymbol{f}-\boldsymbol{f}_{nn})^{2}}{2\sigma^{2}}\right)\ ,
f_{nn}
\boldsymbol{f}_{nn}
\boldsymbol{y},\boldsymbol{f}
\boldsymbol{f}_{nn}
|\boldsymbol{y}|=|\boldsymbol{f}|=|\boldsymbol{f}_{nn}|
p(\boldsymbol{f}|\boldsymbol{w},X)\approx\delta(\boldsymbol{f}-\boldsymbol{f}_%
{nn})\ ,
p(\boldsymbol{y}|\boldsymbol{\theta},X)\approx p(\boldsymbol{y}|\boldsymbol{f}%
_{nn},\boldsymbol{\lambda})\ .
p(\boldsymbol{y}|\boldsymbol{f}_{nn},\boldsymbol{\lambda})
p(\boldsymbol{y}|\boldsymbol{f}_{nn},\boldsymbol{\lambda})\triangleq\frac{1}{Z%
(\boldsymbol{y})}\exp{\left(\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})+\sum_%
{c}\lambda_{c}\Phi_{c}(\boldsymbol{y})\right)}\ ,
\Phi_{c}
\boldsymbol{\lambda}=\{\lambda_{1},\lambda_{2},\ldots,\lambda_{C}\}
\Phi_{r}
\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})=-\frac{1}{2}||\boldsymbol{y}-%
\boldsymbol{f}_{nn}||^{2}
Z(\boldsymbol{y})
Z(\boldsymbol{y})=\int_{{\boldsymbol{y}}}\exp{\left(\Phi_{r}(\boldsymbol{y},%
\boldsymbol{f}_{nn})+\sum_{c}\lambda_{c}\Phi_{c}(\boldsymbol{y})\right)}d{%
\boldsymbol{y}}.
p(\boldsymbol{y}|\boldsymbol{f}_{nn},\boldsymbol{\lambda})
Z
{\boldsymbol{y}}_{M}=\text{arg}\!\max_{\boldsymbol{y}}\log p({\boldsymbol{y}}|%
\boldsymbol{f}_{nn},\boldsymbol{\lambda})=\text{arg}\!\max_{\boldsymbol{y}}%
\left[\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})+\sum_{c}\lambda_{c}\Phi_{c}%
(\boldsymbol{y})\right].
\nabla_{\boldsymbol{y}}\log p({\boldsymbol{y}}|\boldsymbol{f}_{nn},\boldsymbol%
{\lambda})=\nabla_{\boldsymbol{y}}\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})%
+\sum_{c}\lambda_{c}\nabla_{\boldsymbol{y}}\Phi_{c}(\boldsymbol{y})
\text{arg}\!\max_{\boldsymbol{\theta}}\log p(\boldsymbol{\theta}|\boldsymbol{y%
}_{t},X)=\log p(\boldsymbol{y}_{t}|\boldsymbol{\theta},X)+\log p(\boldsymbol{w%
})+\log p(\boldsymbol{\lambda})\ .
p(\boldsymbol{y}_{t}|\boldsymbol{\theta},X)
\log p(\boldsymbol{\theta}|\boldsymbol{y}_{t},X)\!=\!-\frac{\alpha}{2}||%
\boldsymbol{w}||^{2}-\frac{\beta}{2}||\boldsymbol{\lambda}||^{2}-\Phi_{r}(%
\boldsymbol{y}_{t},\boldsymbol{f}_{nn})+\sum_{c}\lambda_{c}\Phi_{c}(%
\boldsymbol{y}_{t})-\log Z(\boldsymbol{y})
\alpha,\beta
\begin{array}[]{lcl}\frac{\partial\log p(\boldsymbol{\theta}|\boldsymbol{y}_{t%
},X)}{\partial\lambda_{c}}&=&-\beta\lambda_{c}+\Phi_{c}(\boldsymbol{y}_{t})-E_%
{p}\left[\Phi_{c}\right]\\
&&\\
\frac{\partial\log p(\boldsymbol{\theta}|\boldsymbol{y}_{t},X)}{\partial w_{i}%
}&=&-\alpha w_{i}+\frac{\partial\Phi_{r}(\boldsymbol{y}_{t},\boldsymbol{f}_{nn%
})}{\partial w_{i}}-E_{p}\left[\frac{\partial\Phi_{r}}{\partial w_{i}}\right]%
\end{array}
\log p(\boldsymbol{y}_{t}|\boldsymbol{f}_{nn},X)\approx\Phi_{r}(\boldsymbol{y}%
_{t},\boldsymbol{f}_{nn})-\Phi_{r}(\boldsymbol{y}_{M},\boldsymbol{f}_{nn})+%
\sum_{c}\lambda_{c}\left(\Phi_{c}(\boldsymbol{y}_{t})-\Phi_{c}(\boldsymbol{y}_%
{M})\right)
\Phi_{r}(\boldsymbol{y}_{t},\boldsymbol{f}_{nn})\simeq\Phi_{r}(\boldsymbol{y}_%
{M},\boldsymbol{f}_{nn})
\Phi_{c}(\boldsymbol{y}_{t})\simeq\Phi_{c}(\boldsymbol{y}_{M})\leavevmode%
\nobreak\ \forall c
\Phi_{r}(\boldsymbol{y}_{M},\boldsymbol{f}_{nn})
\Phi_{r}
\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})\leq 0\leavevmode\nobreak\ \forall%
\boldsymbol{y},\boldsymbol{f}_{nn}
\Phi_{r}(\boldsymbol{y},\boldsymbol{f}_{nn})=-\frac{1}{2}||\boldsymbol{y}-%
\boldsymbol{f}_{nn}||^{2}
\Phi_{r}(\boldsymbol{y}_{t},\boldsymbol{f}_{nn})\simeq\Phi_{r}(\boldsymbol{y}_%
{M},\boldsymbol{f}_{nn})
\Phi_{r}(\boldsymbol{y}_{t},\boldsymbol{f}_{nn})\simeq 0
\Phi_{r}(\boldsymbol{y}_{M},\boldsymbol{f}_{nn})\simeq 0
\begin{array}[]{c}\log p(\boldsymbol{w})+\log p(\boldsymbol{\lambda})+\Phi_{r}%
(\boldsymbol{y}_{t},\boldsymbol{f}_{nn})+\Phi_{r}(\boldsymbol{y}_{M},%
\boldsymbol{f}_{nn})+\displaystyle\sum_{c}\lambda_{c}\left[\Phi_{c}(%
\boldsymbol{y}_{t})-\Phi_{c}(\boldsymbol{y}_{M})\right]\end{array}
\Phi_{r}(\cdot)
\displaystyle C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},\boldsymbol{y}_{M},X)%
=\frac{\alpha}{2}||\boldsymbol{w}||^{2}+\frac{\beta}{2}||\boldsymbol{\lambda}|%
|^{2}+\frac{1}{2}||\boldsymbol{y}_{t}-\boldsymbol{f}_{nn}||^{2}+\frac{1}{2}||%
\boldsymbol{y}_{M}-\boldsymbol{f}_{nn}||^{2}++\sum_{c}\lambda_{c}\left[\Phi_{c%
}(\boldsymbol{y}_{t})-\Phi_{c}(\boldsymbol{y}_{M})\right]\ .
\displaystyle C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},\boldsymbol{y}_{M},X)
\displaystyle=
\displaystyle\frac{\alpha}{2}||\boldsymbol{w}||^{2}+\frac{\beta}{2}||%
\boldsymbol{\lambda}||^{2}+\frac{1}{2}||\boldsymbol{y}_{t}-\boldsymbol{f}_{nn}%
||^{2}+\frac{1}{2}||\boldsymbol{y}_{M}-\boldsymbol{f}_{nn}||^{2}+
\displaystyle+
\displaystyle\displaystyle\sum_{c}\lambda_{c}\left[\Phi_{c}(\boldsymbol{y}_{t}%
)-\Phi_{c}(\boldsymbol{y}_{M})\right]\ .
C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},\boldsymbol{y}_{M},X)
C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},\boldsymbol{y}_{M},X)
X
\boldsymbol{y}_{t}
\boldsymbol{w}
\boldsymbol{\theta}=\{\boldsymbol{\lambda},\boldsymbol{w}\}
i=0
\boldsymbol{\lambda}=\boldsymbol{0}
\boldsymbol{w}
\land\leavevmode\nobreak\ i<max\_iterations
\boldsymbol{f}_{nn}
X
\boldsymbol{w}
{\boldsymbol{y}}_{M}=\text{arg}\!\max_{\boldsymbol{y}}\log p({\boldsymbol{y}}|%
\boldsymbol{f}_{nn},\boldsymbol{\lambda})
\nabla_{\boldsymbol{\theta}}C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},%
\boldsymbol{y}_{M},X)
\boldsymbol{\theta}
\boldsymbol{\theta}_{i+1}=\boldsymbol{\theta}_{i}-\lambda_{lr}\cdot\nabla_{%
\boldsymbol{\theta}}C_{\boldsymbol{\theta}}(\boldsymbol{y}_{t},\boldsymbol{y}_%
{M},X)
\boldsymbol{w}
\boldsymbol{\lambda}
\boldsymbol{w}
\boldsymbol{\lambda}
c
\lambda_{c}
c
\boldsymbol{y}
m
p
(a_{1},\ldots,a_{m})\in Dom(p)
p(a_{1},\ldots,a_{m})\in[0,1]
p
\lnot,\land,\lor,\Rightarrow
a\land b
a\cdot b
\min(a,b
\max(0,a+b-1
a\lor b
a+b-a\cdot b
\max(a,b)
\min(1,a+b)
\lnot a
1-a
1-a
1-a
a\Rightarrow b
\min(1,\frac{b}{a})
a\leq b?1:b
\min(1,1-a+b)
a,b
a,b
X
X=\{X_{1},X_{2},\ldots\}
v_{i}
v_{i}\in X_{d_{i}}
d_{i}
v_{i}
\forall v_{1}\forall v_{2}\leavevmode\nobreak\ \lnot A(v_{1},v_{2})\land B(v_{%
1})
v_{1}
v_{2}
[1-A(v_{1},v_{2})]\cdot B(v_{1})
v_{i}
v_{i}
\Phi(X,A,B)=\frac{1}{|X_{d_{1}}|\cdot|X_{d_{2}}|}\displaystyle\sum_{v_{1}\in X%
_{d_{1}}}\displaystyle\sum_{v_{2}\in X_{d_{2}}}[1-A(v_{1},v_{2})]\cdot B(v_{1}%
)\ .
\boldsymbol{y}
|X_{d_{1}}|\times|X_{d_{2}}|
A
|X_{d_{1}}|
B
A,B
|\boldsymbol{y}|=|\boldsymbol{f}|=|X_{d_{1}}|\times|X_{d_{2}}|+|X_{d_{1}}
\boldsymbol{f}_{nn}
\boldsymbol{f}_{nn}=\{f_{A}(v_{11},v_{21}),\ldots,f_{A}(v_{1|X_{d_{1}}|},v_{2|%
X_{d_{2}}|}),f_{B}(v_{11}),\ldots,f_{B}(v_{1|d_{2}|})\}
v_{ij}
j
i
f_{A},f_{B}
A
B
\boldsymbol{y}
y_{1}\approx A(Mary,Munich)
f_{1}=f_{A}(x_{Mary},x_{Munich})
\boldsymbol{w}
y_{2}\approx A(Mary,London)
f_{2}=f_{A}(x_{Mary},x_{London})
\boldsymbol{w}
y_{3}\approx A(John,Munich)
f_{3}=f_{A}(x_{John},x_{Munich})
\boldsymbol{w}
y_{4}\approx A(John,London)
f_{4}=f_{A}(x_{John},x_{London})
\boldsymbol{w}
y_{5}\approx B(Mary)
f_{5}=f_{B}(x_{Mary})
\boldsymbol{w}
y_{6}\approx B(John)
f_{6}=f_{B}(x_{John})
\boldsymbol{w}
\forall v_{1}\forall v_{2}\leavevmode\nobreak\ \lnot A(v_{1},v_{2})\land B(v_{%
1})
v_{1}
\{Mary,John\}
v_{2}
\{Munich,London\}
y_{i}
f_{i}
\forall v_{1}\forall v_{2}\leavevmode\nobreak\ \lnot A(v_{1},v_{2})\land B(v_{%
1})
v_{1}
\{Mary,John\}
v_{2}
\{Munich,London\}
y_{i}
f_{i}
v_{1}
\{Mary,John\}
v_{2}
\{Munich,London\}
y_{i}
f_{i}
y_{i}
f_{i}
\Phi_{r}
y_{i}
\Phi_{c}
p_{1}\geq p_{2}\geq p_{3}\geq p_{4}\geq p_{5}
p_{1}
p_{2}
p_{1}
p_{2}
p_{3}
10
100
\forall(x,y)\leavevmode\nobreak\ D_{1}(x)\rightarrow D_{2}(y)
(x,y)
(D_{1},D_{2})
p_{1}=0.9,p_{2}=0.07,p_{3}=p_{4}=p_{5}=0.01
0
90
90\%
10\%
\forall(x,y)\leavevmode\nobreak\ D(x)\rightarrow D(y)
D
244
5
23
\texttt{locatedIn}(c_{1},c_{2})
c_{1}
c_{2}
\texttt{neighborOf}(c_{1},c_{2})
c_{1}
c_{2}
1158
204,20
20
\texttt{locatedIn}(c,r)
c
r
\texttt{locatedIn}(c,r)
c
r
\texttt{locatedIn}(c,s)
c
s
\texttt{locatedIn}(c,r)
r
c
50
50
X
\boldsymbol{y}_{t}
\texttt{locatedIn}(x,y)\land\texttt{locatedIn}(y,z)\rightarrow\texttt{%
locatedIn}(x,z)
\texttt{neighborOf}(x,y)\land\texttt{locatedIn}(y,z)\rightarrow\texttt{%
locatedIn}(x,z)
8
\forall x\leavevmode\nobreak\ \forall y\leavevmode\nobreak\ \forall z%
\leavevmode\nobreak\ \texttt{A}(x,y)\land\texttt{B(y,z)}\rightarrow\texttt{C}(%
y,z)
\lambda
\lambda
99.37
90.83
87.95
87.40
93.04
48.44
56.68
77.26
