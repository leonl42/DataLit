2016
w^{t+1}=w^{t}-\eta_{s}\cdot f(gradient)
f(gradient)
\mathcal{D}=\{(x_{i},y_{i})\}_{i=1}^{N}
N
x_{i},y_{i}
i
\min_{w\in\Re^{d}}f(w)\mbox{ where }f(w)=\frac{1}{N}\sum_{i=1}^{N}{l}(x_{i},y_%
{i},w)
l(x_{i},y_{i},w)
x_{i},y_{i}
w
f(w)
g(w)=\nabla f(w)=\frac{1}{N}\sum_{i}g_{i}(w)
g_{i}(w)=\frac{\partial{l}(x_{i},y_{i},w)}{\partial w}
B\subset\{1,\ldots N\}
\min_{w\in\Re^{d}}f_{B}(w)\mbox{ where }f_{B}(w)=\frac{1}{n_{B}}\sum_{i\in B}{%
l}(x_{i},y_{i},w)
n_{B}=|B|
g_{B}(w)=\nabla f_{B}(w)=\frac{1}{n_{B}}\sum_{i\in B}g_{i}(w)
\mathcal{D}
n_{B}=N
B
N\sim\infty
|B|=1
E[f_{B}(w)]=f(w)
E[g_{B}(w)=g(w)]
B
f_{B}(w)
f(w)
f(w)
K
N
P_{k}
k
f(w)=\sum_{i=1}^{K}\frac{n_{k}}{N}f_{k}(w)\mbox{ where }f_{k}(w)=\frac{1}{n_{k%
}}\sum_{i\in P_{k}}{l}(x_{i},y_{i},w)
n_{k}=|P_{k}|
C
C=1
C=1
\nabla f(w)=\sum_{i=1}^{K}\frac{n_{k}}{N}\nabla f_{k}(w)
C=1
\eta
w_{t+1}=w_{t}-\eta\cdot\sum_{i=1}^{K}\frac{n_{k}}{N}\nabla f_{k}(w_{t})
B
E
\mathcal{B}=\{P_{k}\}
k
ClientUpdate()
K
k
w_{0}
t=1,2,\ldots
m\leftarrow max(C\cdot K,1)
S_{t}\leftarrow(\mbox{random set of m clients})
k\in S_{t}
w_{t+1}^{k}\leftarrow ClientUpdate(k,w_{t})
w_{t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{N}w_{t+1}^{k}
ClientUpdate(k,w)
B
E
\eta_{c}
k
\mathcal{B}\leftarrow(\mbox{split $P_{k}$ into batches of size $B$})
P_{k}
B
i
1
E
b\in\mathcal{B}
w\leftarrow w-\eta_{c}\nabla l(w;b)
w
w_{t+1}^{k}
w_{t+1}^{k}-w_{t}
w_{t+1}^{k}-w_{t}=-\eta_{c}\sum_{b}\nabla l^{k}(w;b)
\nabla l^{k}(w;b)
k
b
f(gradient)=\sum_{k}\frac{n_{k}}{N}w_{t+1}^{k}-w_{t}
\eta_{c}=1
w_{t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{N}w_{t+1}^{k}
E[\nabla f_{B}(w)]=\nabla f(w)
C=1
C<1
C=1
E
ClientUpdate
ClientUpdate
k
w_{t+1}^{k}
E=1
400\sim 1000
32\sim 250
\$1111
\$6290
\$20905,\$24532,\mbox{ and }\$128482
28\times 28\times 1
i7-4770K
3.50GHz
[10],[200,10],[500,200,10]
10,50,100\mbox{ and }200
\$1967.90
\$3769.70
\&
