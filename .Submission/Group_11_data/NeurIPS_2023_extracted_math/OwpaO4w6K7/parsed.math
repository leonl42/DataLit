('3', '\\mathcal{P}=\\{P_1, P_2, \\cdots, P_n\\}')
('3', '\\{T_1, T_2, \\cdots T_n\\}')
('3', 'SE(3)')
('3', 'O=T_1(P_1)\\cup T_2(P_2)\\cup \\cdots \\cup T_n(P_n)')
('3', 'T_i(\\cdot), 1\\leq i \\leq n')
('3', 'P_i')
('3', 'T_i')
('3', 'O')
('3', 'O')
('3.0', '\\mathbf{f}_p\\in\\mathbb{R}^{D}')
('3.0', 'p\\in P_i')
('3.0', '\\mathbf{f}_p^{s} = \\sum_{\\mathbf{f}_q \\in \\mathcal{N}(p)} \\texttt{softmax}(\\texttt{MLP\\_s}( ( W_Q^s \\mathbf{f}_p - W_K^s \\mathbf{f}_q + \\mathbf{p}^{\\text{enc}}))) \\odot (W_V^s \\mathbf{f}_q + \\mathbf{p}^{\\text{enc}})')
('3.0', 'W_Q^s, W_K^s, W_V^s \\in \\mathbb{R}^{D\\times D}')
('3.0', '\\mathbf{p}^{\\text{enc}}')
('3.0', 'p_i')
('3.0', '\\texttt{MLP\\_s}')
('3.0', '\\texttt{softmax}(\\cdot)')
('3.0', '\\odot')
('3.0', '\\mathcal{N}(p)\\in P_i')
('3.0', 'p')
('3.0', 'k')
('3.0', '\\mathbf{F}^s \\in \\mathbb{R}^{N\\times D}')
('3.0', '\\mathbf{F}^c \\in \\mathbb{R}^{N\\times D}')
('3.0', '\\begin{aligned}\n    \\mathbf{F}^c = \\text{FFN}(W_O^m(\\text{cat}(\\text{head}_1, \\ldots, \\text{head}_h) )), \\ &\\text{where} \\ \\text{head}_i = \\text{Attention}({W_Q^m}_i \\mathbf{F}^s, {W_K^m}_i \\mathbf{F}^s, {W_Q^m}_i \\mathbf{F}^s) \\\\\n    &\\text{and } \\text{Attention}(Q, K, V) = \\texttt{softmax}(\\frac{QK^T}{\\sqrt{d_k}})V\n\\end{aligned}')
('3.0', '{W_Q^m}_i, {W_K^m}_i, {W_V^m}_i \\in \\mathbb{R}^{D \\times d_h}, W_O^m \\in \\mathbb{R}^{hd_h \\times D}')
('3.0', '\\text{FFN}(\\cdot)')
('3.1', 'P^f_i\\subset P_i')
('3.1', 'P_i')
('3.1', 'P_{ij} \\subset P^f_i')
('3.1', 'P_i')
('3.1', 'P_j')
('3.1', 'P_i, P_j')
('3.1', 'P_i')
('3.1', 'P_j')
('3.1', 'T_i(P_i)')
('3.1', 'T_j(p_j)')
('3.1', 'P_{ij} \\not= \\emptyset, P_{ji} \\not=\\emptyset')
('3.1', 'T^\\star_{ij}=T_j^{-1}T_i')
('3.1', 'P_i, P_j')
('3.1', '\\label{eq:registration}\n    T^\\star_{ij} = \\mathop{\\mathrm{argmin}}_{T_{ij}\\in SE(3)} d\\left(P_{ji}, T_{ij}(P_{ij})\\right),')
('3.1', 'd(\\cdot, \\cdot)')
('3.1', 'P_{ij}')
('3.1', 'P_{ji}')
('3.1', '(P_i, P_j)')
('3.1', 'P_{ij}')
('3.1', 'P^f_i')
('3.1', 'P_i')
('3.1', 'P_i')
('3.1', 'c_p')
('3.1', 'p')
('3.1', 'P\\in \\mathcal P')
('3.1', 'N=\\sum_{i=1}^n N_i')
('3.1', 'P_i\\in \\mathbb{R}^{N_i\\times 3}')
('3.1', 'P_i\\in \\mathcal P')
('3.1', 'c_i')
('3.1', 'p\\in P_i')
('3.1', '\\mathbf{f}_p \\in \\mathbb{R}^D')
('3.1', 'c_p')
('3.1', 'p')
('3.1', 'L_{\\textup{seg}}')
('3.1', 'c_p')
('3.1', 'p')
('3.1', '\\label{eq: seg_loss}\n    \\mathcal{L}_{\\textup{seg}} = -\\frac{1}{N}\\sum_{p\\in O}c_p\\log \\tilde c_p + (1-c_p)\\log (1 - \\tilde c_p).')
('3.1', 'c_p')
('3.1', 'p\\in P_i')
('3.1', '\\label{eq:seg_gt}\n    c_p = \\begin{cases}\n        1 & Dis(p, \\textsf{NN}(p, \\mathcal{P}\\backslash P_i)) \\leq \\eta,\\\\\n        0 & \\text{otherwise}.\n    \\end{cases}')
('3.1', 'Dis(\\cdot)')
('3.1', '\\textsf{NN}(\\cdot, \\cdot)')
('3.2', '\\{\\hat{\\mathbf{f}}_i^{c}\\}_{i=1}^{n_c}')
('3.2', '\\hat{\\mathbf{f}}_i^{c}')
('3.2', '\\hat{\\mathbf{f}}_i^{p}')
('3.2', '\\hat{\\mathbf{f}}_i^{d}')
('3.2', '\\hat{\\mathbf{f}}_i^p, \\hat{\\mathbf{f}}_i^d = \\text{norm} (\\texttt{MLP\\_aff} (\\hat{\\mathbf{f}}_i^{c})).')
('3.2', '\\hat{\\mathbf{F}}^p, \\hat{\\mathbf{F}}^d \\in \\mathbb{R}^{\\hat{N}\\times d}')
('3.2', 'M \\in \\mathbb{R}^{\\hat{N}\\times \\hat{N}}')
('3.2', '\\Tilde{X}\\in [0,1]^{\\hat{N}\\times \\hat{N}}')
('3.2', 'M = \\textup{exp}\\left( \\frac{\\hat{\\mathbf{F}}^{p^{\\top}} A {\\hat{\\mathbf{F}}}^d}{\\tau} \\right), \\quad \\Tilde{X}= \\texttt{Sinkhorn}(M),')
('3.2', 'A \\in \\mathbb{R}^{d\\times d}')
('3.2', '\\tau')
('3.2', '\\Tilde{X}\\in [0,1]^{\\hat{N}\\times \\hat{N}}')
('3.2', 'X^{gt}\\in \\left\\{0,1\\right\\}^{\\hat{N}\\times \\hat{N}}')
('3.2', 'x^{gt}_{ij} = 1')
('3.2', 'j')
('3.2', 'i')
('3.2', 'x^{gt}_{ij}=0')
('3.2', '\\Tilde{X}')
('3.2', 'X^{gt}')
('3.2', '\\label{eq:mat_loss}\n    \\mathcal{L}_{\\textup{mat}} = - \\frac{1}{\\hat{N}} \\sum_{1\\leq ij \\leq \\hat{N}} x^{gt}_{ij}\\log\\Tilde{x}_{ij} + (1-x^{gt}_{ij})\\log (1-\\Tilde{x}_{ij})')
('3.2', 'X^{gt}')
('3.2', '\\tilde X_{ij}\\in \\mathbb R^{\\hat N_i\\times \\hat N_j}')
('3.2', '\\hat X')
('3.2', 'P_i')
('3.2', 'P_j')
('3.2', 'p')
('3.2', 'P_i')
('3.2', '\\tilde X_{ij}')
('3.2', "p'")
('3.2', 'P_j')
('3.2', "p' = \\frac{\\tilde X_{ij}(p)P_j}{\\|\\tilde X_{ij}(p)\\|_1},")
('3.2', '\\tilde X_{ij}(p)\\in \\mathbb R^{1\\times \\hat N_j}')
('3.2', '\\tilde X_{ij}')
('3.2', 'p')
('3.2', 'P_j')
('3.2', '\\tilde T_{ij}')
('3.2', 'P_i')
('3.2', 'P_j')
('3.2', "\\label{eq:rt_rigid}\n\\tilde R_{ij}, \\tilde{\\boldsymbol t}_{ij} =\\mathop{\\mathrm{argmin}}_{R, \\boldsymbol t} \\sum_{p\\in P_i}{\\|\\tilde X_{ij}(p)\\|_1}\\|R(p)+\\boldsymbol t - p'\\|_{2}.")
('3.2', '\\tilde R_{ij}, \\tilde{\\boldsymbol t_{ij}}')
('3.2', '\\tilde T_{ij}')
('3.2', 'R(\\cdot)')
('3.2', "\\label{eq:compute_rt}\n\\begin{split}\n(U,\\Sigma, V^\\top) = \\textup{SVD}\\left(\\sum_{p\\in P_i}{\\|\\tilde X_{ij}(p)\\|}{p^\\top p'}\\right), \\ \\tilde R_{ij} = UV^\\top, \\ \\tilde{\\boldsymbol t}_{ij} =  -\\frac{\\sum_{p\\in P_i}{\\|\\tilde X_{ij}(p)\\|_1}\\left(R(p)- p'\\right)}{\\sum_{p\\in P_i}{\\|\\tilde X_{ij}(p)\\|_1}}.\n\\end{split}")
('3.2', "\\mathcal{L}_{\\textup{rig}} = \\sum_{1\\leq i,j\\leq n} \\mathcal{R}_{ij}, \\ \\text{where} \\ \\mathcal{R}_{ij} = \\sum_{p\\in P_i}{\\|\\tilde X_{ij}(p)\\|_1}\\|\\tilde R_{ij}(p)+\\tilde{\\boldsymbol t}_{ij} - p'\\|_{2}.")
('3.2', '\\tilde T_{ij}')
('3.2', '\\tilde X_{ij}')
('3.2', '\\label{eq:loss}\n    \\mathcal{L}= \\alpha \\mathcal{L}_{\\text{seg}} + \\beta \\mathcal{L}_{\\text{mat}} + \\gamma \\mathcal{L}_{\\text{rig}}.')
('3.2', '\\Tilde{X}')
('3.2', '\\Tilde{X}')
('3.2', 'X')
('3.2', 'X = \\texttt{Hungarian}(\\Tilde{X})')
('3.2', 'X')
('3.2', 'M')
('3.2', '\\Tilde{X}')
('3.3', 'O')
('3.3', 'X\\in \\{0, 1\\}^{\\hat N \\times \\hat N}')
('3.3', '(P_i, P_j)')
('3.3', 'X_{ij}\\in \\mathbb R^{\\hat N_i\\times \\hat N_j}')
('3.3', 'X')
('3.3', 'P_i')
('3.3', 'P_j')
('3.3', '\\tilde T_{ij}')
('3.3', '\\hat P_i')
('3.3', '\\hat P_j')
('3.3', 'X_{ij}')
('3.3', 'G = (\\mathcal{V}, \\mathcal{E})')
('3.3', '\\tilde T_i')
('3.3', '\\mathcal V')
('3.3', '\\tilde T_{ij}')
('3.3', '\\mathcal E')
('3.3', 'I(e)')
('3.3', 'e = (i, j)')
('3.3', '|X_{ij}|_{\\textup{Fro}}^{-2} \\cdot I_6')
('3.3', 'I_6')
('3.3', '6\\times 6')
('3.3', 'G')
('4.0', 'N')
('4.1', '36.3^\\circ')
('4.1', '46\\%')
('4.1', '8.7\\times 10^{-2}')
('4.1', '11.8\\times10^{-3}')
('4.1', '57\\%')
('4.1', '10.1^\\circ')
('4.1', '44\\%')
('4.1', '2\\times 10^{-3}')
('6', 'so(n)')
('8', 'D')
('8', 'D=128')
('8', 'h=8')
('8', 'd_h=16')
('8', 'k')
('8', 'k=16')
('8', 'd_i=256')
('8', 'd=256')
('9', '\\Tilde{X}')
('9', '\\Tilde{X}')
('9', '\\Tilde{X}')
('9', '0.2^\\circ')
('9', '0.7\\times10^{-2}')
('10.0', 'p')
('10.0', 'P_i')
('10.0', 'c_p')
('10.0', 'p')
('10.0', 'q')
('10.0', 'c_p = \\mathbbm{1}\\left(\\min_{q\\in O\\setminus P_i} \\|p-q\\|_2 < \\eta \\right)')
('10.0', '\\eta')
('10.0', '\\hat q')
('10.0', '\\hat p\\in \\hat P_i')
('10.0', "\\hat q = \\mathop{\\mathrm{argmin}}_{\\hat q'\\in {\\hat O\\setminus \\hat P_i}}\\|\\hat p - \\hat q'\\|_2.")
('10.0', '\\hat O, \\hat P_i')
('10.0', 'O')
('10.0', 'P_i')
('10.0', 'c_p')
('10.0', '\\tilde c_p')
('10.1', '\\begin{split}\n& \\textup {MAE(R)} = \\frac{1}{3} ||\\tilde R- R^{gt}||_1,\n\\\\\n& \\textup {RMSE(R)} = \\frac{1}{\\sqrt 3} ||\\tilde R-R^{gt}||_2,\n\\end{split}')
('10.1', '\\tilde R')
('10.1', 'R^{gt}')
('10.1', '\\begin{split}\n& \\textup {MAE(T)} = \\frac{1}{3} ||\\tilde {\\boldsymbol t}- \\boldsymbol{t}^{gt}||_1,\n\\\\\n& \\textup {RMSE(T)} = \\frac{1}{\\sqrt 3} ||\\tilde {\\boldsymbol t}-\\boldsymbol{t}^{gt}||_2,\n\\end{split}')
('10.1', '\\tilde{\\boldsymbol{t}}')
('10.1', '\\boldsymbol{t}^{gt}')
('11.0', '0.3')
('12.2', '\\times 10^{-2}')
('12.2', '\\times 10^{-2}')
('12.2', '\\%')
