('2.0', 'f')
('2.0', '\\label{eq:diff-loss}\n        L(\\theta)=\\mathbb{E}_{t, \\mathbf{x}_0, \\bm{\\epsilon}}\\left[\\left\\|\\bm{\\bm{\\epsilon}} - f_\\theta\\left(\\sqrt{\\alpha_t}\\mathbf{x}_0+\\sqrt{1-\\alpha_t}\\bm{\\bm{\\epsilon}},t\\right)\\right\\|^2\\right]')
('2.0', '\\mathbf{x}_0\\sim \\mathcal{X}')
('2.0', '\\bm{\\epsilon}\\sim\\mathcal{N}(\\mathbf{0},\\mathbf{I})')
('2.0', '\\mathbf{x}_t=\\sqrt{\\alpha_t}\\mathbf{x}_0+\\sqrt{1-\\alpha_t}\\bm{\\bm{\\epsilon}}')
('2.0', 't')
('2.0', '\\mathbf{x}_T\\sim\\mathcal{N}(\\mathbf{0},\\mathbf{I})')
('2.0', '\\mathbf{x}_0')
('3.0.0.0', '0')
('3.0.0.0', '100\\%')
('3.0.0.0', 't')
('3.0.0.0', 't')
('3.0.0.1', 'F')
('3.0.0.1', '\\mathbf{x}_0')
('3.0.0.1', 'f')
('3.0.0.1', '\\mathcal{D}')
('3.0.0.1', 'F(\\mathbf{x}_t)=\\mathbb{E}_{\\mathbf{x}_0\\sim p(\\mathbf{x}_0|\\mathbf{x}_t)}\\left[\\mathbf{x}_0\\right]=\\frac{\\int_{\\mathbf{x}_0}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot \\mathbf{x}_0\\cdot p_\\mathcal{D}(\\mathbf{x}_0)\\rm{d}\\mathbf{x}_0}{\\int_{\\mathbf{x}_0}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot p_\\mathcal{D}(\\mathbf{x}_0)\\rm{d}\\mathbf{x}_0},')
('3.0.0.1', 'p_\\mathcal{D}(\\mathbf{x}_0)')
('3.0.0.1', '\\mathcal{D}')
('3.0.0.1', '\\mathcal{N}')
('3.0.0.1', 't')
('3.0.0.1', '\\lim\\limits_{t\\to 0}\\alpha_t=1')
('3.0.0.1', '\\lim\\limits_{t\\to T}\\alpha_t=0')
('3.0.0.1', 'F')
('3.0.0.1', '\\lim\\limits_{t\\to 0}F(\\mathbf{x}_t)=\\mathop{\\mathrm{argmin}}\\limits_{p(\\mathbf{x}_0)>0}\\{\\|\\mathbf{x}_0-\\mathbf{x}_t\\|\\}')
('3.0.0.1', '\\lim\\limits_{t\\to T}F(\\mathbf{x}_t)=\\mathbb{E}_{\\mathbf{x}_0\\sim p_{\\mathcal{D}}(\\mathbf{x}_0)}[\\mathbf{x}_0]')
('3.0.0.1', 't\\rightarrow 0')
('3.0.0.1', '\\mathcal{D}')
('3.0.0.1', '\\text{supp}(\\mathcal{D})')
('3.0.0.1', '\\text{supp}(\\mathcal{D})')
('3.0.0.1', 't')
('3.0.0.1', 't\\rightarrow T')
('3.0.0.1', '{\\rm{dist}}(\\mathbb{E}_{\\mathcal{D}}[\\mathbf{x}_0], \\mathbb{E}_{\\mathcal{D}_{\\text{new}}}[\\mathbf{x}_0^{\\text{new}}])')
('3.0.0.1', '\\mathcal{D}_{\\text{new}}')
('3.0.0.1', 't')
('3.1.0', '\\widehat{\\mathcal{X}}^s = \\{\\widehat{\\mathbf{{x}}}^s, \\cdots\\}')
('3.1.0', 'L_\\text{retention}')
('3.1.0', '\\label{eq:L_MC}\n   L_\\text{retention}(\\theta) = \\mathbb{E}_{t, \\bm{\\epsilon}, \\widehat{\\mathbf{x}}^{s}_0\\sim \\widehat{\\mathcal{X}}^s} \\left[\\xi(t) \\left\\|\\bm{\\epsilon} - f_\\theta\\left(\\sqrt{\\alpha_t}\\widehat{\\mathbf{x}}^{s}_0+\\sqrt{1-\\alpha_t}\\bm{\\epsilon}, t\\right)\\right\\|^2\\right],')
('3.1.0', '\\xi(t)')
('3.1.0', '\\xi(t)')
('3.1.0', 't')
('3.1.0', 't')
('3.1.0', 't')
('3.1.0.0', 't')
('3.1.0.0', '\\label{eq:SR}\n    L_\\text{adaptaion}(\\theta) = \\mathbb{E}_{t, \\bm{\\epsilon}, \\mathbf{x}_0\\sim\\mathcal{X}} \\left[\\psi(t) \\left\\|\\bm{\\epsilon} - f_\\theta\\left(\\sqrt{\\alpha_t}\\mathbf{x}_0+\\sqrt{1-\\alpha_t}\\bm{\\epsilon}, t\\right)\\right\\|^2\\right],')
('3.1.0.0', '\\psi(t)')
('3.1.0.0', '[0,1]')
('3.1.0.0', 't')
('3.1.0.1', '\\label{eq:final}\n    \\min_\\theta L_\\text{retention}(\\theta) +  L_\\text{adaptation}(\\theta),')
('3.1.0.1', 'L_\\text{retention}(\\theta)')
('3.1.0.1', 'L_\\text{adaptation}(\\theta)')
('3.1.0.1', '\\theta')
('3.1.0.2', '\\xi(t) = 1 - \\psi(t)')
('3.1.0.2', 't')
('3.1.0.2', 't')
('3.1.0.2', '[0,1]')
('3.1.0.2', 't')
('3.1.0.2', '[0,1]')
('3.1.0.2', '\\psi(t)=t^\\tau')
('3.1.0.2', '\\tau=1')
('3.1.0.3', '\\bm{\\epsilon} = (1+w)\\bm{\\epsilon}_\\text{c} - w\\bm{\\epsilon}_u')
('3.1.0.3', 'w,\\bm{\\epsilon}_c,\\bm{\\epsilon}_u')
('3.1.0.3', 'L_\\text{retention}')
('3.1.0.3', 'L_\\text{adaptation}')
('4.0.0', '256\\times256')
('4.0.0', '256\\times256')
('4.0.0', '\\beta_\\text{cfg}')
('4.0.0', '\\times')
('4.0.0', '\\frac{\\text{Diff-Tuning} - \\text{Full Fine-tuning}}{\\text{Full Fine-tuning}}')
('4.1.0', '512\\times512')
('4.2', 'L_2')
('4.2', '\\text{EWC}=\\|\\theta-\\theta_0\\|^2')
('4.2', 't')
('4.3.0', '^*')
('4.3.0', '^*')
('4.3.0.0', '\\psi(t)=t')
('4.3.0.0', '\\psi(t)=t^{\\tau}')
('4.3.0.0', '\\tau')
('4.3.0.0', '\\{0,0.3,0.5,0.7,1,1.5\\}')
('4.3.0.0', '\\psi(t) = 1/(1+\\text{SNR}(t))')
('4.3.0.0', '\\tau=1')
('4.3.0.0', '\\tau=0')
('4.3.0.2', '\\xi(t) \\equiv 0')
('4.3.0.2', '\\psi(t) = t')
('4.3.0.2', '\\xi(t) = 1-t')
('4.3.0.2', '\\psi(t) \\equiv 1')
('6', 'D=\\{\\mathbf{x}_0^{(1)},\\mathbf{x}_0^{(2)},...,\\mathbf{x}_0^{(n)}\\}')
('6', 'f')
('6', 'L(\\theta)')
('6', '\\epsilon')
('6', '\\mathbf{x}_0')
('6', 'F(\\mathbf{x}_t)=\\frac{\\mathbf{x}_t-\\sqrt{1-\\alpha_t}f(\\mathbf{x}_t)}{\\sqrt{\\alpha_t}}')
('6', '\\label{eq:reparameterization-loss}\n    L=\\mathbb{E}_{t,\\mathbf{x}_0,\\mathbf{x}_t}\\left[\\left\\|\\mathbf{x}_0-F(\\mathbf{x}_t)\\right\\|^2\\right].')
('6.0', 'F')
('6.0', 'F(\\mathbf{x}_t)')
('6.0', 't,\\mathbf{x}_t')
('6.0', 'F(\\mathbf{x}_t)')
('6.0', 'L_{t,\\mathbf{x}_t}\\left(F(\\mathbf{x}_t)\\right)=\\mathbb{E}_{\\mathbf{x}_0\\sim p(\\mathbf{x}_0|\\mathbf{x}_t)}\\left[\\left\\|\\mathbf{x}_0-F(\\mathbf{x}_t)\\right\\|^2\\right].')
('6.0', '0=\\nabla_{F(\\mathbf{x}_t)} L_{t,\\mathbf{x}_t}\\left(F(\\mathbf{x}_t)\\right)=\\mathbb{E}_{\\mathbf{x}_0\\sim p(\\mathbf{x}_0|\\mathbf{x}_t)}\\left[-2\\left(\\mathbf{x}_0-F(\\mathbf{x}_t)\\right)\\right],')
('6.0', '\\begin{aligned}\n    F(\\mathbf{x}_t)\n    &=\\mathbb{E}_{\\mathbf{x}_0\\sim p(\\mathbf{x}_0|\\mathbf{x}_t)}[\\mathbf{x}_0] \\\\\n    &=\\int_{\\mathbf{x}_0}\\mathbf{x}_0\\cdot p(\\mathbf{x}_0|\\mathbf{x}_t)d\\mathbf{x}_0 \\\\\n    &=\\frac{\\int_{\\mathbf{x}_0}\\mathbf{x}_0\\cdot p_\\mathcal{D}(\\mathbf{x}_0)p(\\mathbf{x}_t|\\mathbf{x}_0)d\\mathbf{x}_0}{p_{\\mathcal{D}}(\\mathbf{x}_t)} \\\\\n    &=\\frac{\\int_{\\mathbf{x}_0}\\mathbf{x}_0\\cdot p_\\mathcal{D}(\\mathbf{x}_0)p(\\mathbf{x}_t|\\mathbf{x}_0)d\\mathbf{x}_0}{\\int_{\\mathbf{x}_0}p_{\\mathcal{D}}(\\mathbf{x}_0)p(\\mathbf{x}_t|\\mathbf{x}_0)d\\mathbf{x}_0} \\\\\n    &=\\frac{\\int_{\\mathbf{x}_0}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot \\mathbf{x}_0\\cdot p_\\mathcal{D}(\\mathbf{x}_0)d\\mathbf{x}_0}{\\int_{\\mathbf{x}_0}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot p_\\mathcal{D}(\\mathbf{x}_0)d\\mathbf{x}_0} \\\\\n    &=\\frac{\\sum_{\\mathbf{x}_0\\in D}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot \\mathbf{x}_0}{\\sum_{\\mathbf{x}_0\\in D}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)} \\label{eq:formulation-denoiser}\n\\end{aligned}')
('6.0.0', 't\\to 0')
('6.0.0', '\\alpha_t\\to 1')
('6.0.0', '\\mathbf{x}_t')
('6.0.0', '\\begin{aligned}\n    \\mathbf{x}_0^{\\text{closest}}&=\\mathrm{argmin}_{\\mathbf{x}_0\\in D}\\|\\sqrt{\\alpha_t}\\mathbf{x}_0-\\mathbf{x}_t\\|^2, \\\\\n    d&=\\min_{\\mathbf{x}_0\\in D\\backslash \\{\\mathbf{x}_0^{\\text{closest}}\\}}\\|\\sqrt{\\alpha_t}\\mathbf{x}_0-\\mathbf{x}_t\\|^2-\\|\\sqrt{\\alpha_t}\\mathbf{x}_0^{\\text{closest}}-\\mathbf{x}_t\\|^2>0,\n\\end{aligned}')
('6.0.0', '\\begin{aligned}\n    0\n    &\\le\\left\\|\\frac{\\sum_{\\mathbf{x}_0\\in D}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot \\mathbf{x}_0}{\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0^{\\text{closest}},(1-\\alpha_t)\\mathbf{I}\\big)}-\\mathbf{x}_0^{\\text{closest}}\\right\\| \\\\\n    &\\le \\sum_{\\mathbf{x}_0\\in D\\backslash\\{x^{\\text{closest}}\\}}\\left\\|\\frac1{\\sqrt{2\\pi(1-\\alpha_t)}}\\exp\\left(\\frac{-\\|\\sqrt{\\alpha}_t\\mathbf{x}_0-\\mathbf{x}_t\\|^2+\\|\\sqrt{\\alpha}_t\\mathbf{x}_0^{\\text{closest}}-\\mathbf{x}_t\\|^2}{2(1-\\alpha_t)}\\right)\\right\\| \\\\\n    &\\le \\sum_{\\mathbf{x}_0\\in D\\backslash\\{x^{\\text{closest}}\\}}\\left\\|\\frac1{\\sqrt{2\\pi(1-\\alpha_t)}}\\exp\\left(-\\frac{d}{2(1-\\alpha_t)}\\right)\\right\\|\\to 0\n\\end{aligned}')
('6.0.0', '\\alpha_t\\to 1')
('6.0.0', '\\frac{\\sum_{\\mathbf{x}_0\\in D}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\cdot \\mathbf{x}_0}{\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0^{\\text{closest}},(1-\\alpha_t)\\mathbf{I}\\big)}\\to \\mathbf{x}_0^{\\text{closest}}.')
('6.0.0', '\\frac{\\sum_{\\mathbf{x}_0\\in D}\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)}{\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0^{\\text{closest}},(1-\\alpha_t)\\mathbf{I}\\big)}\\to 1,')
('6.0.0', 'F(\\mathbf{x}_t)\\to \\mathbf{x}_0^{\\text{closest}}')
('6.0.0', 'F(\\mathbf{x}_t)')
('6.0.0.0', 't\\to T')
('6.0.0.0', '\\alpha_t\\to 0')
('6.0.0.0', '\\mathcal{N}\\big(\\mathbf{x}_t;\\sqrt{\\alpha_t}\\mathbf{x}_0,(1-\\alpha_t)\\mathbf{I}\\big)\\to \\mathcal{N}\\big(\\mathbf{x}_t;\\mathbf{0},\\mathbf{I}\\big)')
('6.0.0.0', '\\mathbf{x}_0')
('6.0.0.0', 'F(\\mathbf{x}_t)=\\frac1n\\sum_{\\mathbf{x}_0\\in D}\\mathbf{x}_0,')
('7.1.0', 'B')
('7.1.0', 'B/2')
('7.1.0', 'B/2')
('7.1.0', '\\xi(t)')
('7.1.0', '\\psi(t)')
('7.1.0', 't')
('7.1.0', '\\xi(t)')
('7.1.0', '\\psi(t)')
('7.1.0', '\\mathcal{X}')
('7.1.0', '\\theta_0')
('7.1.0', '\\theta')
('7.1.0', '\\widehat{\\mathcal{X}}^s')
('7.1.0', '\\theta_0')
('7.1.0', '\\theta\\gets\\theta_0')
('7.1.0', '\\widehat{X}^s=\\left\\{\\widehat{\\mathbf{x}}_0^{s,(1)},...,\\widehat{\\mathbf{x}}_0^{s,(B/2)}\\right\\}')
('7.1.0', 'B/2')
('7.1.0', '\\widehat{\\mathcal{X}}^s')
('7.1.0', 'L_\\text{retention}(\\theta) \\gets \\sum\\limits_{\\widehat{\\mathbf{x}}_0^{s}\\in \\widehat{X}^s}\\mathbb{E}_{\\bm{\\epsilon},t\\sim\\mathrm{catecorial}(\\xi(t))} \\left[\\left\\|\\bm{\\epsilon} - f_\\theta\\left(\\sqrt{\\alpha_t}\\mathbf{\\hat{x}}^{s}_0+\\sqrt{1-\\alpha_t}\\bm{\\epsilon}, t\\right)\\right\\|^2\\right],')
('7.1.0', '\\quad')
('7.1.0', 't')
('7.1.0', 'X=\\left\\{\\mathbf{x}_0^{(1)},...,\\mathbf{x}_0^{(B/2)}\\right\\}')
('7.1.0', 'B/2')
('7.1.0', '\\mathcal{X}')
('7.1.0', 'L_\\text{adaptation}(\\theta) \\gets \\sum\\limits_{\\mathbf{x}\\in X}\\mathbb{E}_{\\bm{\\epsilon},t\\sim\\mathrm{catecorial}(\\psi(t))} \\left[\\left\\|\\bm{\\epsilon} - f_\\theta\\left(\\sqrt{\\alpha_t}\\mathbf{x}_0+\\sqrt{1-\\alpha_t}\\bm{\\epsilon}, t\\right)\\right\\|^2\\right],')
('7.1.0', '\\quad')
('7.1.0', 't')
('7.1.0', 'L(\\theta)\\gets L_\\text{retention}(\\theta)+L_\\text{adaptation}(\\theta)')
('7.1.0', '\\theta')
('7.1.0', '\\nabla_\\theta L(\\theta)')
('7.1.0', '\\theta')
('8.0', '\\uparrow')
('8.0', '\\downarrow')
('8.0', '\\uparrow')
('9.0.0', '\\xi(t)')
('9.0.0', '\\psi(t)')
