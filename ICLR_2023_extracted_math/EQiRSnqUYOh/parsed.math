('1', '\\lambda')
('2', '\\hat{f}_{{w}}')
('2', '{w}')
('2', 'f')
('2', 'f: A \\to B \\quad\\quad\\hat{f}_{{w}}: A \\to B \\quad\\quad w \\in P')
('2', '(a, f(a)) \\in A \\times B')
('2', '{w}')
('2', 'f')
('2', '\\hat{f}_w')
('2', '\\mathbb{R}^n \\rightarrow \\mathbb{R}^m')
('2', 'w')
('2', '\\mathbb{R}^k')
('2', '{w}')
('2', 'L({w}) = \\left\\Vert f(a) - \\hat{f}_{{w}}(a) \\right\\Vert')
('2', '\\hat{f}_w')
('2', 'f')
('2', '{w}')
('2', '(a, f(a)) \\in A \\times B')
('2', '{w}')
('2', '{w^i}')
('2', 'L({w}^i)')
('2', '\\nabla f')
('2', 'f: \\mathbb{R}^n \\to \\mathbb{R}')
('2', 'f')
('2', '\\nabla f(u) = (\\frac{\\partial f(u)}{\\partial u_1}, \\frac{\\partial f(u)}{\\partial u_2}, ... \\ , \\frac{\\partial f(u)}{\\partial u_n})')
('2', '\\nabla L({w^i})')
('2', 'L({w}^i)')
('2', '{w}')
('2', 'r')
('2', '{w}^{i+1} = {w}^i - r * \\nabla L({w^i})')
('2', '\\hat{f}_{{w}} = \\hat{f}_{n,w_n} \\circ \\ldots \\circ \\hat{f}_{1,w_1}')
('2', '\\hat{f}_{i,w_i}')
('2', '\\hat{f}_{{w}}')
('2', 'L(w)')
('2', '\\lambda')
('2', '\\nabla L(w)')
('2.0', '\\small\n\\begin{array}{rcl}\ne &::= &c \\\\\n&|& x \\ \\   \\\\\n&|& e + e \\ \\\\\n&|& e * e  \\   \\\\[1ex]\n&|& \\text{let} \\ x = e \\ \\text{in} \\ e\n\\end{array}')
('2.0', "{\\small\n\\begin{array}{rcl}\n\\sfrac{d\\!}{d x}\\ \\llbracket {c} \\rrbracket &=& 0  \\\\\n\\sfrac{d\\!}{d x}\\ \\llbracket {x} \\rrbracket &=& 1 \\ \\\\\n\\sfrac{d\\!}{d x}\\ \\llbracket {e_1 + e_2} \\rrbracket &=& \\sfrac{d\\!}{d x}\\ \\llbracket {e_1} \\rrbracket + \\sfrac{d\\!}{d x}\\ \\llbracket {e_2} \\rrbracket \\ \\\\\n\\sfrac{d\\!}{d x}\\ \\llbracket {e_1 * e_2} \\rrbracket &=& \\sfrac{d\\!}{d x}\\ \\llbracket {e_1} \\rrbracket * e_2 + e_1 * \\sfrac{d\\!}{d x}\\ \\llbracket {e_2} \\rrbracket \\\\[1ex]\n\\sfrac{d\\!}{d x}\\ \\llbracket {\\text{let} \\ y = e_1 \\ \\text{in} \\ e_2} \\rrbracket &=&\n\\text{let}\\ y\\ = e_1\\ \\text{in} \\\\\n&&\\text{let}\\ y' = \\sfrac{d\\!}{d x}\\ \\llbracket {e_1} \\rrbracket\\ \\text{in} \\\\\n&&\\sfrac{d\\!}{d x}\\ \\llbracket {e_2} \\rrbracket\\\\\n\\sfrac{d\\!}{d x}\\ \\llbracket {y} \\rrbracket &=& y' \\quad (y \\ne x) \\\\\n\\end{array}}")
('2.0', '\\small\n\\begin{array}{rll}\n\\sfrac{d\\!}{d x}\\ \\llbracket {e_1*e_2* ... *e_n} \\rrbracket = &\\sfrac{d\\!}{d x}\\ \\llbracket {e_1} \\rrbracket*e_2* ... *e_n & + \\\\\n&e_1*\\sfrac{d\\!}{d x}\\ \\llbracket {e_2} \\rrbracket* ... *e_n & + \\\\\n&... & + \\\\\n&e_1 * e_2 * ... * \\sfrac{d\\!}{d x}\\ \\llbracket {e_n} \\rrbracket \\\\\n\\end{array}')
('2.0', 'n')
('2.0', 'n')
('2.0', 'n')
('2.0', 'e_i')
('2.0', 'n')
('2.0', '\\small\n\\begin{array}{rll}\n\\sfrac{d\\!}{d x}\\ \\llbracket\n&\\text{let} \\ y_1 = e_1\\ \\text{in}\\\\\n&... \\\\\n&\\text{let} \\ y_n = e_n\\ \\text{in}\\\\\n&\\text{let} \\ z_1 = y_1 * y_2\\ \\text{in} \\\\\n&\\text{let} \\ z_2 = z_1 * y_3\\ \\text{in} \\\\\n&... \\\\\n&\\text{let} \\ z_{n-1} = z_{n-2} * y_n\\ \\text{in} \\\\\n&z_{n-1} \\ \\rrbracket \\\\\n\\end{array}')
('2.0', "\\small\n\\begin{array}{rll} =\n&\\text{let} \\ y_1 = e_1\\ &\\text{in}\\ \\text{let} \\ y_1' = \\sfrac{d\\!}{d x}\\ \\llbracket e_1 \\rrbracket \\ \\text{in}\\\\\n&... \\\\\n&\\text{let} \\ y_n = e_n\\ &\\text{in}\\ \\text{let} \\ y_n' = \\sfrac{d\\!}{d x}\\ \\llbracket e_n \\rrbracket\\ \\text{in}\\\\\n&\\text{let} \\ z_1 = y_1 * y_2\\ &\\text{in}\\ \\text{let}\\ z_1' = y_1' * y_2 + y_1 * y_2' \\ \\text{in} \\\\\n&\\text{let} \\ z_2 = z_1 * y_3\\ &\\text{in}\\ \\text{let}\\ z_2' = z_1' * y_3 + z_1 * y_3' \\ \\text{in} \\\\\n&... \\\\\n&\\text{let} \\ z_{n-1} = z_{n-2} * y_n\\ &\\text{in}\\ \\text{let}\\ z_{n-1}' = z_{n-2}' * y_n + z_{n-2} * y_n' \\\\\n&\\text{in} \\ z_{n-1}'\n\\end{array}")
('2.0', 'y = ...')
('2.0', 'y = ...')
('2.0', "y' = ...")
('2.0', 'y')
('2.0', "y'")
('2.0', 'x')
('2.0', '\\text{let} \\ x = ...')
('2.0', '\\mathbb{R}')
('2.0', '\\sfrac{d\\!}{d x}\\ \\llbracket {e} \\rrbracket')
('2.0', 'y = 2 * x + x * x * x')
('2.0', '\\small\n\\begin{array}{rll}\n\\sfrac{d\\!}{d x}\\ \\llbracket\n&\\texttt{let}\\ y_1\\ \\texttt{=}\\ 2 * x\\ \\texttt{in} \\ \\\\\n&\\texttt{let}\\ y_2\\ \\texttt{=}\\ x * x\\ \\texttt{in} \\ \\\\\n&\\texttt{let}\\ y_3\\ \\texttt{=}\\ y_2 * x\\ \\texttt{in} \\ \\\\\n&\\texttt{let}\\ y\\ \\texttt{=}\\ y_1 + y_3\\ \\texttt{in} \\ \\\\\n&y \\ \\rrbracket \\\\\n\\end{array}')
('2.0', "\\small\n\\begin{array}{rll}\n=\n&\\texttt{let}\\ y_1\\ \\texttt{=}\\ 2 * x\\ \\texttt{in} \\  \\ &\\texttt{let}\\ y_1'\\ \\texttt{=}\\ 2 * x'\\ \\texttt{in} \\  \\\\\n&\\texttt{let}\\ y_2\\ \\texttt{=}\\ x * x\\ \\texttt{in} \\  \\ &\\texttt{let}\\ y_2'\\ \\texttt{=}\\ x' * x + x * x'\\ \\texttt{in} \\  \\\\\n&\\texttt{let}\\ y_3\\ \\texttt{=}\\ y_2 * x\\ \\texttt{in} \\  \\ &\\texttt{let}\\ y_3'\\ \\texttt{=}\\ y_2' * x + y_2 * x'\\ \\texttt{in} \\  \\\\\n&\\texttt{let}\\ y\\ \\texttt{=}\\ y_1 + y_3\\ \\texttt{in} \\  \\ &\\texttt{let}\\ y'\\ \\texttt{=}\\ y_1' + y_3'\\ \\texttt{in} \\ \\\\\n&y' \\\\\n\\end{array}")
('2.0', 'x')
('2.0', "x' = 1")
('2.0', 'y')
('2.0', "y'")
('2.0', 'y')
('2.0', 'x')
('2.0', '2 + 3 * x * x')
('2.0', "\\small\n\\begin{array}{l}\n\\text{We denote } p_{tk} \\text{ as the } k \\text{th parameter of } t \\text{th computation,}\\\\\n\\text{where } p_{tk} \\in \\{c\\} \\cup \\{x\\} \\cup \\{y_j | j < t\\}\\\\\n\\\\\n\\texttt{let}\\ y_1\\ \\texttt{=}\\ p_{11} \\oplus p_{12}\\ \\texttt{in} \\  \\\\\n\\texttt{let}\\ y_1'\\ \\texttt{=}\\ \\sfrac{d\\!}{d p_{11}}\\ {\\llbracket {p_{11} \\oplus p_{12}} \\rrbracket}\\ *\\ p_{12}' + \\sfrac{d\\!}{d p_{12}}\\ {\\llbracket {p_{11} \\oplus p_{12}} \\rrbracket}\\ *\\ p_{11}'\\ \\texttt{in} \\      \\\\\n\\texttt{let}\\ y_2\\ \\texttt{=}\\ p_{21} \\oplus p_{22}\\ \\texttt{in} \\  \\\\\n\\texttt{let}\\ y_2'\\ \\texttt{=}\\ \\sfrac{d\\!}{d p_{21}}\\ {\\llbracket {p_{21} \\oplus p_{22}} \\rrbracket}\\ *\\ p_{22}' + \\sfrac{d\\!}{d p_{22}}\\ {\\llbracket {p_{21} \\oplus p_{22}} \\rrbracket}\\ *\\ p_{21}'\\ \\texttt{in} \\      \\\\\n...                 \\\\\n\\texttt{let}\\ y_n\\ \\texttt{=}\\ p_{n1} \\oplus p_{n2}\\ \\texttt{in} \\  \\\\\n\\texttt{let}\\ y_n'\\ \\texttt{=}\\ \\sfrac{d\\!}{d p_{n1}}\\ {\\llbracket {p_{n1} \\oplus p_{n2}} \\rrbracket}\\ *\\ p_{n2}' + \\sfrac{d\\!}{d p_{n2}}\\ {\\llbracket {p_{n1} \\oplus p_{n2}} \\rrbracket}\\ *\\ p_{n1}'\\ \\texttt{in} \\      \\\\\ny_n' \\\\\n\\end{array}")
('2.1', "\\footnotesize\n\\begin{array}{rll}\n\\textbf{CORE LANGUAGE} \\\\\n\\textbf{Expressions:} && \\texttt{EXP}\\\\\ne &::=& c \\ | \\  x \\  | \\ e \\ + \\ e  \\ |\\  e \\ * \\ e \\ | \\ \\lambda x. \\ e \\ | \\ @\\ e \\ e \\ | \\ \\texttt{let} \\ x \\ = \\ e \\ \\texttt{in} \\ e \\\\\n    &|& \\texttt{fst} \\ e \\ | \\ \\texttt{snd} \\ e \\ | \\ ( e, \\ e ) \\ | \\ \\texttt{ref} \\ e \\ | \\ ! \\ e \\ | \\ e := e \\\\\n    &|& \\texttt{inl} \\ e  \\ | \\ \\texttt{inr} \\ e  \\ | \\ \\texttt{case} \\ e \\ \\texttt{of} \\ x \\Rightarrow e \\ \\texttt{or} \\ x \\Rightarrow e \\\\\n    &|& \\texttt{shift} \\ x \\ \\texttt{in} \\ e \\ | \\ \\langle \\ e \\ \\rangle \\\\\n\\textbf{Values:} && \\texttt{VAL}\\\\\n                 && \\text{structure left abstract}\\\\\n\\\\\n\\textbf{DERIVED CONSTRUCTS} \\\\\n\\textbf{Booleans and conditionals:} \\\\\n\\text{Value: True}   &=& \\texttt{inl} \\ ()   \\\\\n\\text{Value: False}  &=& \\texttt{inr} \\ ()  \\\\\n\\texttt{if} \\ b \\ \\texttt{then} \\ t \\ \\texttt{else} \\ e &=& \\texttt{case} \\ b \\ \\texttt{of} \\ y \\Rightarrow t \\ \\texttt{or} \\ z \\Rightarrow e \\\\\n\\textbf{Loops and recursion:} \\\\\n\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda x. \\ e_1\\ \\texttt{in} \\  e_2 &=& \\texttt{let}\\ f_0\\ \\texttt{=}\\ \\lambda f_1. \\lambda x. \\ \\texttt{let}\\ f\\ \\texttt{=}\\ @\\ f_1 \\ f_1\\ \\texttt{in} \\  e_1\\ \\texttt{in} \\ \\\\\n                                  && \\texttt{let}\\ f\\ \\texttt{=}\\ @\\ f_0 \\ f_0\\ \\texttt{in} \\  e_2\\\\\n                \\text{Loops:} && \\text{expressed as tail recursive functions}\\\\\n\\textbf{Tree data structures:} \\\\\n\\text{Example tree term: } t &=& \\texttt{inr} \\ (\\texttt{inl} \\ 5 , \\texttt{inl} \\ 6 ) \\\\\n\\\\\n\\textbf{Syntactic sugar:} \\\\\n    y_1 \\ \\mathrel{+}= \\ ! \\ y_2 &=& y_1 \\ := \\ ! \\ y_1 \\ + \\ ! \\ y_2 \\\\\n    \\texttt{let}\\ (y, y')\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\ {e_2} &=& \\texttt{let}\\ \\tilde y\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\  \\texttt{let}\\ y\\ \\texttt{=}\\ \\texttt{fst} \\ \\tilde y\\ \\texttt{in} \\  \\texttt{let}\\ y'\\ \\texttt{=}\\ \\texttt{snd} \\ \\tilde y\\ \\texttt{in} \\  e_2 \\\\\n    e_1 \\ ; \\ e_2 &=& \\texttt{let}\\ \\_\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\  e_2 \\\\\n\\\\\n\\end{array}")
('2.1', "\\begin{array}{rll}\n\\textbf{Variable Sugaring:} \\quad \\quad \\hat y &=& (y, y') \\\\\n\\end{array}")
('2.1', "\\begin{array}{rll}\n\\texttt{Transform}(f) &=& \\lambda x. \\ \\texttt{let}\\ \\hat y\\ \\texttt{=}\\ @\\ \\overrightarrow{\\mathcal{D}}\\llbracket {f} \\rrbracket \\ (x, 1)\\ \\texttt{in} \\  \\ y' \\\\\n\\texttt{where} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket: && \\texttt{EXP}\\rightarrow \\texttt{EXP}\\ \\ \\ \\text{is defined as below:} \\\\\n\\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {c} \\rrbracket           &=& c  \\ \\ \\text{if} \\ c \\notin \\mathbb{R}\\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {c} \\rrbracket           &=& \\textcolor[rgb]{0.00,0.00,1.00}{(c, 0)} \\ \\ \\text{if} \\ c \\in \\mathbb{R}\\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {y} \\rrbracket            &=& y \\\\\n\n\\overrightarrow{\\mathcal{D}}\\llbracket {e_1 + e_2} \\rrbracket &=&\n        \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_1\\ \\texttt{=}\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\ }\\\\\n\\ \\ \\ &&\\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_2\\ \\texttt{=}\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\texttt{in} \\ }\\\\\n\\ \\ \\ &&\\textcolor[rgb]{0.00,0.00,1.00}{(y_1 + y_2, y_1' + y_2')} \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {e_1 * e_2} \\rrbracket &=&\n        \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_1\\ \\texttt{=}\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\ } \\\\\n\\ \\ \\ &&\\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_2\\ \\texttt{=}\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\texttt{in} \\ } \\\\\n\\ \\ \\ &&\\textcolor[rgb]{0.00,0.00,1.00}{(y_1 * y_2, y_1 * y_2' + y_1' * y_2)} \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\lambda y. \\ e} \\rrbracket &=& \\lambda y. \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {@\\ e_1 \\ e_2} \\rrbracket &=& @\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\text{let} \\ y = e_1 \\ \\text{in} \\ e_2} \\rrbracket &=&\n \\texttt{let}\\ y\\ \\texttt{=}\\ \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\  \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{fst} \\ e} \\rrbracket &=& \\texttt{fst} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{snd} \\ e} \\rrbracket &=& \\texttt{snd} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{ref} \\ e} \\rrbracket &=& \\texttt{ref} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {! \\ e} \\rrbracket  &=& \\ ! \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {e_1 := e_2} \\rrbracket &=& \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket := \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {(e_1, e_2)} \\rrbracket &=& (\\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket, \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket) \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{inl} \\ e } \\rrbracket &=& \\texttt{inl} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{inr} \\ e } \\rrbracket&=& \\texttt{inr} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overrightarrow{\\mathcal{D}}\\llbracket {\\texttt{case} \\ e \\ \\texttt{of} \\ y_1 \\Rightarrow e_1 \\ \\texttt{or} \\ y_2 \\Rightarrow e_2} \\rrbracket &=&\n    \\texttt{case} \\ \\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\texttt{of} \\ y_1 \\Rightarrow \\overrightarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\texttt{or} \\ y_2 \\Rightarrow \\overrightarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\end{array}")
('2.1', '\\lambda')
('2.1', '\\texttt{inl}')
('2.1', '\\texttt{inr}')
('2.1', '\\texttt{case}')
('2.1', '\\langle \\ . \\ \\rangle')
('2.1', '\\overrightarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket')
('2.1', 'x')
('2.1', 'e')
('2.1', '\\eta')
('2.1', '@\\ \\overrightarrow{\\mathcal{D}}\\llbracket {\\lambda x. e} \\rrbracket \\ (x, 1)')
('2.1', '\\overrightarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket')
('2.1', 'x')
('2.1', '\\overrightarrow{\\mathcal{D}}\\llbracket {x} \\rrbracket')
('2.3', '\\text{min}_x \\text{max}_y f(x, y)')
('3', 'f\\!:\\!\\mathbb{R}^n \\to \\mathbb{R}')
('3', 'n')
('3', 'O(n)')
('3', 'f\\!:\\mathbb{R}^n \\to \\mathbb{R}')
('3', '\\texttt{let}\\ y_j = e_j')
('3', 'x_i')
('3', 'y_m')
('3', 'n * m')
('3', '\\sfrac{d\\!}{d x_i}\\  y_j')
('3', 'm+n')
('3', '\\sfrac{d\\!}{d y_j}\\  y_m')
('3', '\\sfrac{d\\!}{d x_i}\\  y_m')
('3', '\\sfrac{d\\!}{d y_m}\\  y_m = 1')
('3', 'x_i')
('3', '\\mathbb{R}^n \\to \\mathbb{R}^m')
('3', 'n >> m')
('3', '\\small \\sfrac{d\\!}{d u}\\ f(g(u)) = \\sfrac{d\\!}{d v}\\ f(v) * \\sfrac{d\\!}{d u}\\ g(u) \\ \\text{where } v = g(u)')
('3', 'f(g(u))')
('3', 'u')
('3', 'f(v)')
('3', 'v')
('3', 'v = g(u)')
('3', 'g(u)')
('3', 'u')
('3', 'e_1 * e_2')
('3', '\\begin{array}{ll}\n\\sfrac{d y\\!}{d \\llbracket {e_1} \\rrbracket}\\  &= \\sfrac{d y\\!}{d \\llbracket {e_1 * e_2} \\rrbracket}\\  * \\sfrac{d \\llbracket {u * e_2} \\rrbracket\\!}{d u}\\ \\\\\n\\sfrac{d y\\!}{d \\llbracket {e_2} \\rrbracket}\\  &= \\sfrac{d y\\!}{d \\llbracket {e_1 * e_2} \\rrbracket}\\  * \\sfrac{d \\llbracket {e_1 * u} \\rrbracket\\!}{d u}\\ , \\ \\text{where } u \\ \\text{is fresh variable} \\\\\n\\end{array}')
('3', 'y')
('3', '\\llbracket {e_1} \\rrbracket')
('3', 'y')
('3', '\\llbracket {e_1 * e_2} \\rrbracket')
('3', '\\llbracket {e_1} \\rrbracket')
('3', '\\llbracket {e_1} \\rrbracket')
('3', 'y')
('3', '\\llbracket {e_2} \\rrbracket')
('3', 'y')
('3', '\\llbracket {e_1 * e_2} \\rrbracket')
('3', '\\llbracket {e_2} \\rrbracket')
('3', '\\llbracket {e_2} \\rrbracket')
('3', 'y')
('3', 'f(g(u))')
('3', '\\llbracket {e_1} \\rrbracket')
('3', 'u')
('3', 'y')
('3', 'f(v)')
('3', '\\llbracket {e_1 * e_2} \\rrbracket')
('3', 'v')
('3', '\\llbracket {u * e_2} \\rrbracket')
('3', 'g(u)')
('3', 'e_1')
('3', 'e_2')
('3', 'x')
('3', 'y')
('3', 'x')
('3', '\\sfrac{d y\\!}{d \\llbracket {x} \\rrbracket}\\ ')
('3', '\\sfrac{d y\\!}{d \\llbracket {e_1} \\rrbracket}\\ ')
('3', '\\sfrac{d y\\!}{d \\llbracket {e_2} \\rrbracket}\\ ')
('3', '\\mathrel{+}=')
('3', 'y = 2 * x + x * x * x')
('3', "\\begin{array}{rll}\n\\text{Simple running example:} \\ x \\text{ is input} \\\\\ny = 2 * x + x * x * x \\ \\text{where}\\ x' = \\texttt{ref} \\ 0 \\\\\n\\textbf{Forward pass:} \\quad \\quad \\quad             &&  \\quad \\quad \\quad \\textbf{Backward pass:} \\\\\n\\texttt{let}\\ (y_1, y_1')\\ \\texttt{=}\\ (2 * x, \\ \\texttt{ref} \\ 0)\\ \\texttt{in} \\      \\ \\Downarrow  && \\Uparrow \\  x' \\mathrel{+}= \\ ! y_1' * 2;  \\\\\n\\texttt{let}\\ (y_2, y_2')\\ \\texttt{=}\\ (x * x, \\ \\texttt{ref} \\ 0)\\ \\texttt{in} \\      \\ \\Downarrow  && \\Uparrow \\  x' \\mathrel{+}= \\ ! y_2' * x; \\ x' \\mathrel{+}= \\ ! y_2' * x; \\\\\n\\texttt{let}\\ (y_3, y_3')\\ \\texttt{=}\\ (y_2 * x,\\  \\texttt{ref} \\ 0)\\ \\texttt{in} \\    \\ \\Downarrow  && \\Uparrow \\  y_2' \\mathrel{+}=\\ ! y_3' * x;\\  x' \\mathrel{+}= \\ ! y_3' * y_2; \\\\\n\\texttt{let}\\ (y_4, y_4')\\ \\texttt{=}\\ (y_1 + y_3,\\  \\texttt{ref} \\ 0)\\ \\texttt{in} \\  \\ \\Downarrow  && \\Uparrow \\ y_1' \\mathrel{+}=\\ ! y_4';\\  y_3' \\mathrel{+}=\\ ! y_4'; \\\\\n                                y_4'   &:=& 1.0; \\\\\n\\end{array}")
('3', "\\begin{array}{ll}\n&\\text{General straight-line example:} \\ x \\text{ is input and } x' = \\texttt{ref} \\ 0 \\\\\n&\\text{We denote } p_{tk} \\text{ as the } k \\text{th parameter of } t \\text{th computation, where } p_{tk} \\in \\{c\\} \\cup \\{x\\} \\cup \\{y_j | j < t\\} \\\\\n\\end{array}")
('3', "\\begin{array}{rll}\n\\textbf{Forward pass:}  \\quad \\quad \\quad \\quad                && \\quad \\quad \\quad \\quad \\textbf{Backward pass:} \\\\\n\\texttt{let}\\ (y_1, y_1')\\ \\texttt{=}\\ (p_{11} \\oplus p_{12}, \\texttt{ref} \\ 0)\\ \\texttt{in} \\  \\ \\Downarrow && \\Uparrow p_{11}' \\mathrel{+}= \\sfrac{d\\!}{d p_{11}}\\ {\\llbracket {p_{11} \\oplus p_{12}} \\rrbracket}\\ *\\ !y_1'; \\\n                                                                           p_{12}' \\mathrel{+}= \\sfrac{d\\!}{d p_{12}}\\ {\\llbracket {p_{11} \\oplus p_{12}} \\rrbracket}\\ *\\ !y_1';\\\\\n\\texttt{let}\\ (y_2, y_2')\\ \\texttt{=}\\ (p_{21} \\oplus p_{22}, \\texttt{ref} \\ 0)\\ \\texttt{in} \\  \\ \\Downarrow && \\Uparrow p_{21}' \\mathrel{+}= \\sfrac{d\\!}{d p_{21}}\\ {\\llbracket {p_{21} \\oplus p_{22}} \\rrbracket}\\ *\\ !y_2'; \\\n                                                                           p_{22}' \\mathrel{+}= \\sfrac{d\\!}{d p_{22}}\\ {\\llbracket {p_{21} \\oplus p_{22}} \\rrbracket}\\ *\\ !y_2';\\\\\n...                                               \\ \\Downarrow && \\Uparrow ...                            \\\\\n\\texttt{let}\\ (y_n, y_n')\\ \\texttt{=}\\ (p_{n1} \\oplus p_{n2}, \\texttt{ref} \\ 0)\\ \\texttt{in} \\  \\ \\Downarrow && \\Uparrow p_{n1}' \\mathrel{+}= \\sfrac{d\\!}{d p_{n1}}\\ {\\llbracket {p_{n1} \\oplus p_{n2}} \\rrbracket}\\ *\\ !y_n'; \\\n                                                                           p_{n2}' \\mathrel{+}= \\sfrac{d\\!}{d p_{n2}}\\ {\\llbracket {p_{n1} \\oplus p_{n2}} \\rrbracket}\\ *\\ !y_n';\\\\\n                                                      y_n'    &:=&     1.0;   \\\\\n\\end{array}")
('3', 'k_1')
('3', 'k_2')
('3', 'k_n')
('3', 'k_1, k_2, ... , k_n')
('3.0', 'k')
('3.0', '\\mathrel{+}=')
('3.0', 'y = 2*x + x*x*x')
('3.1', "\\footnotesize\n\\begin{array}{rll}\n\\texttt{Transform}(f) &=& \\lambda x. \\ \\texttt{let}\\ \\hat x\\ \\texttt{=}\\ (x, \\texttt{ref} \\ 0)\\ \\texttt{in} \\  \\\\\n                       && \\quad \\ \\ \\ \\langle \\ \\texttt{let}\\ \\hat z\\ \\texttt{=}\\ @\\ \\overleftarrow{\\mathcal{D}}\\llbracket {f} \\rrbracket\\ \\hat x\\ \\texttt{in} \\  z' := 1.0 \\ \\rangle; \\\\\n                       && \\quad \\ \\ \\ ! \\ x' \\\\\n     \\texttt{where } \\overleftarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket: && \\texttt{EXP}\\rightarrow \\texttt{EXP}\\ \\ \\ \\text{is defined as below:} \\\\\n     \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket          &=& c \\ \\ \\text{if} \\ c \\notin \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket          &=& \\textcolor[rgb]{0.00,0.00,1.00}{(c, \\texttt{ref} \\ 0)} \\ \\ \\text{if} \\ c \\in \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { y } \\rrbracket                &=& y \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 + e_2 } \\rrbracket &=& \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_1\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_2\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{shift } k \\text{ in } \\texttt{let}\\ \\hat y\\ \\texttt{=}\\ (y_1 + y_2, \\texttt{ref} \\ 0)\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad @\\ k \\ \\hat y;} \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad y_1' \\ \\mathrel{+}= \\ ! \\ y';}\\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad y_2' \\ \\mathrel{+}= \\ ! \\ y'}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 * e_2 } \\rrbracket &=& \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_1\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{let}\\ \\hat y_2\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\texttt{shift } k \\text{ in } \\texttt{let}\\ \\hat y\\ \\texttt{=}\\ (y_1 * y_2, \\texttt{ref} \\ 0)\\ \\texttt{in} \\ } \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad @\\ k \\ \\hat y;} \\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad y_1' \\ \\mathrel{+}= \\ ! \\ y' * y_2;}\\\\\n                       && \\textcolor[rgb]{0.00,0.00,1.00}{\\quad \\quad \\quad \\quad \\quad y_2' \\ \\mathrel{+}= \\ ! \\ y' * y_1}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { \\lambda y. \\ e } \\rrbracket &=& \\lambda y. \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {@\\ e_1 \\ e_2} \\rrbracket            &=& @\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{let}\\ y\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\  e_2} \\rrbracket &=& \\texttt{let}\\ y\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\texttt{in} \\  \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{fst} \\ e} \\rrbracket &=& \\texttt{fst} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{snd} \\ e} \\rrbracket &=& \\texttt{snd} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{ref} \\ e} \\rrbracket &=& \\texttt{ref} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {! \\ e} \\rrbracket &=& ! \\ {\\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket} \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {e_1 := e_2} \\rrbracket &=& \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket := \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {(e_1, e_2)} \\rrbracket &=& (\\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket, \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inl} \\ e } \\rrbracket &=& \\texttt{inl} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inr} \\ e } \\rrbracket &=& \\texttt{inr} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{case} \\ e \\ \\texttt{of} \\ y_1 \\Rightarrow e_1 \\ \\texttt{or} \\ y_2 \\Rightarrow e_2} \\rrbracket\n&=& \\texttt{case} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\texttt{of} \\ y_1 \\Rightarrow \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\texttt{or} \\ y_2 \\Rightarrow \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\end{array}")
('3.1', "\\footnotesize\n\\begin{array}{rll}\n\\texttt{Transform}(f) &=& \\underline \\lambda x. \\ \\underline{\\texttt{let}}\\ \\hat x\\ \\texttt{=}\\ \\underline{(} x \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\  \\\\\n                       && \\quad \\quad \\underline{@} \\ (\\underline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {f} \\rrbracket \\ \\hat x) \\ (\\uwave{\\lambda\\text{ }}z. \\ \\underline{\\texttt{let}}\\ \\hat z\\ \\texttt{=}\\ z\\ \\underline{\\texttt{in}} \\  z' \\ \\underline{:=}\\ 1.0) \\underline{;} \\\\\n                       && \\quad \\ \\ \\ \\ \\underline{!} \\ x' \\ \\\\\n          \\texttt{where } \\overleftarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket: && \\texttt{EXP}\\rightarrow \\texttt{EXP}\\ \\ \\ \\text{is defined as below:} \\\\\n                       \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket          &=& c \\ \\ \\text{if} \\ c \\notin \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket          &=& \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{(} c \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}} \\ \\ \\text{if} \\ c \\in \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { y } \\rrbracket                &=& y \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 + e_2 } \\rrbracket &=& \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{let}}\\ \\hat y_1\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_2\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y\\ \\texttt{=}\\ \\underline{(} \\ y_1 \\ \\underline{+} \\ y_2 \\  \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ k \\ \\hat y \\underline{;}} \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{y_1' \\ \\underline{\\mathrel{+}=} \\ \\ \\underline{!} \\ y'\\underline{;}} \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{y_2' \\ \\underline{\\mathrel{+}=} \\ \\ \\underline{!} \\ y'} \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 * e_2 } \\rrbracket &=& \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{let}}\\ \\hat y_1\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_2\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y\\ \\texttt{=}\\ \\underline{(} \\ y_1 \\ \\underline{*} \\ y_2 \\  \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\ } \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ k \\ \\hat y\\underline{;}} \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{y_1' \\ \\underline{\\mathrel{+}=} \\ \\ \\ \\underline{!} \\ y' \\ \\underline{*} \\ y_2 \\ \\underline{;}} \\\\\n                       && \\quad \\quad \\quad \\quad \\ \\ \\ \\textcolor[rgb]{0.00,0.00,1.00}{y_2' \\ \\underline{\\mathrel{+}=} \\ \\ \\ \\underline{!} \\ y' \\ \\underline{*} \\ y_1 \\ } \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { \\lambda y. \\ e } \\rrbracket &=& \\underline \\lambda y. \\ \\underline \\lambda k.\n                                    \\ \\overline \\langle \\ \\uwave{@\\ } \\ k \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\overline \\rangle \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { \\ @\\ e_1 \\ e_2} \\rrbracket &=& \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{@} \\ (\\underline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket)(\\uwave{\\lambda\\text{ }}a. \\overline{@} \\ k \\ a) \\\\\n\\#  \\ \\ \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{let}\\ y\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\  e_2} \\rrbracket &=& \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{let}}\\ y\\ \\texttt{=}\\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket\\ \\underline{\\texttt{in}} \\ {\\overline \\langle \\ \\overline{@} \\ k \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\ \\overline \\rangle} \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{fst} \\ e} \\rrbracket &=& \\underline{\\texttt{fst}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{snd} \\ e} \\rrbracket &=& \\underline{\\texttt{snd}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{ref} \\ e} \\rrbracket &=& \\underline{\\texttt{ref}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {! \\ {e}} \\rrbracket &=& \\ \\underline{!} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {e_1 := e_2} \\rrbracket &=& \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\underline{:=} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {(e_1, e_2)} \\rrbracket &=& \\underline{(} \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\underline{,} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\underline{)} \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inl} \\ e } \\rrbracket  &=& \\underline{\\texttt{inl}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inr} \\ e } \\rrbracket &=& \\underline{\\texttt{inr}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket  \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{case} \\ e \\ \\texttt{of} \\ y_1 \\Rightarrow e_1 \\ \\texttt{or} \\ y_2 \\Rightarrow e_2} \\rrbracket &=&\n     \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\uwave{\\texttt{let}}\\ k_1\\ \\texttt{=}\\ \\uwave{\\lambda\\text{ }}a. \\ \\overline{@} \\ k \\ a\\ \\uwave{\\texttt{in}} \\ \\\\\n  && \\underline{\\texttt{case}} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\underline{\\texttt{of}} \\ y_1 \\Rightarrow \\overline \\langle \\ \\uwave{@\\ } \\ k_1 \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\overline \\rangle \\ \\underline{\\texttt{or}} \\ y_2 \\Rightarrow \\overline \\langle \\ \\uwave{@\\ } \\ k_1 \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\ \\overline \\rangle \\\\\n\\textbf{normalization rules for wavy underline}: \\\\\n\\uwave{\\lambda\\text{ }}y. \\ \\uwave{@\\ } \\ e \\ y &\\rightarrow& e \\\\\n\\uwave{\\texttt{let}}\\ y\\ \\texttt{=}\\ y_1\\ \\uwave{\\texttt{in}} \\  e       &\\rightarrow& e[y \\leftarrow y_1]\n\\end{array}")
('3.1', '\\overline \\lambda p_1')
('3.1', '\\overline \\lambda p_2')
('3.1', "y_1, y_1', y_2")
('3.1', "y_2'")
('3.1', "\\footnotesize\n\\begin{array}{rll}\n\\texttt{Transform}(f) &=& \\underline \\lambda x. \\ \\underline{\\texttt{let}}\\ \\hat x\\ \\texttt{=}\\ \\underline{(} x \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\  \\\\\n                       && \\quad \\ \\ \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {f} \\rrbracket \\ (\\overline \\lambda m. \\ \\underline{@} \\ ( \\underline{@} \\ m \\ \\hat x) \\ (\\uwave{\\lambda\\text{ }}z. \\ \\underline{\\texttt{let}}\\ \\hat z\\ \\texttt{=}\\ z\\ \\underline{\\texttt{in}} \\  z' \\ \\underline{:=} \\ 1.0))\\underline{;} \\\\\n                       && \\quad \\ \\ \\ \\ \\underline{!} \\ x' \\ \\\\\n          \\texttt{where } \\overleftarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket: && \\texttt{EXP}\\rightarrow \\texttt{EXP}\\ \\ \\ \\text{is defined as below:} \\\\\n                       \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket         &=& \\overline \\lambda \\kappa.\\ \\overline{@} \\ \\kappa \\ c \\ \\ \\text{if} \\ c \\notin \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { c } \\rrbracket         &=& \\overline \\lambda \\kappa.\\ \\overline{@} \\ \\kappa \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{(} c \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}} \\ \\ \\text{if} \\ c \\in \\mathbb{R}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { y } \\rrbracket         &=& \\overline \\lambda \\kappa.\\ \\overline{@} \\ \\kappa \\ y \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 + e_2 } \\rrbracket &=& \\overline \\lambda \\kappa. \\\n                         \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda p_1. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket(\\overline \\lambda p_2.} \\ \\ \\#\\# \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_1\\ \\texttt{=}\\ p_1\\ \\underline{\\texttt{in}} \\ } \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_2\\ \\texttt{=}\\ p_2\\ \\underline{\\texttt{in}} \\ } \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y\\ \\texttt{=}\\ \\underline{(} \\ y_1 \\ \\underline{+} \\ y_2 \\  \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\ } \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ \\kappa \\ \\hat y\\underline{;}}\\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{y_1' \\ \\underline{\\mathrel{+}=} \\ \\ \\underline{!} \\ y'\\underline{;}}\\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{y_2' \\ \\underline{\\mathrel{+}=} \\ \\ \\underline{!} \\ y'))}\\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { e_1 * e_2 } \\rrbracket &=& \\overline \\lambda \\kappa. \\\n                         \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda p_1. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket(\\overline \\lambda p_2.} \\ \\ \\#\\# \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_1\\ \\texttt{=}\\ p_1\\ \\underline{\\texttt{in}} \\ } \\ \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y_2\\ \\texttt{=}\\ p_2\\ \\underline{\\texttt{in}} \\ } \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\underline{\\texttt{let}}\\ \\hat y\\ \\texttt{=}\\ \\underline{(} \\ y_1 \\ \\underline{*} \\ y_2 \\  \\ \\underline{,} \\ \\underline{\\texttt{ref}} \\ 0 \\underline{)}\\ \\underline{\\texttt{in}} \\ } \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{\\overline{@} \\ \\kappa \\ \\hat y\\underline{;}} \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{y_1' \\ \\underline{\\mathrel{+}=} \\ \\ \\ \\underline{!} \\ y' \\ \\underline{*} \\ y_2 \\ \\underline{;}} \\\\\n                      && \\quad \\quad \\textcolor[rgb]{0.00,0.00,1.00}{y_2' \\ \\underline{\\mathrel{+}=} \\ \\ \\ \\underline{!} \\ y' \\ \\underline{*} \\ y_1 \\ ))} \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { \\lambda y. \\ e } \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\kappa \\ (\\underline \\lambda y. \\ \\underline \\lambda k.\n                                  \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket (\\overline{\\lambda\\text{ }}m. \\ \\uwave{@\\ } \\ k \\ m)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket { \\ @\\ e_1 \\ e_2} \\rrbracket\n&=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda m. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket(\\overline \\lambda n. \\\n    \\underline{@} \\ (\\ \\underline{@} \\ m \\ n) \\ (\\uwave{\\lambda\\text{ }}a. \\ \\overline{@} \\ \\kappa \\ a))) \\\\\n\\#  \\ \\ \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{let}\\ y\\ \\texttt{=}\\ e_1\\ \\texttt{in} \\  e_2} \\rrbracket\n&=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda y_1. \\ \\underline{\\texttt{let}}\\ y\\ \\texttt{=}\\ y_1\\ \\underline{\\texttt{in}} \\  \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\ \\kappa) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{fst} \\ e} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\underline{\\texttt{fst}} \\ y)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{snd} \\ e} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\underline{\\texttt{snd}} \\ y)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{ref} \\ e} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\underline{\\texttt{ref}} \\ y)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {! \\ {e}} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\ \\underline{!} \\ y)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {e_1 := e_2} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda y_1. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\n   (\\overline \\lambda y_2. \\ \\overline{@} \\ \\kappa \\ ( y_1 \\ \\underline{:=} \\ y_2))) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {(e_1, e_2)} \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline \\lambda y_1. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket\n   (\\overline \\lambda y_2. \\ \\overline{@} \\ \\kappa \\ (\\underline{(} y_1 \\ \\underline{,} \\ y_2 \\underline{)}))) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inl} \\ e } \\rrbracket  &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\underline{\\texttt{inl}} \\ y)) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{inr} \\ e } \\rrbracket &=& \\overline \\lambda \\kappa. \\ \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda y. \\ \\overline{@} \\ \\kappa \\ (\\underline{\\texttt{inr}} \\ y )) \\\\\n\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{case} \\ e \\ \\texttt{of} \\ y_1 \\Rightarrow e_1 \\ \\texttt{or} \\ y_2 \\Rightarrow e_2} \\rrbracket\n&=& \\overline \\lambda \\kappa. \\ \\uwave{\\texttt{let}}\\ k\\ \\texttt{=}\\ \\uwave{\\lambda\\text{ }}a. \\ \\overline{@} \\ \\kappa \\ a\\ \\uwave{\\texttt{in}} \\  \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket(\\overline \\lambda v. \\\n                                \\underline{\\texttt{case}} \\ v \\\\\n                      &&\\underline{\\texttt{of}} \\ y_1 \\Rightarrow \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket(\\overline{\\lambda\\text{ }}m. \\ \\uwave{@\\ } \\ k \\ m) \\\\\n                      &&\\underline{\\texttt{or}} \\ y_2 \\Rightarrow \\overline{@} \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket(\\overline{\\lambda\\text{ }}n. \\ \\uwave{@\\ } \\ k \\ n)) \\\\\n\\end{array}")
('3.2', '\\overleftarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket')
('3.2', 'x')
('3.2', '\\overleftarrow{\\mathcal{D}}\\llbracket {.} \\rrbracket')
('3.2', 'x')
('3.2', '\\lambda x. e')
('3.2', '\\texttt{case}')
('3.2', '\\text{shift/reset}')
('3.3', 'x \\mapsto (v, dy/dv \\mapsto dy/dx)')
('3.4', '\\texttt{tape()}')
('3.6', '\\mathbb{R}^m \\rightarrow \\mathbb{R}^n')
('3.6', 'n')
('3.6', 'm')
('4.0.0', 'y = 2 * x + x * x * x')
('4.0.0', 'x')
('4.2', '\\texttt{case}')
('4.2', '\\texttt{case}')
('4.3', '\\texttt{letrec}')
('4.3', '\\texttt{letrec}')
('4.3', '\\texttt{let}')
('4.3', '\\lambda')
('4.3', '@\\ ')
('4.3', '\\texttt{case}')
('4.3', '\\texttt{letrec}')
('4.3', '\\# \\ \\ \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda x. e_1\\ \\texttt{in} \\  e_2} \\rrbracket = \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{letrec}}\\ f\\ \\texttt{=}\\ \\underline{\\lambda\\text{ }}x. \\underline{\\lambda\\text{ }}k_1. \\overline \\langle \\ \\uwave{@\\ } \\ k_1 \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_1} \\rrbracket \\ \\overline \\rangle\\ \\underline{\\texttt{in}} \\  \\overline \\langle \\ \\overline{@} \\ k \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e_2} \\rrbracket \\ \\overline \\rangle')
('4.3', 'k_1')
('4.3', '\\texttt{apply}')
('4.3', 'f')
('4.3', '\\# \\ \\ \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda x. e\\ \\texttt{in} \\  @\\ f y} \\rrbracket = \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{letrec}}\\ f\\ \\texttt{=}\\ \\underline{\\lambda\\text{ }}x. \\overline \\langle \\ \\overline{@} \\ k \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\overline \\rangle\\ \\underline{\\texttt{in}} \\  \\underline{@} \\ f \\ y')
('4.3', 'e')
('4.4', '\\texttt{letrec}')
('4.4', '\\lambda y. \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda t. \\ e\\ \\texttt{in} \\  @\\ f y} \\rrbracket')
('4.4', '\\begin{array}{rll}\n& &\\overline{\\lambda\\text{ }}y. \\ \\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda t. \\ e\\ \\texttt{in} \\  @\\ f y} \\rrbracket \\\\\n&=&\\overline{\\lambda\\text{ }}y. \\ \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{letrec}}\\ f\\ \\texttt{=}\\ \\underline{\\lambda\\text{ }}t.\\ \\underline{\\lambda\\text{ }}k_1. \\ \\overline \\langle \\ \\uwave{@\\ } \\ k_1 \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket \\ \\overline \\rangle\\ \\underline{\\texttt{in}} \\  \\underline{@} \\ (\\underline{@} \\ f \\ y) \\ (\\uwave{\\lambda\\text{ }}a. \\ \\overline{@} \\ k \\ a) \\\\\n&=&\\overline{\\lambda\\text{ }}y. \\ \\overline{\\texttt{shift}} \\ k \\ \\overline{\\texttt{in}} \\ \\underline{\\texttt{letrec}}\\ f\\ \\texttt{=}\\ \\underline{\\lambda\\text{ }}\\hat t.\\ \\underline{\\lambda\\text{ }}k_1. \\ \\overline \\langle \\ \\uwave{@\\ } \\ k_1 \\ (\\overline{@} \\ \\textcolor[rgb]{0.00,0.00,1.00}{(\\overline{\\lambda\\text{ }}t. \\ \\overleftarrow{\\mathcal{D}}\\llbracket {e} \\rrbracket)} \\ \\hat t) \\ \\overline \\rangle\\ \\underline{\\texttt{in}} \\  \\underline{@} \\ (\\underline{@} \\ f \\ y) \\ (\\uwave{\\lambda\\text{ }}a. \\ \\overline{@} \\ k \\ a) \\\\\n\\end{array}')
('4.4', '\\overline{\\texttt{f}}')
('4.4', '\\footnotesize{\\overleftarrow{\\mathcal{D}}\\llbracket {\\texttt{letrec}\\ f\\ \\texttt{=}\\ \\lambda t. \\ e\\ \\texttt{in} \\  @\\ f\\ t} \\rrbracket}')
('5.0', 'i')
('5.0', '\\ h_i = \\text{Bi-LSTM}(\\text{Embedding}(i.\\text{word}), h_{i.\\text{left}}, h_{i.\\text{right}})')
('5.0', 'h_i')
('5.0', 'i')
('5.0', 'i.\\text{word}, \\ i.\\text{left}, \\ i.\\text{right}')
('5.0', 'i')
('5.2', '\\sim')
