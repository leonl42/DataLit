\partial
\partial
\partial
\partial
\alpha
G
C^{*}
\mathcal{O}(G\times C^{*})
\mathcal{O}(G+C^{*})
\mathcal{L}
(\mathcal{P},\mathcal{A},\mathcal{F},\mathcal{V})
\mathcal{P}
\mathcal{A}
\mathcal{F}
\mathcal{V}
n
{\tt p}
{\tt p}/n
{\tt p(t_{1},\ldots,t_{n})}
{\tt p}
n
{\tt t_{1},\ldots,t_{n}}
\lor
A,B_{1},\ldots,B_{n}
A\lor\lnot B_{1}\lor\ldots\lor\lnot B_{n}
A~{}\mbox{:-}~{}B_{1},\ldots,B_{n}
A
\{B_{1},\ldots,B_{n}\}
\mathit{true}
\top
\mathit{false}
\bot
\theta=\{\tt X_{1}=t_{1},...,X_{n}=t_{n}\}
{\tt t_{i}}
{\tt X_{i}}
\theta
A
A\theta
F
G
\lnot F
F\land G
F\lor G
\mathcal{L}
(\mathcal{D},\mathcal{I}_{\mathcal{A}},\mathcal{I}_{\mathcal{F}},\mathcal{I}_{%
\mathcal{P}})
\mathcal{D}
\mathcal{I}_{\mathcal{A}}
\mathcal{D}
{\tt a}\in\mathcal{A}
\mathcal{I}_{\mathcal{F}}
\mathcal{D}^{n}
\mathcal{D}
n
{\tt f}\in\mathcal{F}
\mathcal{I}_{\mathcal{P}}
\mathcal{D}^{n}
\{\top,\bot\}
n
{\tt p}\in\mathcal{P}
\mathcal{L}
X
\mathcal{I}
X
\mathcal{I}
X
\mathcal{H}
\mathcal{H}\models X
\mathcal{I}
\mathcal{H}
\mathcal{I}
X
\mathcal{I}
\mathcal{L}
T_{\mathcal{C}}
\mathcal{C}
T_{\mathcal{C}}
\mathcal{C}
\mathcal{G}
T_{\mathcal{C}}(\mathcal{G})=\mathcal{G}\cup\left\{A~{}\middle|~{}\begin{%
aligned} &A~{}\mbox{:-}~{}B_{1},\ldots,B_{n}\in\mathcal{C}^{*}\\
&(\{B_{1}\ldots,B_{n}\}\subseteq\mathcal{G})\end{aligned}\right\},
\mathcal{C}^{*}
\mathcal{C}
\mathcal{G}
T_{\mathcal{C}}
G
C
C^{*}
\mathbf{I}\in\mathbb{N}^{G\times C^{*}}
(\mathsf{G},\mathbf{x}_{\mathit{node}},\mathbf{x}_{\mathit{edge}})
\mathsf{G}
\mathbf{x}_{\mathit{node}}
\mathbf{x}_{\mathit{edge}}
\displaystyle x_{i}^{(t+1)}=f_{\mathit{update}}\left(x_{i}^{(t)},\bigoplus%
\nolimits_{j\in\mathcal{N}(i)}c_{ji}\cdot x_{j}^{(t)}\right),
\displaystyle x_{i}^{(t+1)}=f_{\mathit{update}}\left(x_{i}^{(t)},\bigoplus%
\nolimits_{j\in\mathcal{N}(i)}c_{ji}\cdot x_{j}^{(t)}\right),
t\in\mathbb{N}
x_{i}^{(t)}
\mathsf{x_{i}}
t
\mathcal{N}(i)
\mathsf{x_{i}}
c_{ji}
\bigoplus
\mathbf{x}_{\mathit{atom}}^{(0)}
\mathbf{x}_{\mathit{atom}}^{(0)}
T
\mathbf{x}_{\mathit{atom}}^{(T)}
\mathbf{x}_{\mathit{atom}}^{(0)}
(\mathcal{V}_{\mathcal{G}},\mathcal{V}_{\land},\mathcal{E}_{\mathcal{G}%
\rightarrow\land},\mathcal{E}_{\land\rightarrow\mathcal{G}})
\mathcal{V}_{\mathcal{G}}
\mathcal{V}_{\land}
\mathcal{E}_{\mathcal{G}\rightarrow\land}
\mathcal{E}_{\land\rightarrow\mathcal{G}}
\mathcal{G}
\top
\mathtt{r(X)\texttt{:-}}
\mathcal{C}^{*}
C^{*}_{i}\in\mathcal{C}^{*}
\mathsf{X}
X
\mathcal{C}
\mathcal{G}
\mathcal{L}
\mathsf{RG}\leftarrow{\tt init}(\mathcal{G})
\top
\mathcal{G}
\mathcal{C}^{*}\leftarrow\texttt{ground\_clauses}(\mathcal{C},\mathcal{L})
\mathcal{C}
C^{*}_{i}=A~{}\mbox{:-}~{}B_{1},\ldots,B_{n}\in\mathcal{C}^{*}
\mathsf{C^{*}_{i}}
\mathsf{RG}
B_{j}\in[B_{1},\ldots,B_{n}]
(\mathsf{B_{j}},\mathsf{C^{*}_{i}})
\mathsf{RG}
(\mathsf{C^{*}_{i}},\mathsf{A})
\mathsf{RG}
\mathsf{RG}
\rightarrow
\mathsf{v_{i}}\in\mathcal{V}_{\land}
\displaystyle v_{i}^{(t+1)}=\bigvee\left(v_{i}^{(t)},\bigwedge\nolimits_{j\in%
\mathcal{N}(i)}v_{j}^{(t)}\right),
\displaystyle v_{i}^{(t+1)}=\bigvee\left(v_{i}^{(t)},\bigwedge\nolimits_{j\in%
\mathcal{N}(i)}v_{j}^{(t)}\right),
\bigwedge
\bigvee
\leftarrow
\mathsf{v_{i}}\in\mathcal{V}_{\mathcal{G}}
\displaystyle v_{i}^{(t+1)}=\bigvee\left(v_{i}^{(t)},\bigvee\nolimits_{j\in%
\mathcal{N}(i)}w_{ji}\cdot v_{j}^{(t)}\right),
\displaystyle v_{i}^{(t+1)}=\bigvee\left(v_{i}^{(t)},\bigvee\nolimits_{j\in%
\mathcal{N}(i)}w_{ji}\cdot v_{j}^{(t)}\right),
w_{ji}
e_{j\rightarrow i}
C_{k}\in\mathcal{C}
\theta_{k}
w_{ji}=\theta_{k}
e_{j\rightarrow i}
C_{k}
\displaystyle\mathit{softor}^{\gamma}(x_{1},\ldots,x_{n})=\gamma\log\sum_{1%
\leq i\leq n}\exp(x_{i}/\gamma),
\displaystyle\mathit{softor}^{\gamma}(x_{1},\ldots,x_{n})=\gamma\log\sum_{1%
\leq i\leq n}\exp(x_{i}/\gamma),
\gamma>0
x_{1},\ldots,x_{n}
\mathbf{x}_{\mathit{atoms}}^{(0)}\in[0,1]^{|\mathcal{G}|}
\mathsf{RG}
\mathbf{w}
\mathcal{B}
T\in\mathbb{N}
G_{i}\in\mathcal{G}
\displaystyle p(G_{i}~{}|~{}\mathbf{x}_{\mathit{atoms}}^{(0)},\mathsf{RG},%
\mathbf{w},\mathcal{B},T)=\mathbf{x}^{(T)}_{\mathit{atoms}}[i],
\displaystyle p(G_{i}~{}|~{}\mathbf{x}_{\mathit{atoms}}^{(0)},\mathsf{RG},%
\mathbf{w},\mathcal{B},T)=\mathbf{x}^{(T)}_{\mathit{atoms}}[i],
\mathbf{x}_{\mathit{atoms}}^{(T)}\in[0,1]^{|\mathcal{G}|}
T
s
\mathbf{x}_{\mathit{atoms}}^{(0)}
f_{\mathit{perceive}}
\alpha
\mathbf{x}^{(0)}_{\mathit{atoms}}
G_{i}
s
\mathsf{RG}
\mathbf{w}
\mathcal{B}
T
G_{i}
\mathbf{x}_{\mathit{atoms}}^{(0)}=f_{\mathit{perceive}}(s,\mathcal{B})
t\in[1,\ldots,T]
\mathbf{x}_{\mathit{conj}}^{(t)}=\mathit{atom2conj}(\mathbf{x}_{\mathit{atoms}%
}^{(t-1)},\mathsf{RG})
\mathbf{x}_{\mathit{atoms}}^{(t)}=\mathit{conj2atom}(\mathbf{x}_{\mathit{conj}%
}^{(t)},\mathsf{RG},\mathbf{w})
G_{i}
p(G_{i}~{}|~{}\mathbf{x}_{\mathit{atoms}}^{(0)},\mathsf{RG},\mathbf{w},%
\mathcal{B},T)=\mathbf{x}^{(T)}_{\mathit{atoms}}[i]
p(G_{i}~{}|~{}\mathbf{x}_{\mathit{atoms}}^{(0)},\mathsf{RG},\mathbf{w},%
\mathcal{B},T)
\mathcal{G}
\mathcal{C}
\mathcal{C}^{*}
\mathcal{L}
\mathcal{O}\left(|\mathcal{G}|+|\mathcal{C}^{*}|\right)
\mathcal{O}\left(|\mathcal{G}|\times|\mathcal{C}^{*}|\right)
|\mathcal{G}|
|\mathcal{C}^{*}|.
\mathcal{O}(|\mathcal{G}|+|\mathcal{C}^{*}|)
C^{*}=A~{}\text{:-}~{}B_{1},\ldots,B_{n}\in\mathcal{C}^{*}
B_{i}
n
A
\mathcal{O}(|\mathcal{C}^{*}|\times(n+1))
\mathcal{O}(|\mathcal{G}|+|\mathcal{C}^{*}|+|\mathcal{C}^{*}|(n+1))\approx%
\mathcal{O}(|\mathcal{G}|+|\mathcal{C}^{*}|)
\mathbf{I}\in\mathbb{N}^{|\mathcal{G}|\times|\mathcal{C}^{*}|}
\mathcal{O}(|\mathcal{G}|\times|\mathcal{C}^{*}|)
\mathcal{Q}=(\mathcal{E}^{+},\mathcal{E}^{-},\mathcal{B},\mathcal{L},\mathcal{%
Z})
\mathcal{E}^{+}
\mathcal{E}^{-}
\mathcal{B}
\mathcal{L}
\mathcal{Z}
\alpha
\mathcal{C}
\mathcal{C}_{0}
\mathcal{Q}
\mathsf{RG}
\mathbf{w}
\mathcal{B}
\displaystyle L(\mathcal{Q},\mathsf{RG},\mathbf{w})=-\mathbb{E}_{(e,y)\sim%
\mathcal{Q}}[y\log p(y~{}|~{}e,\mathsf{RG},\mathbf{w},\mathcal{B},T)~{}+
\displaystyle L(\mathcal{Q},\mathsf{RG},\mathbf{w})=-\mathbb{E}_{(e,y)\sim%
\mathcal{Q}}[y\log p(y~{}|~{}
\displaystyle e,\mathsf{RG},\mathbf{w},\mathcal{B},T)~{}+
\displaystyle(1-y)\log(1-p(y~{}|~{}e,\mathsf{RG},\mathbf{w},\mathcal{B},T))],
\displaystyle(1-y)\log(1-p(y~{}|~{}e,\mathsf{RG},\mathbf{w},\mathcal{B},T))],
(e,y)
e
y
e
y=1
y=0
p(y~{}|~{}e,\mathsf{RG},\mathbf{w},\mathcal{B},T)
\mathcal{C}
\mathbf{s}\in\mathbb{R}^{|\mathcal{C}|}
\displaystyle\mathbf{s}=-\sum_{\mathcal{X}\sim\mathcal{Q}}\frac{\partial L(%
\mathcal{X},\mathsf{RG},\mathbf{w})}{\partial\mathbf{w}},
\displaystyle\mathbf{s}=-\sum_{\mathcal{X}\sim\mathcal{Q}}\frac{\partial L(%
\mathcal{X},\mathsf{RG},\mathbf{w})}{\partial\mathbf{w}},
\mathcal{X}
\mathsf{RG}
\mathcal{C}
\mathbf{w}\in\mathbb{R}^{|\mathcal{C}|}
\mathbf{w}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,red),shape(O1,%
cube).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,red),shape(O1,%
cube).}
\mathtt{positive(X)\texttt{:-}in(O1,X).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,red).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,red).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,blue).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,blue).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,yellow).}
\displaystyle\mathtt{positive(X)\texttt{:-}in(O1,X),color(O1,yellow).}
\mathcal{C}
\mathcal{Q}
\partial
\alpha
C_{i}\in\mathcal{C}
\alpha
\partial
\mathcal{Q}
\mathcal{C}
\mathbf{s}
\mathcal{C}
\alpha
\partial
\mathcal{X}\sim\mathcal{Q}
\mathcal{Q}
\mathcal{Q}
\mathcal{C}
\mathbf{s}
\mathcal{C}
\alpha
\partial
\mathcal{X}\sim\mathcal{Q}
\mathcal{Q}
\mathbf{s}
\mathbf{s}
\mathbf{g}=-\log(-\log(\mathbf{u}))
\mathbf{u}\sim\mathtt{Uniform}(0,1)
\mathbf{k}=\mathbf{s}+\mathbf{g}
\mathbf{k}
C_{i}\in\mathcal{C}
i=\mathit{argmax}(k_{1},\ldots,k_{|\mathcal{C}|})
C
\mathtt{p(X,Y)\texttt{:-}.}
C
\mathtt{p(X,Y)\texttt{:-}q(X,Y).}
C
\mathtt{p(X,a)\texttt{:-}.}
C
\mathtt{p(X,X)\texttt{:-}.}
\mathtt{p(X,f(Y,Z))\texttt{:-}.}
\mathcal{C}
M
M
\mathcal{C}
|\mathcal{C}|
\mathbf{W}=[{\bf w}^{(1)},\ldots,{\bf w}^{(M)}]~{}(\mathbf{w}^{(j)}\in\mathbb{%
R}^{|\mathcal{C}|})
M
{\bf w}^{(j)}\in\mathbf{W}
M
|\mathcal{C}|
\hat{\mathbf{w}}^{(j)}=\mathit{softmax}(w_{0}^{(j)},\ldots,w_{|\mathcal{C}|}^{%
(j)})
\mathbf{w}\in[0,1]^{|\mathcal{C}|}
\displaystyle w_{i}=\mathit{softor}^{\gamma}\left(\hat{w}_{i}^{(1)},\ldots,%
\hat{w}_{i}^{(M)}\right)=\gamma\log\sum_{1\leq j\leq M}\exp(\hat{w}_{i}^{(j)}/%
\gamma),
\displaystyle w_{i}=\mathit{softor}^{\gamma}\left(\hat{w}_{i}^{(1)},\ldots,%
\hat{w}_{i}^{(M)}\right)=\gamma\log\sum_{1\leq j\leq M}\exp(\hat{w}_{i}^{(j)}/%
\gamma),
\gamma>0
M
3
2
|\mathcal{C}|=3
M=2
2
\hat{\mathbf{w}}^{(1)}=[0.1,0.7,0.2]^{\top}
\hat{\mathbf{w}}^{(2)}=[0.8,0.1,0.1]^{\top}
\mathbf{w}\approx[0.8,0.7,0.2]^{\top}
\displaystyle\mathbf{w}^{*}=\text{argmin}_{\mathbf{w}}L(\mathcal{Q},\mathsf{RG%
},\mathbf{w}),
\displaystyle\mathbf{w}^{*}=\text{argmin}_{\mathbf{w}}L(\mathcal{Q},\mathsf{RG%
},\mathbf{w}),
L
\mathcal{C}
\mathcal{C}
\mathcal{C}_{\mathit{sampled}}
\mathbf{w}
\mathcal{Q}
\mathcal{G}
\mathcal{L}
\mathcal{C}_{0}
\mathcal{Z}
N_{\mathit{trial}}
N_{\mathit{samlpe}}
M
\mathsf{RG}={\tt build\_reasoning\_graph}(\mathcal{C}_{0},\mathcal{G},\mathcal%
{L})
\mathcal{C}_{\mathit{sampled}}=\phi
\mathcal{C}=\mathcal{C}_{0}
N_{\mathit{trial}}
n\in[1,\ldots,N_{\mathit{trial}}]
\mathbf{s}=\mathbf{0}
\mathcal{X}\sim\mathcal{Q}
\beta>0
\mathbf{s}=\mathbf{s}+\beta\cdot(-\nabla_{\mathbf{w}}L(\mathcal{X},\mathsf{RG}%
,\mathbf{w}))
N_{\mathit{sample}}
\mathcal{D}_{\mathit{sampled}}=\phi
n
m\in[1,\ldots,N_{\mathit{sample}}]
N_{\mathit{sample}}
\mathbf{u}\sim\mathtt{Uniform}(0,1)
\mathbf{g}=-\log(-\log(\mathbf{u}))
\mathbf{k}=\mathbf{s}+\mathbf{g}
C_{i}\in\mathcal{C}
i=\mathit{argmax}(k_{1},\ldots,k_{|\mathcal{C}|})
C_{i}
\mathcal{D}_{\mathit{sampled}}
\mathcal{C}=\mathit{downward\_refinement}(\mathcal{D}_{\mathit{sampled}},%
\mathcal{L},\mathcal{Z})
\mathcal{C}_{\mathit{sampled}}=\mathcal{C}_{\mathit{sampled}}\cup\mathcal{D}_{%
\mathit{sampled}}
\mathsf{RG}={\tt build\_reasoning\_graph}(\mathcal{C}_{\mathit{sampled}},%
\mathcal{G},\mathcal{L})
M
\mathbf{w}={\tt initialize\_weights}(\mathcal{C}_{\mathit{sampled}},M)
\mathbf{w}^{*}=\text{argmin}_{\mathbf{w}}L(\mathcal{Q},\mathsf{RG},\mathbf{w})
\mathcal{C}_{\mathit{sampled}},\mathbf{w}^{*}
\partial
\partial
\alpha
\mathcal{O}(N_{\mathit{data}}\times|\mathcal{C}|\times R)
N_{\mathit{data}}
\mathcal{C}
R
\mathcal{C}
\mathcal{O}(N_{\mathit{data}}\times(R+R))\approx\mathcal{O}(N_{\mathit{data}}%
\times R)
R
\mathcal{G}
\mathcal{C}
\mathcal{C}^{*}
N_{\mathit{data}}
R
\mathcal{G}
\mathcal{C}
\mathcal{C}^{*}
N_{\mathit{data}}
R
\partial
\mathcal{O}(|\mathcal{G}|\times|\mathcal{C}^{*}|)
\mathcal{O}(1)
\partial
\mathcal{O}(|\mathcal{G}|\times|\mathcal{C}^{*}|)
\mathcal{O}(N_{\mathit{data}}\times|\mathcal{C}|\times R)
\alpha
\mathcal{O}(|\mathcal{G}|\times|\mathcal{C}^{*}|)
\mathcal{O}(N_{\mathit{data}}\times|\mathcal{C}|\times R)
\mathcal{O}(|\mathcal{G}|+|\mathcal{C}^{*}|)
\mathcal{O}(N_{\mathit{data}}\times R)
\alpha
\partial
\displaystyle\mathtt{1.0:even(s^{2}(X))\texttt{:-}even(X).}
\displaystyle\mathtt{1.0:even(s^{2}(X))\texttt{:-}even(X).}
\mathcal{B}=\{\mathtt{even(0)}\}
\mathtt{s}
2
\mathtt{s(s(0))}
0
\alpha
x
y
5
\mathbf{x}^{(0)}_{\mathit{atoms}},\ldots,\mathbf{x}^{(5)}_{\mathit{atoms}}
\mathtt{even(0),even(s^{2}(0)),\ldots,even(s^{10}(0))}
1.0
\partial
\displaystyle\mathtt{0.51:cyclic(X)\texttt{:-}edge(X,X).}
\displaystyle\mathtt{0.51:cyclic(X)\texttt{:-}edge(X,X).}
\displaystyle\mathtt{0.54:edge(X,Y)\texttt{:-}edge(X,Z),edge(Z,Y).}
\displaystyle\mathtt{0.54:edge(X,Y)\texttt{:-}edge(X,Z),edge(Z,Y).}
\displaystyle\mathcal{B}=\left\{\begin{array}[]{cccc}\mathtt{edge(a,b)},&%
\mathtt{edge(b,c)},&\mathtt{edge(b,d)},&\mathtt{edge(c,a)},\\
\mathtt{edge(d,e)},&\mathtt{edge(d,f)},&\mathtt{edge(e,f)},&\mathtt{edge(f,e)}%
\end{array}\right\}.
\displaystyle\mathcal{B}=\left\{\begin{array}[]{cccc}\mathtt{edge(a,b)},&%
\mathtt{edge(b,c)},&\mathtt{edge(b,d)},&\mathtt{edge(c,a)},\\
\mathtt{edge(d,e)},&\mathtt{edge(d,f)},&\mathtt{edge(e,f)},&\mathtt{edge(f,e)}%
\end{array}\right\}.
\mathtt{cyclic(X)}
\mathtt{X}
\mathtt{X}
\alpha
5
\partial
\partial
\alpha
\alpha
\alpha
\alpha
\alpha
7
\mathtt{kp5(X):-in(O1,X),in(O2,X),in(O3,X),in(O4,X),}
\mathtt{in(O5,X),in(O6,X),in(O7,X),online(O1,O2,O3,O4,O5,O6,O7).}
3
2
\alpha
\alpha
\alpha
\alpha
\alpha
\alpha
3.12\%
\alpha
\alpha
\alpha
\alpha
\alpha
\alpha
\alpha
50.0
52.33
55.0
50.59
99.0
72.93
82.95
80.18
\alpha
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mathbf{100.0}
\mbox{graph\_size}/\mbox{tensor\_size}
\mbox{graph\_size}/\mbox{tensor\_size}
\alpha
\mathbf{6957}
12.4\%
56064
\mathbf{1173}
75.8\%
1548
\mathbf{4079}
3.12\%
130410
\mathbf{15637}
3.13\%
498960
\mathbf{55632}
\%
\alpha
\bullet
\circ
\alpha
\bullet
\circ
\circ 99.55
70.34
98.55
81.71
\bullet 100.00
91.31
\alpha
97.5
\bullet\mathbf{97.52}
96.67
\circ\mathbf{97.43}
<
<
<
<
<
<
\partial
5
\partial
5
\mathtt{member(\vbox{\hbox{\includegraphics[height=10.0pt]{cyan_sphere.png}}},%
[~{}\vbox{\hbox{\includegraphics[height=10.0pt]{red_cylinder.png}}},\vbox{%
\hbox{\includegraphics[height=10.0pt]{gray_sphere.png}}},\vbox{\hbox{%
\includegraphics[height=10.0pt]{cyan_sphere.png}}}~{}])}
\partial
(N_{\mathit{trial}},N_{\mathit{sample}})
(5,10)
\partial
50
1e-2
T=5
3
\partial
\partial
\partial
1.0
\mathtt{query(q\_delete,gray,2nd)}
\mathtt{q\_delete}
\alpha
3
<
<
<
\alpha
\mathtt{chain}
\mathtt{chain([~{}\vbox{\hbox{\includegraphics[height=10.0pt]{rmc.png}}},\vbox%
{\hbox{\includegraphics[height=10.0pt]{gms.png}}},\vbox{\hbox{\includegraphics%
[height=10.0pt]{cmc.png}}}}~{}])
\mathtt{left\_of(\vbox{\hbox{\includegraphics[height=10.0pt]{rmc.png}}},\vbox{%
\hbox{\includegraphics[height=10.0pt]{gms.png}}})}
\mathtt{left\_of(\vbox{\hbox{\includegraphics[height=10.0pt]{gms.png}}},\vbox{%
\hbox{\includegraphics[height=10.0pt]{cmc.png}}})}
\mathtt{scene([red,gray,cyan])}
\mathtt{chain([~{}\vbox{\hbox{\includegraphics[height=10.0pt]{rmc.png}}},\vbox%
{\hbox{\includegraphics[height=10.0pt]{gms.png}}},\vbox{\hbox{\includegraphics%
[height=10.0pt]{cmc.png}}}}~{}])
\mathtt{color(\vbox{\hbox{\includegraphics[height=10.0pt]{rmc.png}}},red)}
\mathtt{color(\vbox{\hbox{\includegraphics[height=10.0pt]{gms.png}}},gray)}
\mathtt{color(\vbox{\hbox{\includegraphics[height=10.0pt]{cmc.png}}},cyan)}
\mathtt{scene}
\mathtt{query2}
\mathtt{query3}
\mathtt{query2(q,q\_sort,2nd)}
\mathtt{chain}
\mathtt{scene}
\mathtt{chain}
\mathtt{scene}
\alpha
\partial
\partial
\alpha
\alpha
\mathbf{0.983}
\mathbf{0.99}
\mathbf{0.984}
\mathbf{0.987}
|\mathcal{G}|
|\mathcal{C}^{*}|
|\mathcal{G}|
|\mathcal{C}^{*}|
131
165
149,162
288
90
1,103,954
0.2
20\%
1.0
1000
20\%
1e-2
(N_{\mathit{trial}},N_{\mathit{sample}})
(4,10)
(6,10)
5000
f
\mathbf{x}
y
\mathbf{e}=\partial y/\partial\mathbf{x}
\mathbf{e}
\mathbf{x}\odot\frac{\partial y}{\partial\mathbf{x}}
\displaystyle\mathbf{e}_{\mathit{atoms}}=\frac{\partial y}{\partial\mathbf{x}_%
{\mathit{atoms}}^{(0)}}=\frac{\partial\mathbf{x}_{\mathit{atoms}}^{(T)}}{%
\partial\mathbf{x}_{\mathit{atoms}}^{(0)}}\cdot\frac{\partial y}{\partial%
\mathbf{x}_{\mathit{atoms}}^{(T)}}.
\displaystyle\mathbf{e}_{\mathit{atoms}}=\frac{\partial y}{\partial\mathbf{x}_%
{\mathit{atoms}}^{(0)}}=\frac{\partial\mathbf{x}_{\mathit{atoms}}^{(T)}}{%
\partial\mathbf{x}_{\mathit{atoms}}^{(0)}}\cdot\frac{\partial y}{\partial%
\mathbf{x}_{\mathit{atoms}}^{(T)}}.
\mathbf{e}_{\mathit{atoms}}
\mathbf{x}^{(0)}_{\mathit{atom}}
\mathbf{z}_{0}
\mathbf{x}_{\mathit{atoms}}^{(0)}
0
\mathbf{x}^{(0)}_{\mathit{atoms}}=\mathbf{x}^{(0)}_{\mathit{atoms}}+\mathbf{z}%
_{0}
\mathbf{z}_{0}
\mathbf{M}_{1},\ldots,\mathbf{M}_{n}
n
\displaystyle E(\mathbf{x})=\sum_{i}\phi_{i}\cdot\mathbf{M}_{i}
\displaystyle E(\mathbf{x})=\sum_{i}\phi_{i}\cdot\mathbf{M}_{i}
\phi_{i}
i
i
\mathcal{J}=\{j_{1},\ldots,j_{m}\}
i
\mathtt{color(obj_{i},red)}
\mathcal{G}
\phi_{i}
\mathbf{M}_{i}
\displaystyle\phi_{i}=\max(\mathbf{e}_{\mathit{atoms}}[j_{1}],\ldots,\mathbf{e%
}_{\mathit{atoms}}[j_{m}]),
\displaystyle\phi_{i}=\max(\mathbf{e}_{\mathit{atoms}}[j_{1}],\ldots,\mathbf{e%
}_{\mathit{atoms}}[j_{m}]),
\mathbf{e}_{\mathit{atoms}}
\mathtt{obj1}
\mathbf{M}_{1}
\mathtt{obj1}
\mathbf{x}^{(0)}_{\mathit{atoms}}
\mathbf{x}^{(0)}_{\mathit{atoms}}
\partial
\partial
\partial
\alpha
X
Y
X
Y
\bot
X
Y
\partial
\partial
50
64
1e-2
\mathtt{sort}
\mathtt{is\_sorted}
\mathtt{sort}
3
(\mathtt{query2(q\_delete,cyan,2nd)},\mathtt{ans(red)})
1.0
0.0
64
1
\alpha
\alpha
3
\mathtt{append}
\mathtt{reverse}
{\tt modeb(1,member(+object,+objcets))}
{\tt modeb(1,delete(+object,+objcets,+objects))}
{\tt modeb(1,is\_sorted(+objects))}
{\tt modeb(1,smaller(+object,+object))}
{\tt modeb(1,permutation(+objects,+objcets))}
512
1e-5
1000
512
1e-5
\alpha
\alpha
64
1e-2
\alpha
500
{\tt kp(X)}~{}\mbox{:-}~{}{\tt in(O1,X),\ldots,in(On,X).}
n
{\tt modeh(1,kp(-image))}
{\tt modeb(\#obj,in(-object,+image))}
{\tt modeb(1,color(+object,\#color))}
{\tt modeb(1,shape(+object,\#shape))}
{\tt modeb(2,same\_color\_pair(+object,+object))}
{\tt modeb(2,same\_shape\_pair(+object,+object))}
{\tt modeb(1,diff\_color\_pair(+object,+object))}
{\tt modeb(1,duff\_shape\_pair(+object,+object))}
{\tt modeb(1,closeby(+object,+object))}
{\tt modeb(1,online(+object,\ldots,+object))}
{\tt modeh(1,ch(-image))}
{\tt modeb(\#obj,in(-object,+image))}
{\tt modeb(1,color(+object,\#color))}
{\tt modeb(1,shape(+object,\#shape))}
{\tt modeb(1,material(+object,\#material))}
{\tt modeb(1,size(+object,\#size))}
{\tt image}
{\tt img}
{\tt object}
{\tt obj1}
{\tt obj2}
\ldots
{\tt obj6}
{\tt color}
{\tt red}
{\tt blue}
{\tt yellow}
{\tt shape}
{\tt square}
{\tt circle}
{\tt triangle}
{\tt image}
{\tt img}
{\tt object}
{\tt obj0}
{\tt obj1}
\ldots
{\tt obj9}
{\tt color}
{\tt cyan}
{\tt blue}
{\tt yellow}
{\tt purple}
{\tt red}
{\tt green}
{\tt gray}
{\tt brown}
{\tt shape}
{\tt sphere}
{\tt cube}
{\tt cylinder}
{\tt size}
{\tt large}
{\tt small}
{\tt material}
{\tt rubber}
{\tt metal}
{\tt kp}/(1,[{\tt image}])
{\tt same\_shape\_pair}/(2,[{\tt object},{\tt object}])
{\tt same\_color\_pair}/(2,[{\tt object},{\tt object}])
{\tt diff\_shape\_pair}/(2,[{\tt object},{\tt object}])
{\tt diff\_color\_pair}/(2,[{\tt object},{\tt object}])
{\tt in}/(2,[{\tt object},{\tt image}])
{\tt shape}/(2,[{\tt object},{\tt shape}])
{\tt color}/(2,[{\tt object},{\tt color}])
{\tt closeby}/(2,[{\tt object},{\tt object}])
{\tt online}/(5,[{\tt object},\ldots,{\tt object}])
{\tt ch}/(1,[{\tt image}])
{\tt in}/(2,[{\tt object},{\tt image}])
{\tt shape}/(2,[{\tt object},{\tt shape}])
{\tt color}/(2,[{\tt object},{\tt color}])
{\tt material}/(2,[{\tt object},{\tt material}])
{\tt material}
{\tt size}/(2,[{\tt object},{\tt size}])
{\tt same\_shape\_pair(X,Y):-shape(X,Z),shape(Y,Z),}
{\tt same\_color\_pair(X,Y):-color(X,Z),color(Y,Z),}
{\tt diff\_shape\_pair(X,Y):-shape(X,Z),shape(Y,W),diff\_shape(Z,W).}
{\tt diff\_color\_pair(X,Y):-color(X,Z),color(Y,W),diff\_color(Z,W),}
{\tt diff\_color(red,blue),diff\_color(blue,red),}
{\tt diff\_color(red,yellow),diff\_color(yellow,red),}
{\tt diff\_color(blue,yellow),diff\_color(yellow,blue).}
{\tt diff\_shape(circle,square),diff\_shape(square,circle),}
{\tt diff\_shape(circle,triangle),diff\_shape(triangle,circle),}
{\tt diff\_shape(square,triangle),diff\_shape(triangle,square).}
\alpha
256
1e-2
\alpha
500
{\tt ch(X)}~{}\mbox{:-}~{}{\tt in(O1,X),in(O2,X)}
15,000
5000
620\times 620
128\times 128
9
2
10
400
0.01
64
0.937
0.0005
3
128\times 128
-1
1
0
1
x
y
z
{\tt modeh(r,p(mdt_{1},\ldots,mdt_{n}))}
{\tt modeb(r,p(mdt_{1},\ldots,mdt_{n}))}
{\tt r}\in\mathbb{N}
{\tt p}
{\tt mdt_{i}}
{\tt(pm,dt)}
{\tt pm}
{\tt dt}
\#
+
-
{\tt r}
<
<
<
<
<
<
