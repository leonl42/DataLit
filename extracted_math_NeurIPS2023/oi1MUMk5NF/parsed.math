\pi
\mathcal{B}
10
<
\pi
D
D
\mathcal{B}
D
\pi
D
\mathcal{B}
D^{\prime}
\mathcal{B}
D^{\prime}
\pi
D^{\prime}
\mathcal{B}
D
\pi_{\theta}
D
\left\{(s_{i},a_{i},p_{i},r_{i})\right\}_{i=1}^{N}
p_{i}=\pi_{\text{old}}(a_{i}|s_{i})
\pi_{\text{old}}
L^{\operatorname{PPO}}_{i}(\pi,D)
L^{\operatorname{PPO}}_{i}(\pi,D)=-\min\left(\frac{\pi_{\theta}(a_{i}|s_{i})}{%
\pi_{\hat{\theta}}(a_{i}|s_{i})}\cdot\hat{A}_{i},\operatorname{clip}\left(%
\frac{\pi_{\theta}(a_{i}|s_{i})}{\pi_{\hat{\theta}}(a_{i}|s_{i})},1-\epsilon,1%
+\epsilon\right)\hat{A}_{i}\right),
\hat{\theta}
\hat{A}_{i}
L^{\operatorname{RRR}}(\pi,D)=\frac{1}{|S|}\cdot\sum_{i\in S}\left(\frac{\pi_{%
\hat{\theta}}(a_{i}|s_{i})}{p_{i}}\cdot L^{\operatorname{PPO}}_{i}(\pi,D)-e_{%
\theta}H(\cdot|s_{i})\right),
e_{\theta}
\pi_{\theta}
S=\left\{1\leq i\leq N:\pi_{\hat{\theta}}(a_{i}|s_{i})/p_{i}<\sigma\right\}
\sigma
D
\pi
\operatorname{fit}_{\pi}(D)=|S|/N
\sigma
\sigma
\sigma=2
X
I
E
\bullet
\mathcal{B}
\mathcal{B}_{\text{large}}
\mathcal{B}
\mathcal{B}_{\text{large}}
\bullet
I
0.5
\bullet
E_{1},E_{2}
\bullet
X
0.01
<
I
D
D
I
X
\mathcal{B}
X
D
D
X
D
D^{\prime}
\mathcal{B}
X
D^{\prime}
\mathcal{B}
E\in\left\{E_{1},E_{2}\right\}
E
D
D
E
X
D^{\prime}
\mathcal{B}_{\text{large}}
E_{2}
D
D
\mathcal{B}
\mathcal{B}_{\text{large}}
\vartheta
\vartheta
50\%
\pi
\mathcal{B}
20
<
\pi
D
D
\mathcal{B}
\pi
D
D^{\prime}
\mathcal{B}
D
D^{\prime}
D^{\prime}
\pi
D^{\prime}
\mathcal{B}
D
\mathcal{B}
r_{D}\geq\text{mean}(\mathcal{B})
\mathcal{B}
r_{D}>\text{mean}(\mathcal{R})+\text{std}(\mathcal{R})
\mathcal{B}
r_{D}
D
\mathcal{R}
D^{\prime}
\mathcal{B}
D
D^{\prime}
\mathcal{B}
r_{D^{\prime}}>r_{D}+\text{std}(\mathcal{B})
\overline{R}
\overline{R}/2
Q
y
x
\sigma=2
\vartheta=0.77+0.023\cdot\operatorname{len}(\mathcal{B})
\vartheta=0.6
