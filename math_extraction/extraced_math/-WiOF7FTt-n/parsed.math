('2.0', 'x')
('2.0', '(x_1,x_2)')
('2.0', 'f')
('2.0', 'p')
('2.0', '(z_1,z_2)')
('2.0', '(z_1,z_2)')
('2.0', '\\mathcal{P}')
('2.0', 'x_i')
('2.0', '\\mathcal{N}')
('2.0', '\\begin{aligned}\n\\mathcal{L} _{CL}= \n -\\log\\frac{  \\exp(s( z_1,z_2)/t )           }    { \\exp(s( z_1,z_2)/t )\n     +\\sum_{i=1}^{\\left |\\mathcal{N}\\right |}\\exp(s( z_1,z_i^{-})/t )}   \n\\label{equation1}\n\\end{aligned}')
('2.0', 's(z_1,z_2)')
('2.0', 'z_1')
('2.0', 'z_2')
('2.0', 'z_i^{-}')
('2.0', 't')
('3.0', 'k')
('3.1', '\\begin{aligned}\n\\nabla_{\\theta}\\mathcal{L} _{BCE}= \n\\left\\{\\begin{matrix}\n( (s( z_i,z_k)-1)\\nabla_{\\theta}s(z_i,z_k)  & if \\thinspace  z_k\\in  \\mathcal{P} \n \\\\ \ns( z_i,z_k)\\nabla_{\\theta}s( z_i,z_k)  &if \\thinspace   z_k\\in  \\mathcal{N}  \n\\end{matrix}\\right.\n\\label{equation2}\n\\end{aligned}')
('3.1', 'z_i')
('3.1', 'z_k')
('3.1', 'z_i')
('3.1', 's(z_i,z_k)')
('3.1', 's(z_i,z_k)')
('3.1', 's(z_i,z_k)\\rightarrow 0')
('3.1', '\\nabla_{\\theta}\\mathcal{L} _{BCE}')
('3.1', '\\nabla_{\\theta}s( z_i,z_k)')
('4', '(x_1, x_2)')
('4', '(z_1, z_2)')
('4', 'z_1')
('4', 'q_1')
('4.0', 'z_1')
('4.0', 'z_2')
('4.0', 'k')
('4.0', '\\begin{aligned}\n {\\rm NN}(z_2)=\\underset{z_i}{{\\arg} \\,  {\\rm top_k}}\\{s(z_2,z_i)\\mid \\forall i\\in \\{ 1,\\dots   ,\\left |M \\right |\\}   \\},{\\rm where}  \\left | {\\rm NN}(z_2)\\right |=k    \n     \\label{equation3}\n\\end{aligned}')
('4.0', '{\\rm NN}(z_2)')
('4.0', 'k')
('4.0', 'z_2')
('4.0', '\\left |M \\right |')
('4.0.0', 'z_2')
('4.0.0', 'z_1')
('4.0.0', 'z_2')
('4.0.0', 'w_0')
('4.0.0', '\\begin{aligned}\n\\mathcal{L} _{hard}= \n -w_0\\log\\frac{  \\exp(s( q_1,z_2)/t )           }    {\\exp(s( q_1,z_2)/t )\n     +\\sum_{i=1}^{2(N-1)}\\exp(s( q_1,z_2^{i-})/t )}   \n     \\label{equation4}\n\\end{aligned}')
('4.0.0', 'q_1')
('4.0.0', 'z_2')
('4.0.0', 'N')
('4.0.0.0', 'w_i')
('4.0.0.0', 'w_i')
('4.0.0.0', '\\begin{aligned}\nw_i=\\frac{\\exp(s(z_1,{\\rm NN}(z_2)_i))}{\\sum_{j=1}^{k}\\exp(s(z_1,{\\rm NN}(z_2)_j)))}  \n     \\label{equation5}\n\\end{aligned}')
('4.0.0.0', '{\\rm NN}(z_2)_i')
('4.0.0.0', 'z_1')
('4.0.0.0', '\\sum_{i=1}^{k}w_i =1')
('4.0.0.0', '\\begin{aligned}\n\\mathcal{L} _{soft}= \n -\\sum_{i=0}^{k}w_i\\log \\frac{  \\exp(s( q_1,{\\rm NN}(z_2)_i)/t )           }    { \\sum_{m=0}^{k}\\exp(s( q_1,{\\rm NN}(z_2)_m)/t )\n     +\\sum_{l=1}^{N-1}\\sum_{j=0}^{k}\\exp(s( q_1,{\\rm NN}(z_2^{l-})_j)/t )}   \n     \\label{equation6}\n\\end{aligned}')
('4.0.0.0', '\\rm NN(z_2)_0')
('4.0.0.0', 'z_2')
('4.0.0.0', '\\mathcal{L} _{soft}')
('4.1', '\\begin{aligned}\np_i(q_1;z_i^{-})=\\exp(-a(s(q_1,z_i^{-})-s(q_1,z_2))^{2}),\\forall z_i^{-} \\in \\mathcal{N} \n     \\label{equation8}\n\\end{aligned}')
('4.1', 's(q_1,z_2)')
('4.1', 's(q_1,z_i^{-})')
('4.1', 'a')
('4.1', 'q_1')
('4.1', '\\begin{aligned}\n\\mathcal{N}_{mine}(q_1)=\\{ \\mathcal{B}(z_i^{-};p_i(q_1;z_i^{-}))\\mid z_i^{-}\\in \\mathcal{N}    \\}\n     \\label{equation9}\n\\end{aligned}')
('4.1', '\\mathcal{B}(z,p)')
('4.1', 'z')
('4.1', 'p')
('4.1', '(N-1)\\times(k+1)')
('4.2', '\\begin{aligned}\n\\sum_{i=1}^{2(N-1)}\\exp(s( q_1,z_2^{i-})/t ) \\xrightarrow{mine}\n\\sum_{i=1}^{\\left |\\mathcal{N}_{mine}^{hard}\\right |}\\exp(s( q_1,z_i^{-}/t )\n     \\label{equation10}\n\\end{aligned}')
('4.2', '\\begin{aligned}\n\\sum_{l=1}^{N-1}\\sum_{j=0}^{k}\\exp(s( q_1,{\\rm NN}(z_2^{l-})_j)/t ) \\xrightarrow{mine}\n\\sum_{i=1}^{\\left |\\mathcal{N}_{mine}^{soft}\\right |}\\exp(s( q_1,z_i^{-}/t )\n     \\label{equation10}\n\\end{aligned}')
('4.2', '\\mathcal{N}_{mine}^{hard}')
('4.2', '\\mathcal{N}_{mine}^{soft}')
('4.2', '\\begin{aligned}\n\\mathcal{L} _{PSM}= \n\\mathcal{L} _{soft}+\\lambda \\mathcal{L} _{hard}\n     \\label{equation7}\n\\end{aligned}')
('4.2', '\\lambda')
('4.2', '\\mathcal{L} _{hard}')
('4.2', '\\mathcal{L} _{PSM}')
('4.2', '\\lambda =1')
('5.0.0.1', 't')
('5.0.0.1', 'k')
('5.0.0.1', '\\lambda')
('5.1', '\\%')
('5.1', '\\mathcal{L} _{hard}')
('5.1', '\\mathcal{L} _{soft}')
('5.2.0.0', '\\mathcal{L} _{soft}')
('5.2.0.0', '\\mathcal{L} _{hard}')
('5.2.0.0', '\\mathcal{L} _{soft}')
('5.2.0.0', '\\mathcal{L} _{hard}')
('5.2.0.0', '\\mathcal{L} _{soft}')
('5.2.0.0', '\\mathcal{L} _{hard}')
('5.2.0.0', '\\mathcal{L} _{soft}')
('5.2.0.1', '1/k')
('5.2.0.1', '1/k')
('5.2.0.1', '1/k')
('5.2.0.1', "k^{'}")
('5.2.0.1', "1/k^{'}")
('5.2.0.1', "k^{'}")
('5.3.0', 'k')
('5.3.0', '\\lambda')
('5.3.0.1', '\\lambda')
('5.3.0.1', '\\mathcal{L} _{soft}')
('5.3.0.1', '\\mathcal{L} _{hard}')
('7', '\\_')
('9', '\\begin{aligned}\n\\mathcal{L} _{BCE}=-y_{i,k}\\log (s(z_i,z_k))-(1-y_{i,k})\\log(1-s(z_i,z_k))\n\\end{aligned}')
('9', 's(z_i,z_k)')
('9', 'z_k')
('9', 'z_i')
('9', 's')
('9', 'y_{i,k}')
('9', '\\begin{aligned}\n\\mathcal{L} _{BCE}= \n\\left\\{\\begin{matrix}\n -\\log (s(z_i,z_k))   & if  \\thinspace  y_{i,k}=1\n \\\\ \n -\\log (1-s(z_i,z_k))  & if  \\thinspace   y_{i,k}=0  \n\\end{matrix}\\right.\n\\end{aligned}')
('9', 's(z_i,z_k)')
('9', 's')
('9', '\\begin{aligned}\n\\frac{\\partial \\mathcal{L} _{BCE}}{\\partial s} = y_{i,k}(s(z_i,z_k)-1)+(1-y_{i,k})s(z_i,z_k)\n\\end{aligned}')
('9', 'y_{i,k}=1')
('9', 'z_i')
('9', 'z_k')
('9', 'z_k\\in  \\mathcal{P}')
('9', '\\begin{aligned}\n\\frac{\\partial \\mathcal{L} _{BCE}}{\\partial s} = \\left\\{\\begin{matrix}\n s(z_i,z_k)-1  & if  \\thinspace  z_k\\in  \\mathcal{P} \\\\ \n s(z_i,z_k)  & if  \\thinspace z_k\\in  \\mathcal{N}\n\\end{matrix}\\right.\n\\end{aligned}')
('9', '\\begin{aligned}\n\\nabla_{\\theta}\\mathcal{L} _{BCE}= \\frac{\\partial \\mathcal{L} _{BCE}}{\\partial s}\\nabla_{\\theta}s(z_i,z_k) =\n\\left\\{\\begin{matrix}\n( s( z_i,z_k)-1)\\nabla_{\\theta}s( z_i,z_k)  & if $\\thinspace$  z_k\\in  \\mathcal{P} \n \\\\ \ns( z_i,z_k)\\nabla_{\\theta}s( z_i,z_k)  &if $\\thinspace$   z_k\\in  \\mathcal{N}  \n\\end{matrix}\\right.\n\\end{aligned}')
